<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_StandardOutputs"
             name="SHARED: Standard 5-Output Column Definitions (LEAN TIER-2)"
             namespace="http://camunda.org/schema/1.0/dmn">
  <!--
    Version: 1.0.0
    Last Updated: 2026-02-08
    Purpose: Reusable output column definitions for LEAN TIER-2 format
    Usage: Include/reference these output definitions in specialty-specific DMN tables

    LEAN TIER-2 FORMAT (5 OUTPUTS):
    1. resultado (string) - Aprovado/Reprovado/Pendente
    2. observacao (string) - Human-readable explanation
    3. fundamentacao (string) - Clinical/regulatory justification
    4. alertasDesperdicio (string) - Waste prevention flags
    5. acaoRecomendada (string) - Recommended action

    Benefits:
    - Consistent output schema across all specialties
    - Reduced XML duplication (5 output definitions × 936 files = 4,680 blocks)
    - Easier maintenance and updates
    - Copy-paste reusable fragments for new rules
  -->

  <decision id="Decision_StandardOutputs" name="Standard Output Column Template">
    <decisionTable id="DecisionTable_StandardOutputs" hitPolicy="FIRST">

      <!-- STANDARD 5-OUTPUT COLUMNS (LEAN TIER-2) -->

      <!-- Output 1: resultado (Primary decision) -->
      <output id="Output_resultado" name="resultado" typeRef="string">
        <outputValues>
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: observacao (Human-readable explanation) -->
      <output id="Output_observacao" name="observacao" typeRef="string"/>

      <!-- Output 3: fundamentacao (Clinical/regulatory rationale) -->
      <output id="Output_fundamentacao" name="fundamentacao" typeRef="string"/>

      <!-- Output 4: alertasDesperdicio (Waste prevention flags) -->
      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues>
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: acaoRecomendada (Recommended action) -->
      <output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string">
        <outputValues>
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- EXAMPLE RULE: Template for copy-paste -->
      <rule id="Rule_Template_Example">
        <description>Template rule showing 5-output format - DELETE THIS IN PRODUCTION</description>
        <outputEntry><text>"Pendente"</text></outputEntry>
        <outputEntry><text>"Observação aqui"</text></outputEntry>
        <outputEntry><text>"Fundamentação clínica/regulatória aqui"</text></outputEntry>
        <outputEntry id="OE_Rule_Template_alerta"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_Template_acao"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>

  <!--
    WASTE PREVENTION FLAGS (alertasDesperdicio):
    - NENHUM: No waste flags detected
    - DUP: Duplication (duplicate request/test)
    - FREQ: Frequency violation (too soon for repeat)
    - ESC: Escalation (jumping treatment lines)
    - DOC: Documentation missing/incomplete
    - PROT: Protocol violation (not indicated clinically)
    - MULTI: Multiple flags apply

    RECOMMENDED ACTIONS (acaoRecomendada):
    - APROVAR: Approve the request
    - NEGAR: Deny the request (clinical/regulatory reason)
    - SOLICITAR_INFO: Request additional documentation
    - AGUARDAR_PRAZO: Wait for required time period
    - SUGERIR_ALTERNATIVA: Suggest alternative procedure/medication
  -->

</definitions>
