<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_COL_004"
             name="Apendicite - Escore de Alvarado"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-COL-004 - Apendicite Aguda - Criterios pelo Escore de Alvarado
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral
    Categoria: Procedimentos Cirurgicos de Urgencia

    Escore de Alvarado (MANTRELS):
    - Migracao da dor (1)
    - Anorexia (1)
    - Nausea/Vomito (1)
    - Dor em FID (2)
    - Rebound (1)
    - Elevacao temperatura (1)
    - Leucocitose (2)
    - Shift to left (1)
    Total: 10 pontos

    Interpretacao:
    - 0-4: Apendicite improvavel - observacao
    - 5-6: Apendicite possivel - imagem
    - 7-8: Apendicite provavel - cirurgia
    - 9-10: Apendicite muito provavel - cirurgia

    Abordagens:
    - Laparoscopica: Padrao ouro
    - Aberta: Peritonite difusa, multiplas cirurgias previas

    Documentacao Obrigatoria:
    - Exame fisico documentado
    - Hemograma
    - TC/USG se escore intermediario

    Referencias Normativas:
    - WSES Jerusalem Guidelines 2020
    - EAES/SAGES Guidelines 2021
    - SAGES Safe Cholecystectomy/Appendectomy
  -->

  <decision id="Decision_GEN_COL_004" name="Criterios de Autorizacao - Apendicectomia">
    <decisionTable id="DecisionTable_GEN_COL_004" hitPolicy="FIRST">

      <!-- Input 1: Escore de Alvarado -->
      <input id="Input_alvarado" label="Escore de Alvarado">
        <inputExpression id="InputExpr_alvarado" typeRef="string">
          <text>escoreAlvarado</text>
        </inputExpression>
        <inputValues id="InputValues_alvarado">
          <text>"Baixo_0_4","Intermediario_5_6","Alto_7_8","Muito_Alto_9_10","Nao_Calculado"</text>
        </inputValues>
      </input>

      <!-- Input 2: Exame de Imagem -->
      <input id="Input_imagem" label="Exame de Imagem (TC/USG)">
        <inputExpression id="InputExpr_imagem" typeRef="string">
          <text>exameImagem</text>
        </inputExpression>
        <inputValues id="InputValues_imagem">
          <text>"Positivo_Apendicite","Negativo","Inconclusivo","Nao_Realizado"</text>
        </inputValues>
      </input>

      <!-- Input 3: Complicacoes -->
      <input id="Input_complicacoes" label="Complicacoes">
        <inputExpression id="InputExpr_complicacoes" typeRef="string">
          <text>complicacoes</text>
        </inputExpression>
        <inputValues id="InputValues_complicacoes">
          <text>"Nenhuma","Perfurado","Abscesso","Peritonite","Plastrao"</text>
        </inputValues>
      </input>

      <!-- Input 4: Hemograma -->
      <input id="Input_hemograma" label="Hemograma Realizado">
        <inputExpression id="InputExpr_hemograma" typeRef="boolean">
          <text>hemogramaRealizado</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_COL_004_Reprovado_EscoreBaixo_SemImagem">
        <description>Reprovado - Escore baixo sem confirmacao por imagem</description>
        <inputEntry id="IE_Rep1_1"><text>"Baixo_0_4"</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Nao_Realizado","Negativo"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>"Nenhuma"</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Escore de Alvarado 0-4 com imagem negativa - apendicite improvavel. Observacao clinica ou investigacao de diagnostico alternativo."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"WSES 2020 - Low Alvarado Score Management"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Reprovado_EscoreBaixo_SemImagem_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Reprovado_EscoreBaixo_SemImagem_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Reprovado_SemHemograma">
        <description>Reprovado - Sem hemograma</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>"Nenhuma"</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Hemograma obrigatorio para avaliacao de leucocitose e calculo do escore de Alvarado."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"WSES 2020 - Laboratory Workup Required"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Reprovado_SemHemograma_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Reprovado_SemHemograma_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Laudo de indicacao obrigatorio com exame fisico, escore de Alvarado e justificativa cirurgica."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_COL_004_Aprovado_Complicada">
        <description>Aprovado - Apendicite complicada (urgencia)</description>
        <inputEntry id="IE_Apr1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>"Perfurado","Peritonite"</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"URGENCIA - Apendicite complicada (perfurada/peritonite). Apendicectomia de urgencia indicada. Antibioticoterapia ampla."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"WSES 2020 - Complicated Appendicitis"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Aprovado_Complicada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Aprovado_Complicada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Aprovado_EscoreAlto">
        <description>Aprovado - Escore alto/muito alto</description>
        <inputEntry id="IE_Apr2_1"><text>"Alto_7_8","Muito_Alto_9_10"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"Nenhuma"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Escore de Alvarado 7-10 - apendicite muito provavel. Apendicectomia laparoscopica aprovada. Imagem opcional neste escore."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"WSES 2020 - High Alvarado Score Surgery"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Aprovado_EscoreAlto_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Aprovado_EscoreAlto_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Aprovado_ImagemPositiva">
        <description>Aprovado - Confirmacao por imagem</description>
        <inputEntry id="IE_Apr3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Positivo_Apendicite"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>"Nenhuma"</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Apendicite confirmada por TC/USG - apendicectomia laparoscopica aprovada independente do escore clinico."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"WSES 2020 - Imaging Confirmed Appendicitis"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Aprovado_ImagemPositiva_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Aprovado_ImagemPositiva_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_COL_004_Pendente_EscoreIntermediario">
        <description>Pendente - Escore intermediario sem imagem</description>
        <inputEntry id="IE_Pend1_1"><text>"Intermediario_5_6"</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>"Nao_Realizado"</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>"Nenhuma"</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Escore de Alvarado 5-6 requer confirmacao por imagem (TC preferida, USG alternativa) antes de indicar cirurgia."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"WSES 2020 - Intermediate Score Imaging"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Pendente_EscoreIntermediario_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Pendente_EscoreIntermediario_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Pendente_Plastrao">
        <description>Pendente - Plastrao apendicular</description>
        <inputEntry id="IE_Pend2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_3"><text>"Plastrao"</text></inputEntry>
        <inputEntry id="IE_Pend2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend2_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend2_2"><text>"Plastrao apendicular - considerar tratamento conservador inicial com antibioticos e apendicectomia de intervalo apos 6-8 semanas."</text></outputEntry>
        <outputEntry id="OE_Pend2_3"><text>"WSES 2020 - Appendiceal Phlegmon Management"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Pendente_Plastrao_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Pendente_Plastrao_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_COL_004_Pendente_Abscesso">
        <description>Pendente - Abscesso periapendicular</description>
        <inputEntry id="IE_Pend3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_3"><text>"Abscesso"</text></inputEntry>
        <inputEntry id="IE_Pend3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend3_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend3_2"><text>"Abscesso periapendicular - avaliar drenagem percutanea + antibioticos vs apendicectomia imediata. Depende de tamanho e condicoes clinicas."</text></outputEntry>
        <outputEntry id="OE_Pend3_3"><text>"WSES 2020 - Abscess Management Options"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Pendente_Abscesso_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Pendente_Abscesso_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_COL_004_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso de apendicite requer analise por auditor medico."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_COL_004_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_COL_004_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
