<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_002"
             name="Hernia Inguinal - Laparoscopica vs Aberta"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-002 - Hernia Inguinal - Selecao de Abordagem Laparoscopica vs Aberta
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Indicacoes para Abordagem Laparoscopica (EHS 2018 / HerniaSurge 2018):
    - Hernia inguinal bilateral (indicacao preferencial)
    - Hernia inguinal recidivada apos reparo anterior aberto
    - Preferencia do paciente por recuperacao mais rapida
    - Cirurgiao experiente em tecnicas laparoscopicas (>100 casos)

    Indicacoes para Abordagem Aberta:
    - Hernia inguinal unilateral primaria (ambas aceitaveis)
    - Contraindicacao a anestesia geral
    - Cirurgias abdominais previas extensas (relativa para TAPP)
    - Disponibilidade de recursos/experiencia

    Tecnicas:
    - Aberta: Lichtenstein (padrao ouro tension-free)
    - Laparoscopica: TEP (totalmente extraperitoneal) ou TAPP (transabdominal)

    Documentacao Obrigatoria:
    - Tipo de hernia e lateralidade
    - Historia cirurgica previa
    - Justificativa da escolha tecnica

    Referencias Normativas:
    - EHS Guidelines 2018 - Surgical Techniques
    - HerniaSurge Guidelines 2018
    - SAGES Guidelines for Laparoscopic Hernia Repair
  -->

  <decision id="Decision_GEN_HER_002" name="Criterios de Autorizacao - Hernia Inguinal Laparoscopica vs Aberta">
    <decisionTable id="DecisionTable_GEN_HER_002" hitPolicy="FIRST">

      <!-- Input 1: Lateralidade -->
      <input id="Input_lateralidade" label="Lateralidade da Hernia">
        <inputExpression id="InputExpr_lateralidade" typeRef="string">
          <text>lateralidade</text>
        </inputExpression>
        <inputValues id="InputValues_lateralidade">
          <text>"Unilateral","Bilateral"</text>
        </inputValues>
      </input>

      <!-- Input 2: Status da Hernia -->
      <input id="Input_statusHernia" label="Status da Hernia">
        <inputExpression id="InputExpr_statusHernia" typeRef="string">
          <text>statusHernia</text>
        </inputExpression>
        <inputValues id="InputValues_statusHernia">
          <text>"Primaria","Recidivada_Apos_Aberta","Recidivada_Apos_Laparoscopica"</text>
        </inputValues>
      </input>

      <!-- Input 3: Abordagem Solicitada -->
      <input id="Input_abordagem" label="Abordagem Solicitada">
        <inputExpression id="InputExpr_abordagem" typeRef="string">
          <text>abordagemSolicitada</text>
        </inputExpression>
        <inputValues id="InputValues_abordagem">
          <text>"Laparoscopica_TEP","Laparoscopica_TAPP","Aberta_Lichtenstein","Aberta_Shouldice"</text>
        </inputValues>
      </input>

      <!-- Input 4: Contraindicacao Anestesia Geral -->
      <input id="Input_contraindicacaoAG" label="Contraindicacao Anestesia Geral">
        <inputExpression id="InputExpr_contraindicacaoAG" typeRef="boolean">
          <text>contraindicacaoAnestesiaGeral</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_002_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Laudo de indicacao obrigatorio documentando tipo de hernia, lateralidade e justificativa da abordagem escolhida."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_002_Reprovado_LapContraindicacaoAG">
        <description>Reprovado - Laparoscopica com contraindicacao a AG</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>"Laparoscopica_TEP","Laparoscopica_TAPP"</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Abordagem laparoscopica contraindicada em paciente com contraindicacao a anestesia geral. Realizar reparo aberto sob anestesia local/regional."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"EHS 2018 - Local Anesthesia Indication"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Reprovado_LapContraindicacaoAG_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Reprovado_LapContraindicacaoAG_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_002_Reprovado_RecidivaLap_Lap">
        <description>Reprovado - Recidiva pos-laparoscopica com nova laparoscopica</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>"Recidivada_Apos_Laparoscopica"</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>"Laparoscopica_TEP","Laparoscopica_TAPP"</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Hernia recidivada apos reparo laparoscopico - abordagem aberta (Lichtenstein) recomendada para evitar plano dissecado previamente."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"HerniaSurge 2018 - Recurrent Hernia Approach"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Reprovado_RecidivaLap_Lap_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Reprovado_RecidivaLap_Lap_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_002_Aprovado_Bilateral_Laparoscopica">
        <description>Aprovado - Hernia bilateral laparoscopica (indicacao preferencial)</description>
        <inputEntry id="IE_Apr1_1"><text>"Bilateral"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>"Laparoscopica_TEP","Laparoscopica_TAPP"</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Hernia inguinal bilateral - abordagem laparoscopica e indicacao preferencial. Permite reparo bilateral em um unico procedimento com menor dor pos-operatoria."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2018 / HerniaSurge 2018 - Bilateral Hernia Laparoscopic"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Aprovado_Bilateral_Laparoscopica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Aprovado_Bilateral_Laparoscopica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_002_Aprovado_Recidiva_Laparoscopica">
        <description>Aprovado - Recidiva pos-aberta com laparoscopica</description>
        <inputEntry id="IE_Apr2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"Recidivada_Apos_Aberta"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"Laparoscopica_TEP","Laparoscopica_TAPP"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Hernia recidivada apos reparo aberto - abordagem laparoscopica indicada (plano posterior virgem). Menor morbidade que reoperar no mesmo plano."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"HerniaSurge 2018 - Recurrent Hernia Posterior Approach"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Aprovado_Recidiva_Laparoscopica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Aprovado_Recidiva_Laparoscopica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_002_Aprovado_Unilateral_Aberta">
        <description>Aprovado - Hernia unilateral primaria aberta Lichtenstein</description>
        <inputEntry id="IE_Apr3_1"><text>"Unilateral"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Primaria"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>"Aberta_Lichtenstein"</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Hernia inguinal unilateral primaria - reparo aberto Lichtenstein aprovado. Tecnica padrao ouro tension-free com excelentes resultados a longo prazo."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EHS 2018 - Lichtenstein Gold Standard"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Aprovado_Unilateral_Aberta_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Aprovado_Unilateral_Aberta_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_002_Aprovado_Unilateral_Laparoscopica">
        <description>Aprovado - Hernia unilateral primaria laparoscopica</description>
        <inputEntry id="IE_Apr4_1"><text>"Unilateral"</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>"Primaria"</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>"Laparoscopica_TEP","Laparoscopica_TAPP"</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Hernia inguinal unilateral primaria - abordagem laparoscopica aprovada. Resultados equivalentes a Lichtenstein quando realizada por cirurgiao experiente."</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"HerniaSurge 2018 - Laparoscopic Equipoise"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Aprovado_Unilateral_Laparoscopica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Aprovado_Unilateral_Laparoscopica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_002_Pendente_Shouldice">
        <description>Pendente - Shouldice requer justificativa especifica</description>
        <inputEntry id="IE_Pend1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>"Aberta_Shouldice"</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Tecnica de Shouldice sem tela - justificar indicacao especifica (ex: contraindicacao a tela, infeccao, preferencia do paciente informado). Lichtenstein com tela e padrao."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2018 - Non-mesh Repair Justification"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Pendente_Shouldice_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Pendente_Shouldice_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_002_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise por auditor medico para validacao da escolha da abordagem."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_002_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_002_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
