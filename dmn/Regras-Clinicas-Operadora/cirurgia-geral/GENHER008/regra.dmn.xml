<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_008"
             name="Hernia Recorrente - Selecao de Abordagem"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-008 - Hernia Recorrente - Selecao de Abordagem para Reparo
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Principios (HerniaSurge 2018 / EHS 2019):
    - Usar abordagem diferente do reparo anterior
    - Recidiva pos-anterior: Considerar posterior (laparoscopico)
    - Recidiva pos-posterior: Considerar anterior (aberto)
    - Hernias recorrentes multiplas: Centro de referencia

    Causas de Recidiva:
    - Tecnica inadequada
    - Infeccao de tela
    - Tamanho inadequado de tela
    - Fixacao insuficiente
    - Fatores do paciente (obesidade, tabagismo, tosse cronica)

    Avaliacao Pre-operatoria:
    - Identificar tecnica anterior (relatorio cirurgico)
    - Avaliar localizacao anatomica da recidiva
    - Considerar TC para planejamento

    Documentacao Obrigatoria:
    - Relatorio da(s) cirurgia(s) anterior(es)
    - Avaliacao da causa provavel da recidiva
    - Justificativa da nova abordagem escolhida

    Referencias Normativas:
    - HerniaSurge Guidelines 2018 - Recurrent Hernia
    - EHS Guidelines 2019 - Ventral Hernia Recurrence
  -->

  <decision id="Decision_GEN_HER_008" name="Criterios de Autorizacao - Hernia Recorrente Abordagem">
    <decisionTable id="DecisionTable_GEN_HER_008" hitPolicy="FIRST">

      <!-- Input 1: Abordagem Anterior -->
      <input id="Input_abordagemAnterior" label="Abordagem do Reparo Anterior">
        <inputExpression id="InputExpr_abordagemAnterior" typeRef="string">
          <text>abordagemAnterior</text>
        </inputExpression>
        <inputValues id="InputValues_abordagemAnterior">
          <text>"Anterior_Aberta","Posterior_Laparoscopica","Multiplas_Abordagens","Desconhecida"</text>
        </inputValues>
      </input>

      <!-- Input 2: Abordagem Proposta -->
      <input id="Input_abordagemProposta" label="Abordagem Proposta Atual">
        <inputExpression id="InputExpr_abordagemProposta" typeRef="string">
          <text>abordagemProposta</text>
        </inputExpression>
        <inputValues id="InputValues_abordagemProposta">
          <text>"Anterior_Aberta","Posterior_Laparoscopica","Robotica"</text>
        </inputValues>
      </input>

      <!-- Input 3: Numero de Recidivas Previas -->
      <input id="Input_numeroRecidivas" label="Numero de Recidivas Previas">
        <inputExpression id="InputExpr_numeroRecidivas" typeRef="string">
          <text>numeroRecidivas</text>
        </inputExpression>
        <inputValues id="InputValues_numeroRecidivas">
          <text>"Primeira_Recidiva","Segunda_Recidiva","Multiplas_Recidivas"</text>
        </inputValues>
      </input>

      <!-- Input 4: Relatorio Cirurgico Anterior -->
      <input id="Input_relatorioCirurgico" label="Relatorio Cirurgico Anterior Disponivel">
        <inputExpression id="InputExpr_relatorioCirurgico" typeRef="boolean">
          <text>relatorioCirurgicoAnterior</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_008_Reprovado_MesmaAbordagem">
        <description>Reprovado - Mesma abordagem da cirurgia anterior</description>
        <inputEntry id="IE_Rep1_1"><text>"Anterior_Aberta"</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Anterior_Aberta"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Abordagem identica a cirurgia anterior (anterior-anterior) nao recomendada. Preferir abordagem posterior (laparoscopica) para acessar plano nao operado."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"HerniaSurge 2018 - Change Approach for Recurrence"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Reprovado_MesmaAbordagem_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Reprovado_MesmaAbordagem_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_008_Reprovado_MesmaAbordagem_Lap">
        <description>Reprovado - Laparoscopica apos laparoscopica</description>
        <inputEntry id="IE_Rep2_1"><text>"Posterior_Laparoscopica"</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"Posterior_Laparoscopica"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Abordagem identica a cirurgia anterior (posterior-posterior) nao recomendada. Preferir abordagem anterior (Lichtenstein) para acessar plano virgem."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"HerniaSurge 2018 - Change Approach for Recurrence"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Reprovado_MesmaAbordagem_Lap_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Reprovado_MesmaAbordagem_Lap_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_008_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Laudo de indicacao obrigatorio com analise da recidiva, abordagem anterior e justificativa da nova tecnica."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_008_Aprovado_Anterior_Para_Posterior">
        <description>Aprovado - Abordagem posterior apos anterior previa</description>
        <inputEntry id="IE_Apr1_1"><text>"Anterior_Aberta"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Posterior_Laparoscopica","Robotica"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>"Primeira_Recidiva"</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Recidiva apos reparo anterior - abordagem posterior laparoscopica/robotica aprovada. Acessa plano nao dissecado previamente com melhores resultados."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"HerniaSurge 2018 - Posterior Approach for Anterior Recurrence"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Aprovado_Anterior_Para_Posterior_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Aprovado_Anterior_Para_Posterior_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_008_Aprovado_Posterior_Para_Anterior">
        <description>Aprovado - Abordagem anterior apos posterior previa</description>
        <inputEntry id="IE_Apr2_1"><text>"Posterior_Laparoscopica"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"Anterior_Aberta"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"Primeira_Recidiva"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Recidiva apos reparo posterior - abordagem anterior aberta (Lichtenstein) aprovada. Acessa plano virgem."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"HerniaSurge 2018 - Anterior Approach for Posterior Recurrence"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Aprovado_Posterior_Para_Anterior_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Aprovado_Posterior_Para_Anterior_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_008_Pendente_MultiplasRecidivas">
        <description>Pendente - Multiplas recidivas requer centro especializado</description>
        <inputEntry id="IE_Pend1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>"Multiplas_Recidivas"</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Multiplas recidivas de hernia - caso complexo que requer encaminhamento para centro de referencia em parede abdominal. Anexar parecer de especialista."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"HerniaSurge 2018 - Complex Recurrence Referral"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Pendente_MultiplasRecidivas_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Pendente_MultiplasRecidivas_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_008_Pendente_SemRelatorio">
        <description>Pendente - Sem relatorio da cirurgia anterior</description>
        <inputEntry id="IE_Pend2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Pend2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Pend2_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend2_2"><text>"Relatorio da cirurgia anterior necessario para planejamento adequado. Identificar abordagem, tipo de tela e posicionamento para definir melhor estrategia."</text></outputEntry>
        <outputEntry id="OE_Pend2_3"><text>"HerniaSurge 2018 - Prior Surgery Documentation"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Pendente_SemRelatorio_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Pendente_SemRelatorio_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_008_Pendente_AbordagemDesconhecida">
        <description>Pendente - Abordagem anterior desconhecida</description>
        <inputEntry id="IE_Pend3_1"><text>"Desconhecida"</text></inputEntry>
        <inputEntry id="IE_Pend3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend3_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend3_2"><text>"Abordagem da cirurgia anterior desconhecida - obter relatorio cirurgico ou realizar TC para identificar posicionamento de tela previa antes de definir estrategia."</text></outputEntry>
        <outputEntry id="OE_Pend3_3"><text>"HerniaSurge 2018 - Unknown Prior Approach"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Pendente_AbordagemDesconhecida_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Pendente_AbordagemDesconhecida_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_008_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso de hernia recorrente requer analise por auditor medico especializado em parede abdominal."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_008_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_008_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
