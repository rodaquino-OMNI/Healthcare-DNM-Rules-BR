<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_004"
             name="Hernia Umbilical - Criterios de Tamanho"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-004 - Hernia Umbilical - Criterios de Tamanho para Indicacao Cirurgica
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Indicacoes Clinicas (EHS 2020 / SAGES):
    - Hernia umbilical sintomatica (dor, desconforto)
    - Hernia com anel >1cm em adulto
    - Hernia encarcerada ou estrangulada
    - Hernia com aumento progressivo

    Consideracoes por Tamanho:
    - Pequena (<1cm): Sutura primaria pode ser considerada
    - Media (1-4cm): Reparo com tela recomendado
    - Grande (>4cm): Tela obrigatoria, considerar separacao de componentes

    Fatores de Risco para Recidiva:
    - Obesidade (IMC >30)
    - Ascite
    - DPOC/tosse cronica
    - Reparo sem tela

    Documentacao Obrigatoria:
    - Exame fisico documentando tamanho do defeito
    - USG de parede abdominal para medicao precisa
    - IMC do paciente

    Referencias Normativas:
    - EHS Guidelines 2020 - Umbilical and Epigastric Hernia
    - SAGES Guidelines - Umbilical Hernia Repair
  -->

  <decision id="Decision_GEN_HER_004" name="Criterios de Autorizacao - Hernia Umbilical Tamanho">
    <decisionTable id="DecisionTable_GEN_HER_004" hitPolicy="FIRST">

      <!-- Input 1: Tamanho do Defeito -->
      <input id="Input_tamanhoDefeito" label="Tamanho do Defeito Herniario">
        <inputExpression id="InputExpr_tamanhoDefeito" typeRef="string">
          <text>tamanhoDefeito</text>
        </inputExpression>
        <inputValues id="InputValues_tamanhoDefeito">
          <text>"Pequena_Menos_1cm","Media_1_4cm","Grande_Mais_4cm","Nao_Medido"</text>
        </inputValues>
      </input>

      <!-- Input 2: Sintomatologia -->
      <input id="Input_sintomatologia" label="Sintomatologia">
        <inputExpression id="InputExpr_sintomatologia" typeRef="string">
          <text>sintomatologia</text>
        </inputExpression>
        <inputValues id="InputValues_sintomatologia">
          <text>"Sintomatica","Minimamente_Sintomatica","Assintomatica","Encarcerada","Estrangulada"</text>
        </inputValues>
      </input>

      <!-- Input 3: Fatores de Risco para Recidiva -->
      <input id="Input_fatoresRisco" label="Fatores de Risco (Obesidade/Ascite/DPOC)">
        <inputExpression id="InputExpr_fatoresRisco" typeRef="string">
          <text>fatoresRiscoRecidiva</text>
        </inputExpression>
        <inputValues id="InputValues_fatoresRisco">
          <text>"Presente","Ausente"</text>
        </inputValues>
      </input>

      <!-- Input 4: USG Documentando Tamanho -->
      <input id="Input_usgDocumentado" label="USG Parede com Medicao">
        <inputExpression id="InputExpr_usgDocumentado" typeRef="boolean">
          <text>usgParede</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_004_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Minimamente_Sintomatica","Assintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Laudo de indicacao obrigatorio documentando tamanho do defeito, sintomatologia e justificativa para reparo."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_004_Reprovado_Pequena_Assintomatica">
        <description>Reprovado - Hernia pequena assintomatica sem fatores de risco</description>
        <inputEntry id="IE_Rep2_1"><text>"Pequena_Menos_1cm"</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"Assintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Hernia umbilical pequena (&lt;1cm) assintomatica sem fatores de risco - observacao pode ser considerada. Cirurgia nao obrigatoria."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"EHS 2020 - Small Asymptomatic Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Reprovado_Pequena_Assintomatica_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Reprovado_Pequena_Assintomatica_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_004_Aprovado_Urgencia">
        <description>Aprovado - Hernia encarcerada/estrangulada</description>
        <inputEntry id="IE_Apr1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Encarcerada","Estrangulada"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"URGENCIA - Hernia umbilical encarcerada/estrangulada. Reparo cirurgico imediato indicado."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2020 - Emergency Umbilical Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Aprovado_Urgencia_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Aprovado_Urgencia_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_004_Aprovado_Grande">
        <description>Aprovado - Hernia grande (>4cm)</description>
        <inputEntry id="IE_Apr2_1"><text>"Grande_Mais_4cm"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Hernia umbilical grande (>4cm) - reparo com tela obrigatorio. Considerar necessidade de separacao de componentes. Alto risco de progressao."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2020 - Large Umbilical Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Aprovado_Grande_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Aprovado_Grande_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_004_Aprovado_Media_Sintomatica">
        <description>Aprovado - Hernia media sintomatica</description>
        <inputEntry id="IE_Apr3_1"><text>"Media_1_4cm"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Sintomatica"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Hernia umbilical media (1-4cm) sintomatica - reparo com tela recomendado para reducao de recidiva."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EHS 2020 - Medium Symptomatic Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Aprovado_Media_Sintomatica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Aprovado_Media_Sintomatica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_004_Aprovado_Pequena_Sintomatica">
        <description>Aprovado - Hernia pequena sintomatica</description>
        <inputEntry id="IE_Apr4_1"><text>"Pequena_Menos_1cm"</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>"Sintomatica"</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Hernia umbilical pequena sintomatica - reparo aprovado. Sutura primaria pode ser considerada em defeitos &lt;1cm sem fatores de risco."</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"EHS 2020 - Small Symptomatic Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Aprovado_Pequena_Sintomatica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Aprovado_Pequena_Sintomatica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_004_Aprovado_FatoresRisco">
        <description>Aprovado - Hernia com fatores de risco mesmo assintomatica</description>
        <inputEntry id="IE_Apr5_1"><text>"Media_1_4cm","Grande_Mais_4cm"</text></inputEntry>
        <inputEntry id="IE_Apr5_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr5_3"><text>"Presente"</text></inputEntry>
        <inputEntry id="IE_Apr5_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr5_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr5_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr5_2"><text>"Hernia umbilical media/grande com fatores de risco (obesidade, ascite, DPOC) - reparo indicado mesmo se minimamente sintomatica. Maior risco de complicacao."</text></outputEntry>
        <outputEntry id="OE_Apr5_3"><text>"EHS 2020 - High Risk Patients"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Aprovado_FatoresRisco_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Aprovado_FatoresRisco_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_004_Pendente_NaoMedido">
        <description>Pendente - Tamanho nao documentado</description>
        <inputEntry id="IE_Pend1_1"><text>"Nao_Medido"</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Tamanho do defeito herniario nao documentado. Realizar USG de parede abdominal para medicao precisa e definicao da tecnica de reparo."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2020 - Preoperative Assessment"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Pendente_NaoMedido_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Pendente_NaoMedido_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_004_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise por auditor medico para avaliacao de indicacao."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_004_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_004_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
