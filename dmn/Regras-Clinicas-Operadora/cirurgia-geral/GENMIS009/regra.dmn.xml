<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_GEN_MIS_009"
             name="Deiscencia de Ferida - Criterios de Resutura"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    CODIGO: GEN-MIS-009
    Procedimento: Deiscencia de Ferida Operatoria - Criterios para Resutura
    Especialidade: Cirurgia Geral - Procedimentos Diversos
    Versao: 3.0.0-TIER1
    Data: 2026-02-07
    ===============================================================================

    CLASSIFICACAO:
    - Deiscencia superficial: pele/subcutaneo
    - Deiscencia profunda: fascia/musculo
    - Evisceracao: exposicao de conteudo abdominal

    INDICACOES PARA RESUTURA:
    - Deiscencia profunda/evisceracao
    - Ferida limpa ou limpa-contaminada
    - Ausencia de infeccao ativa
    - Margens viaveis

    CONTRAINDICACOES:
    - Infeccao ativa de ferida
    - Necrose de margens
    - Tecidos friÃ¡veis (desnutricao grave)

    REFERENCIAS TECNICAS:
    - ACS NSQIP Guidelines 2020
    - Wound Healing Society Guidelines 2022
    - CBC Cirurgia de Urgencia 2021

    ===============================================================================
  -->

  <decision id="Decision_GEN_MIS_009" name="Regra Clinica - Deiscencia Resutura">
    <decisionTable id="DecisionTable_GEN_MIS_009" hitPolicy="FIRST">

      <!-- ========== INPUTS (5) ========== -->

      <input id="Input_tipoDeiscencia" label="Tipo de Deiscencia" camunda:inputVariable="tipoDeiscencia">
        <inputExpression id="InputExpression_tipoDeiscencia" typeRef="string">
          <text>tipoDeiscencia</text>
        </inputExpression>
        <inputValues id="InputValues_tipoDeiscencia">
          <text>"Superficial","Profunda","Evisceracao"</text>
        </inputValues>
      </input>

      <input id="Input_statusInfeccao" label="Status de Infeccao" camunda:inputVariable="statusInfeccao">
        <inputExpression id="InputExpression_statusInfeccao" typeRef="string">
          <text>statusInfeccao</text>
        </inputExpression>
        <inputValues id="InputValues_statusInfeccao">
          <text>"SemInfeccao","ContaminacaoLeve","InfeccaoLocalizada","InfeccaoGrave","Sepse"</text>
        </inputValues>
      </input>

      <input id="Input_viabilidadeMargens" label="Viabilidade das Margens" camunda:inputVariable="viabilidadeMargens">
        <inputExpression id="InputExpression_viabilidadeMargens" typeRef="string">
          <text>viabilidadeMargens</text>
        </inputExpression>
        <inputValues id="InputValues_viabilidadeMargens">
          <text>"Viaveis","NecroseParcial","NecroseExtensa","Friaveis"</text>
        </inputValues>
      </input>

      <input id="Input_diasPosCirurgia" label="Dias Pos-Cirurgia" camunda:inputVariable="diasPosCirurgia">
        <inputExpression id="InputExpression_diasPosCirurgia" typeRef="number">
          <text>diasPosCirurgia</text>
        </inputExpression>
      </input>

      <input id="Input_estadoNutricional" label="Estado Nutricional" camunda:inputVariable="estadoNutricional">
        <inputExpression id="InputExpression_estadoNutricional" typeRef="string">
          <text>estadoNutricional</text>
        </inputExpression>
        <inputValues id="InputValues_estadoNutricional">
          <text>"Normal","DesnutricaoLeve","DesnutricaoModerada","DesnutricaoGrave"</text>
        </inputValues>
      </input>

      <!-- ========== OUTPUTS (3) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== REGRAS DE REPROVACAO ========== -->

      <rule id="Rule_Reprovado_InfeccaoGrave">
        <description>Reprovado: Infeccao grave ou sepse</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"InfeccaoGrave","Sepse"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Infeccao grave ou sepse - controlar infeccao antes de resutura, curativo a vacuo"</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"ACS NSQIP 2020 - Resutura contraindicada em infeccao ativa"</text></outputEntry>
      <outputEntry id="OE_Reprovado_InfeccaoGrave_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_InfeccaoGrave_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_NecroseExtensa">
        <description>Reprovado: Necrose extensa de margens</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>"NecroseExtensa"</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Necrose extensa de margens - desbridamento e cicatrizacao por segunda intencao ou VAC"</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"WHS 2022 - Margens necroticas devem ser desbridadas antes de fechamento"</text></outputEntry>
      <outputEntry id="OE_Reprovado_NecroseExtensa_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_NecroseExtensa_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_DesnutricaoGrave">
        <description>Reprovado: Desnutricao grave com tecidos friaveis</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>"Friaveis"</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>"DesnutricaoGrave"</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Desnutricao grave com tecidos friaveis - otimizar nutricao, fechamento por segunda intencao"</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"ACS NSQIP 2020 - Albumina &lt; 2.5 associada a alto risco de nova deiscencia"</text></outputEntry>
      <outputEntry id="OE_Reprovado_DesnutricaoGrave_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_DesnutricaoGrave_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_SuperficialLimpa">
        <description>Reprovado: Deiscencia superficial sem infeccao - curativo</description>
        <inputEntry id="IE_Rep4_1"><text>"Superficial"</text></inputEntry>
        <inputEntry id="IE_Rep4_2"><text>"SemInfeccao","ContaminacaoLeve"</text></inputEntry>
        <inputEntry id="IE_Rep4_3"><text>"Viaveis"</text></inputEntry>
        <inputEntry id="IE_Rep4_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep4_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep4_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep4_2"><text>"Deiscencia superficial sem infeccao - curativos, cicatrizacao por segunda intencao"</text></outputEntry>
        <outputEntry id="OE_Rep4_3"><text>"WHS 2022 - Deiscencia superficial geralmente nao requer resutura"</text></outputEntry>
      <outputEntry id="OE_Reprovado_SuperficialLimpa_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_SuperficialLimpa_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRAS DE APROVACAO ========== -->

      <rule id="Rule_Aprovado_Evisceracao">
        <description>Aprovado: Evisceracao - cirurgia de urgencia</description>
        <inputEntry id="IE_Apr1_1"><text>"Evisceracao"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"SemInfeccao","ContaminacaoLeve","InfeccaoLocalizada"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>"Viaveis","NecroseParcial"</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Evisceracao - resutura de urgencia com pontos totais ou tela, proteger visceras com compressas umidas"</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"CBC 2021 - Evisceracao e emergencia cirurgica"</text></outputEntry>
      <outputEntry id="OE_Aprovado_Evisceracao_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_Evisceracao_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ProfundaPrecoce">
        <description>Aprovado: Deiscencia profunda precoce</description>
        <inputEntry id="IE_Apr2_1"><text>"Profunda"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"SemInfeccao","ContaminacaoLeve"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"Viaveis"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>&lt;= 7</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>"Normal","DesnutricaoLeve"</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Deiscencia profunda precoce sem infeccao - resutura com pontos de retencao"</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"ACS NSQIP 2020 - Deiscencia precoce com fascia viavel: resutura primaria"</text></outputEntry>
      <outputEntry id="OE_Aprovado_ProfundaPrecoce_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_ProfundaPrecoce_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ProfundaInfeccaoControlada">
        <description>Aprovado: Deiscencia profunda com infeccao controlada</description>
        <inputEntry id="IE_Apr3_1"><text>"Profunda"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"InfeccaoLocalizada"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>"Viaveis"</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>"Normal","DesnutricaoLeve","DesnutricaoModerada"</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Infeccao localizada controlada - desbridamento + resutura com drenagem ou VAC"</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"WHS 2022 - Infeccao controlada permite fechamento com drenagem adequada"</text></outputEntry>
      <outputEntry id="OE_Aprovado_ProfundaInfeccaoControlada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_ProfundaInfeccaoControlada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_NecroseParcialDesbridamento">
        <description>Aprovado: Necrose parcial - desbridar e resuturar</description>
        <inputEntry id="IE_Apr4_1"><text>"Profunda","Evisceracao"</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>"SemInfeccao","ContaminacaoLeve"</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>"NecroseParcial"</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>"Normal","DesnutricaoLeve"</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Necrose parcial - desbridar margens necroticas e resuturar com pontos de retencao"</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"CBC 2021 - Desbridamento de bordas permite fechamento seguro"</text></outputEntry>
      <outputEntry id="OE_Aprovado_NecroseParcialDesbridamento_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_NecroseParcialDesbridamento_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRA FALLBACK ========== -->

      <rule id="Rule_Fallback_GEN_MIS_009">
        <description>Pendente: Otimizar condicoes para fechamento</description>
        <inputEntry id="IE_FB_1"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_2"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_3"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_4"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_5"><text>-</text></inputEntry>
        <outputEntry id="OE_FB_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_FB_2"><text>"Otimizar nutricao, controlar infeccao, curativo a vacuo e reavaliar para fechamento"</text></outputEntry>
        <outputEntry id="OE_FB_3"><text>"WHS 2022 - Otimizacao pre-fechamento melhora resultados"</text></outputEntry>
      <outputEntry id="OE_Fallback_GEN_MIS_009_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Fallback_GEN_MIS_009_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
