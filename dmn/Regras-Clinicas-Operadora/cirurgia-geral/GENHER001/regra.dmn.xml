<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_001"
             name="Hernia Inguinal - Watchful Waiting vs Reparo"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-001 - Hernia Inguinal - Decisao entre Observacao e Reparo Cirurgico
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Indicacoes para Reparo Cirurgico (EHS 2018 / HerniaSurge 2018):
    - Hernia inguinal sintomatica (dor, desconforto)
    - Hernia encarcerada ou estrangulada (urgencia)
    - Hernia com aumento progressivo de tamanho
    - Preferencia do paciente apos aconselhamento

    Watchful Waiting Aceito em:
    - Hernia inguinal assintomatica ou minimamente sintomatica
    - Homens com hernia pequena e risco cirurgico elevado
    - Acompanhamento regular com orientacoes sobre sinais de alarme

    Contraindicacoes Relativas para Watchful Waiting:
    - Hernia femoral (maior risco de encarceramento)
    - Mulheres (todas devem ser reparadas)
    - Anel herniario pequeno (<1.5cm)

    Documentacao Obrigatoria:
    - Exame fisico documentando tipo e tamanho da hernia
    - USG de parede abdominal se duvida diagnostica
    - Avaliacao de sintomas e impacto funcional

    Referencias Normativas:
    - EHS Guidelines 2018 - Inguinal Hernia
    - HerniaSurge Guidelines 2018
    - International Guidelines for Groin Hernia Management
  -->

  <decision id="Decision_GEN_HER_001" name="Criterios de Autorizacao - Hernia Inguinal WW vs Reparo">
    <decisionTable id="DecisionTable_GEN_HER_001" hitPolicy="FIRST">

      <!-- Input 1: Sintomatologia -->
      <input id="Input_sintomatologia" label="Sintomatologia">
        <inputExpression id="InputExpr_sintomatologia" typeRef="string">
          <text>sintomatologia</text>
        </inputExpression>
        <inputValues id="InputValues_sintomatologia">
          <text>"Sintomatica_Dor_Frequente","Sintomatica_Dor_Ocasional","Minimamente_Sintomatica","Assintomatica","Encarcerada","Estrangulada"</text>
        </inputValues>
      </input>

      <!-- Input 2: Tipo de Hernia -->
      <input id="Input_tipoHernia" label="Tipo de Hernia">
        <inputExpression id="InputExpr_tipoHernia" typeRef="string">
          <text>tipoHernia</text>
        </inputExpression>
        <inputValues id="InputValues_tipoHernia">
          <text>"Inguinal_Direta","Inguinal_Indireta","Femoral","Nao_Classificada"</text>
        </inputValues>
      </input>

      <!-- Input 3: Sexo do Paciente -->
      <input id="Input_sexo" label="Sexo do Paciente">
        <inputExpression id="InputExpr_sexo" typeRef="string">
          <text>sexoPaciente</text>
        </inputExpression>
        <inputValues id="InputValues_sexo">
          <text>"Masculino","Feminino"</text>
        </inputValues>
      </input>

      <!-- Input 4: Risco Cirurgico -->
      <input id="Input_riscoCirurgico" label="Risco Cirurgico (ASA)">
        <inputExpression id="InputExpr_riscoCirurgico" typeRef="string">
          <text>riscoCirurgico</text>
        </inputExpression>
        <inputValues id="InputValues_riscoCirurgico">
          <text>"ASA_I","ASA_II","ASA_III","ASA_IV","ASA_V"</text>
        </inputValues>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_001_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Laudo de indicacao obrigatorio documentando tipo de hernia, sintomatologia e justificativa para reparo cirurgico."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_001_Reprovado_ASA_V">
        <description>Reprovado - Risco cirurgico proibitivo</description>
        <inputEntry id="IE_Rep2_1"><text>"Assintomatica","Minimamente_Sintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>"ASA_V"</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Hernia assintomatica ou minimamente sintomatica em paciente ASA V - risco cirurgico proibitivo. Manter watchful waiting com orientacoes."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"HerniaSurge 2018 - High Risk Patients"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Reprovado_ASA_V_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Reprovado_ASA_V_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_001_Reprovado_Assintomatica_BaixoRisco">
        <description>Reprovado - Hernia assintomatica em homem sem indicacao formal</description>
        <inputEntry id="IE_Rep3_1"><text>"Assintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>"Inguinal_Direta","Inguinal_Indireta"</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>"Masculino"</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Hernia inguinal assintomatica em homem - watchful waiting e opcao valida. Cirurgia nao indicada rotineiramente. Reavaliar se surgir sintomatologia."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"HerniaSurge 2018 - Watchful Waiting Recommendation"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Reprovado_Assintomatica_BaixoRisco_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Reprovado_Assintomatica_BaixoRisco_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_001_Aprovado_Urgencia">
        <description>Aprovado - Hernia encarcerada/estrangulada (urgencia)</description>
        <inputEntry id="IE_Apr1_1"><text>"Encarcerada","Estrangulada"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Hernia encarcerada ou estrangulada - URGENCIA CIRURGICA. Reparo imediato aprovado independente de outras variaveis."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2018 / HerniaSurge 2018 - Emergency Repair"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Aprovado_Urgencia_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Aprovado_Urgencia_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_001_Aprovado_Sintomatica">
        <description>Aprovado - Hernia sintomatica com dor</description>
        <inputEntry id="IE_Apr2_1"><text>"Sintomatica_Dor_Frequente","Sintomatica_Dor_Ocasional"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Hernia inguinal sintomatica - reparo cirurgico indicado para alivio de sintomas e prevencao de complicacoes. Preferir tecnica tension-free com tela."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2018 / HerniaSurge 2018 - Symptomatic Hernia Repair"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Aprovado_Sintomatica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Aprovado_Sintomatica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_001_Aprovado_Femoral">
        <description>Aprovado - Hernia femoral (sempre operar)</description>
        <inputEntry id="IE_Apr3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Femoral"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Hernia femoral - alto risco de encarceramento/estrangulamento. Reparo cirurgico indicado mesmo se assintomatica. Watchful waiting NAO recomendado."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EHS 2018 - Femoral Hernia Always Repair"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Aprovado_Femoral_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Aprovado_Femoral_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_001_Aprovado_Mulher">
        <description>Aprovado - Qualquer hernia inguinal em mulher</description>
        <inputEntry id="IE_Apr4_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>"Inguinal_Direta","Inguinal_Indireta"</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>"Feminino"</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Hernia inguinal em mulher - reparo cirurgico indicado. Maior prevalencia de hernia femoral oculta em mulheres. Watchful waiting nao recomendado para sexo feminino."</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"EHS 2018 - Female Groin Hernia Management"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Aprovado_Mulher_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Aprovado_Mulher_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_001_Pendente_Minimamente_Sintomatica">
        <description>Pendente - Minimamente sintomatica requer discussao</description>
        <inputEntry id="IE_Pend1_1"><text>"Minimamente_Sintomatica"</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>"Inguinal_Direta","Inguinal_Indireta"</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>"Masculino"</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Hernia minimamente sintomatica em homem - discutir watchful waiting vs reparo com paciente. Anexar documentacao da preferencia do paciente e impacto na qualidade de vida."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"HerniaSurge 2018 - Shared Decision Making"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Pendente_Minimamente_Sintomatica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Pendente_Minimamente_Sintomatica_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_001_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise por auditor medico especializado em parede abdominal."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_001_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_001_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
