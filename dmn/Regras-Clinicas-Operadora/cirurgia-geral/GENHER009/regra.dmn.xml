<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_009"
             name="Hernia Gigante - Separacao de Componentes"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-009 - Hernia Gigante - Criterios para Separacao de Componentes
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos Complexos

    Definicao de Hernia Gigante:
    - Defeito transverso >10cm
    - Perda de domicilio (LOD) - conteudo abdominal na hernia
    - Impossibilidade de fechamento primario

    Tecnicas de Separacao de Componentes:
    - Anterior (Ramirez): Liberacao do obliquo externo
    - Posterior (TAR): Liberacao do transverso abdominal
    - Combinada: Para defeitos muito grandes

    Indicacoes para Separacao:
    - Defeitos >10cm com gap que nao fecha
    - LOD com risco de sindrome compartimental se fechamento forcado
    - Necessidade de avanco >4-6cm por lado

    Pre-operatorio:
    - Pneumoperitonio progressivo (opcional em casos selecionados)
    - Otimizacao nutricional (albumina >3.0)
    - Cessacao tabagismo (idealmente 4 semanas)

    Documentacao Obrigatoria:
    - TC com medicao do defeito e LOD
    - Avaliacao nutricional
    - Planejamento cirurgico detalhado

    Referencias Normativas:
    - EHS Guidelines 2019 - Large Ventral Hernia
    - AHSQC - Abdominal Core Health Quality Collaborative
    - TAR (Novitsky) vs Ramirez Outcomes
  -->

  <decision id="Decision_GEN_HER_009" name="Criterios de Autorizacao - Hernia Gigante Separacao Componentes">
    <decisionTable id="DecisionTable_GEN_HER_009" hitPolicy="FIRST">

      <!-- Input 1: Tamanho do Defeito -->
      <input id="Input_tamanhoDefeito" label="Tamanho do Defeito Transverso">
        <inputExpression id="InputExpr_tamanhoDefeito" typeRef="string">
          <text>tamanhoDefeitoTransverso</text>
        </inputExpression>
        <inputValues id="InputValues_tamanhoDefeito">
          <text>"Menos_10cm","10_15cm","Mais_15cm","Nao_Documentado"</text>
        </inputValues>
      </input>

      <!-- Input 2: Perda de Domicilio -->
      <input id="Input_perdaDomicilio" label="Perda de Domicilio (LOD)">
        <inputExpression id="InputExpr_perdaDomicilio" typeRef="string">
          <text>perdaDomicilio</text>
        </inputExpression>
        <inputValues id="InputValues_perdaDomicilio">
          <text>"Presente_Significativa","Presente_Moderada","Ausente","Nao_Avaliada"</text>
        </inputValues>
      </input>

      <!-- Input 3: TC de Abdome -->
      <input id="Input_tcAbdome" label="TC Abdome com Medicoes">
        <inputExpression id="InputExpr_tcAbdome" typeRef="boolean">
          <text>tcAbdomeMedicoes</text>
        </inputExpression>
      </input>

      <!-- Input 4: Estado Nutricional -->
      <input id="Input_nutricional" label="Estado Nutricional (Albumina)">
        <inputExpression id="InputExpr_nutricional" typeRef="string">
          <text>estadoNutricional</text>
        </inputExpression>
        <inputValues id="InputValues_nutricional">
          <text>"Albumina_Maior_3","Albumina_Menor_3","Nao_Avaliado"</text>
        </inputValues>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_009_Reprovado_DefeitoPequeno">
        <description>Reprovado - Defeito pequeno nao requer separacao</description>
        <inputEntry id="IE_Rep1_1"><text>"Menos_10cm"</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Defeito &lt;10cm sem perda de domicilio - separacao de componentes nao indicada. Reparo convencional com tela e suficiente."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"EHS 2019 - Component Separation Indications"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Reprovado_DefeitoPequeno_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Reprovado_DefeitoPequeno_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Reprovado_SemTC">
        <description>Reprovado - Sem TC documentando defeito</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"TC de abdome obrigatoria para medicao precisa do defeito, avaliacao de perda de domicilio e planejamento cirurgico em hernias complexas."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"EHS 2019 - Preoperative CT Required"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Reprovado_SemTC_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Reprovado_SemTC_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Laudo de indicacao obrigatorio com planejamento detalhado da tecnica de separacao de componentes proposta."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_009_Aprovado_Grande_LOD">
        <description>Aprovado - Defeito grande com perda de domicilio significativa</description>
        <inputEntry id="IE_Apr1_1"><text>"Mais_15cm"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Presente_Significativa"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>"Albumina_Maior_3"</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Hernia gigante (>15cm) com perda de domicilio significativa - separacao de componentes (TAR ou Ramirez) aprovada. Estado nutricional adequado. Centro de referencia recomendado."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2019 - Giant Hernia with LOD"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Aprovado_Grande_LOD_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Aprovado_Grande_LOD_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Aprovado_Medio_LOD">
        <description>Aprovado - Defeito 10-15cm com perda de domicilio</description>
        <inputEntry id="IE_Apr2_1"><text>"10_15cm"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"Presente_Significativa","Presente_Moderada"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>"Albumina_Maior_3"</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Hernia grande (10-15cm) com perda de domicilio - separacao de componentes aprovada para permitir fechamento sem tensao."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2019 - Large Hernia Component Separation"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Aprovado_Medio_LOD_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Aprovado_Medio_LOD_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Aprovado_Gigante_SemLOD">
        <description>Aprovado - Defeito muito grande mesmo sem LOD significativa</description>
        <inputEntry id="IE_Apr3_1"><text>"Mais_15cm"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Presente_Moderada","Ausente"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>"Albumina_Maior_3"</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Defeito >15cm - separacao de componentes provavelmente necessaria para avanco fascial adequado. TAR (posterior) preferida por preservar vascularizacao."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"AHSQC - TAR for Giant Defects"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Aprovado_Gigante_SemLOD_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Aprovado_Gigante_SemLOD_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_009_Pendente_Desnutricao">
        <description>Pendente - Estado nutricional inadequado</description>
        <inputEntry id="IE_Pend1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>"Albumina_Menor_3"</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Albumina &lt;3.0 g/dL indica desnutricao com alto risco de complicacoes de ferida. Realizar otimizacao nutricional por 2-4 semanas antes de cirurgia eletiva."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2019 - Nutritional Optimization"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Pendente_Desnutricao_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Pendente_Desnutricao_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Pendente_NutricionalNaoAvaliado">
        <description>Pendente - Estado nutricional nao avaliado</description>
        <inputEntry id="IE_Pend2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_4"><text>"Nao_Avaliado"</text></inputEntry>
        <inputEntry id="IE_Pend2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend2_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend2_2"><text>"Avaliacao nutricional obrigatoria (albumina serica) para cirurgia de parede abdominal complexa. Desnutricao aumenta significativamente complicacoes."</text></outputEntry>
        <outputEntry id="OE_Pend2_3"><text>"AHSQC - Preoperative Nutrition Assessment"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Pendente_NutricionalNaoAvaliado_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Pendente_NutricionalNaoAvaliado_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_009_Pendente_LOD_NaoAvaliada">
        <description>Pendente - Perda de domicilio nao avaliada</description>
        <inputEntry id="IE_Pend3_1"><text>"10_15cm","Mais_15cm"</text></inputEntry>
        <inputEntry id="IE_Pend3_2"><text>"Nao_Avaliada"</text></inputEntry>
        <inputEntry id="IE_Pend3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend3_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend3_2"><text>"Avaliacao de perda de domicilio (LOD) necessaria para planejamento. Calcular volume da hernia/volume abdominal na TC para risco de sindrome compartimental."</text></outputEntry>
        <outputEntry id="OE_Pend3_3"><text>"EHS 2019 - LOD Assessment"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Pendente_LOD_NaoAvaliada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Pendente_LOD_NaoAvaliada_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_009_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso de hernia gigante requer analise por auditor medico especializado em parede abdominal complexa."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica especializada - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_009_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_009_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
