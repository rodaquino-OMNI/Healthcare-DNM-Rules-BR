<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_003"
             name="Hernia Femoral - Prioridade de Emergencia"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-003 - Hernia Femoral - Prioridade e Urgencia de Reparo
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Indicacoes Clinicas (EHS 2018 / HerniaSurge 2018):
    - TODAS as hernias femorais devem ser reparadas (alto risco encarceramento)
    - Taxa de encarceramento: 22-45% (muito maior que inguinal)
    - Watchful waiting NAO recomendado para hernia femoral
    - Mais comum em mulheres (relacao M:F = 1:4)

    Classificacao de Prioridade:
    - Emergencia: Estrangulada com sinais de isquemia intestinal
    - Urgencia: Encarcerada sem reducao ou duvida de viabilidade
    - Semi-eletiva: Nao complicada mas com indicacao de reparo precoce

    Abordagens:
    - Laparoscopica (TAPP/TEP): Permite inspecao bilateral
    - Aberta pre-peritoneal: McEvedy ou Nyhus
    - Aberta inguinal: Bassini/plug (menos recomendada)

    Documentacao Obrigatoria:
    - Exame fisico confirmando hernia femoral
    - USG de parede abdominal se duvida diagnostica
    - Avaliacao de sinais de complicacao

    Referencias Normativas:
    - EHS Guidelines 2018 - Femoral Hernia
    - HerniaSurge Guidelines 2018
    - WSES 2023 - Complicated Groin Hernia
  -->

  <decision id="Decision_GEN_HER_003" name="Criterios de Autorizacao - Hernia Femoral Emergencia">
    <decisionTable id="DecisionTable_GEN_HER_003" hitPolicy="FIRST">

      <!-- Input 1: Status de Complicacao -->
      <input id="Input_statusComplicacao" label="Status de Complicacao">
        <inputExpression id="InputExpr_statusComplicacao" typeRef="string">
          <text>statusComplicacao</text>
        </inputExpression>
        <inputValues id="InputValues_statusComplicacao">
          <text>"Estrangulada","Encarcerada_Irredutivel","Encarcerada_Reduzida","Nao_Complicada"</text>
        </inputValues>
      </input>

      <!-- Input 2: Sinais de Isquemia Intestinal -->
      <input id="Input_sinaisIsquemia" label="Sinais de Isquemia Intestinal">
        <inputExpression id="InputExpr_sinaisIsquemia" typeRef="string">
          <text>sinaisIsquemiaIntestinal</text>
        </inputExpression>
        <inputValues id="InputValues_sinaisIsquemia">
          <text>"Presente","Suspeita","Ausente"</text>
        </inputValues>
      </input>

      <!-- Input 3: Confirmacao Diagnostica -->
      <input id="Input_confirmacao" label="Confirmacao Diagnostica (Exame/USG)">
        <inputExpression id="InputExpr_confirmacao" typeRef="boolean">
          <text>confirmacaoDiagnostica</text>
        </inputExpression>
      </input>

      <!-- Input 4: Risco Cirurgico -->
      <input id="Input_riscoCirurgico" label="Risco Cirurgico (ASA)">
        <inputExpression id="InputExpr_riscoCirurgico" typeRef="string">
          <text>riscoCirurgico</text>
        </inputExpression>
        <inputValues id="InputValues_riscoCirurgico">
          <text>"ASA_I","ASA_II","ASA_III","ASA_IV","ASA_V"</text>
        </inputValues>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_003_Reprovado_SemConfirmacao">
        <description>Reprovado - Sem confirmacao diagnostica</description>
        <inputEntry id="IE_Rep1_1"><text>"Nao_Complicada"</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Confirmacao diagnostica (exame fisico ou USG de parede) obrigatoria para hernia femoral eletiva. Diferenciacao de hernia inguinal importante."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"EHS 2018 - Diagnostic Confirmation"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Reprovado_SemConfirmacao_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Reprovado_SemConfirmacao_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_003_Reprovado_SemLaudo_Eletivo">
        <description>Reprovado - Sem laudo de indicacao em caso eletivo</description>
        <inputEntry id="IE_Rep2_1"><text>"Nao_Complicada"</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Laudo de indicacao obrigatorio documentando diagnostico de hernia femoral e justificativa para reparo."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Reprovado_SemLaudo_Eletivo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Reprovado_SemLaudo_Eletivo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_003_Aprovado_Emergencia_Estrangulada">
        <description>Aprovado - Emergencia - Hernia estrangulada</description>
        <inputEntry id="IE_Apr1_1"><text>"Estrangulada"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"EMERGENCIA CIRURGICA - Hernia femoral estrangulada. Exploracao imediata com potencial resseccao intestinal. Laudo dispensavel em urgencia vital."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"WSES 2023 - Strangulated Hernia Emergency"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Aprovado_Emergencia_Estrangulada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Aprovado_Emergencia_Estrangulada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_003_Aprovado_Urgencia_Encarcerada">
        <description>Aprovado - Urgencia - Hernia encarcerada irredutivel</description>
        <inputEntry id="IE_Apr2_1"><text>"Encarcerada_Irredutivel"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"URGENCIA - Hernia femoral encarcerada irredutivel. Alto risco de progressao para estrangulamento. Reparo urgente em ate 6 horas."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2018 - Incarcerated Femoral Urgent Repair"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Aprovado_Urgencia_Encarcerada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Aprovado_Urgencia_Encarcerada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_003_Aprovado_Urgencia_Isquemia_Suspeita">
        <description>Aprovado - Urgencia - Suspeita de isquemia</description>
        <inputEntry id="IE_Apr3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Suspeita"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"URGENCIA - Suspeita de isquemia intestinal em hernia femoral. Exploracao cirurgica para avaliacao de viabilidade do conteudo herniario."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"WSES 2023 - Suspected Bowel Compromise"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Aprovado_Urgencia_Isquemia_Suspeita_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Aprovado_Urgencia_Isquemia_Suspeita_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_003_Aprovado_Eletiva_Confirmada">
        <description>Aprovado - Hernia femoral nao complicada (reparo indicado)</description>
        <inputEntry id="IE_Apr4_1"><text>"Nao_Complicada","Encarcerada_Reduzida"</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Hernia femoral nao complicada - reparo semi-eletivo aprovado. Todas as hernias femorais devem ser reparadas devido alto risco de encarceramento (22-45%). Watchful waiting NAO indicado."</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"EHS 2018 / HerniaSurge 2018 - All Femoral Hernias Repair"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Aprovado_Eletiva_Confirmada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Aprovado_Eletiva_Confirmada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_003_Pendente_ASA_V_NaoComplicada">
        <description>Pendente - ASA V com hernia nao complicada</description>
        <inputEntry id="IE_Pend1_1"><text>"Nao_Complicada"</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>"ASA_V"</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Hernia femoral em paciente ASA V - alto risco cirurgico vs alto risco de complicacao da hernia. Discutir risco-beneficio em reuniao multidisciplinar."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2018 - High Risk Patient Management"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Pendente_ASA_V_NaoComplicada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Pendente_ASA_V_NaoComplicada_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_003_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise por auditor medico especializado."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_003_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_003_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
