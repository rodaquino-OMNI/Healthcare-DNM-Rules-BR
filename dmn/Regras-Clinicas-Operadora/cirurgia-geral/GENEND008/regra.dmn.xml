<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_GEN_END_008"
             name="Sindrome MEN - Screening e Cirurgia"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    CODIGO: GEN-END-008
    Procedimento: Sindrome MEN (Neoplasia Endocrina Multipla) - Screening e Cirurgia
    Especialidade: Cirurgia Geral - Cirurgia Endocrina
    Versao: 3.0.0-TIER1
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CIRURGICAS:
    MEN1:
    - Hiperparatireoidismo (paratireoidectomia subtotal)
    - Gastrinoma (resseccao pancreatica)
    - Insulinoma funcional

    MEN2A/2B:
    - CMT profilatico em portadores RET (tireoidectomia profilatica)
    - Feocromocitoma (adrenalectomia)
    - Hiperparatireoidismo

    CONTRAINDICACOES:
    - Screening incompleto para outros componentes da sindrome
    - Portador RET sem estratificacao de risco

    REFERENCIAS TECNICAS:
    - ATA Guidelines - Medullary Thyroid Cancer 2015
    - ENETS Guidelines - MEN1 2012
    - Clinical Practice Guidelines - MEN 2021

    ===============================================================================
  -->

  <decision id="Decision_GEN_END_008" name="Regra Clinica - Sindrome MEN">
    <decisionTable id="DecisionTable_GEN_END_008" hitPolicy="FIRST">

      <!-- ========== INPUTS (5) ========== -->

      <input id="Input_tipoMEN" label="Tipo de Sindrome MEN" camunda:inputVariable="tipoMEN">
        <inputExpression id="InputExpression_tipoMEN" typeRef="string">
          <text>tipoMEN</text>
        </inputExpression>
        <inputValues id="InputValues_tipoMEN">
          <text>"MEN1","MEN2A","MEN2B","NaoConfirmado"</text>
        </inputValues>
      </input>

      <input id="Input_mutacaoRET" label="Mutacao RET Identificada" camunda:inputVariable="mutacaoRET">
        <inputExpression id="InputExpression_mutacaoRET" typeRef="string">
          <text>mutacaoRET</text>
        </inputExpression>
        <inputValues id="InputValues_mutacaoRET">
          <text>"AltoRisco","ModeradoRisco","NaoTestado","Negativo"</text>
        </inputValues>
      </input>

      <input id="Input_componenteAfetado" label="Componente Afetado" camunda:inputVariable="componenteAfetado">
        <inputExpression id="InputExpression_componenteAfetado" typeRef="string">
          <text>componenteAfetado</text>
        </inputExpression>
        <inputValues id="InputValues_componenteAfetado">
          <text>"CMT","Feocromocitoma","HPT","Gastrinoma","Insulinoma","Multiplos"</text>
        </inputValues>
      </input>

      <input id="Input_screeningCompleto" label="Screening de Outros Componentes" camunda:inputVariable="screeningCompleto">
        <inputExpression id="InputExpression_screeningCompleto" typeRef="boolean">
          <text>screeningCompleto</text>
        </inputExpression>
      </input>

      <input id="Input_idadePaciente" label="Idade do Paciente (anos)" camunda:inputVariable="idadePaciente">
        <inputExpression id="InputExpression_idadePaciente" typeRef="number">
          <text>idadePaciente</text>
        </inputExpression>
      </input>

      <!-- ========== OUTPUTS (3) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== REGRAS DE REPROVACAO ========== -->

      <rule id="Rule_Reprovado_SemScreening">
        <description>Reprovado: Screening incompleto para outros componentes</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Screening de outros componentes MEN obrigatorio antes de cirurgia - especialmente feocromocitoma"</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"Clinical Practice Guidelines 2021 - Excluir feocromocitoma antes de qualquer cirurgia em MEN2"</text></outputEntry>
      <outputEntry id="OE_Reprovado_SemScreening_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_SemScreening_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_SemTesteGenetico">
        <description>Reprovado: MEN2 suspeito sem teste genetico</description>
        <inputEntry id="IE_Rep2_1"><text>"MEN2A","MEN2B"</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"NaoTestado"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Teste genetico RET obrigatorio para estratificacao de risco e timing cirurgico"</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"ATA 2015 - Mutacao RET define timing de tireoidectomia profilatica"</text></outputEntry>
      <outputEntry id="OE_Reprovado_SemTesteGenetico_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_SemTesteGenetico_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRAS DE APROVACAO ========== -->

      <rule id="Rule_Aprovado_MEN2AltoRisco">
        <description>Aprovado: MEN2 alto risco - tireoidectomia profilatica</description>
        <inputEntry id="IE_Apr1_1"><text>"MEN2A","MEN2B"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"AltoRisco"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Mutacao RET alto risco - tireoidectomia profilatica nos primeiros anos de vida"</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"ATA 2015 - Codon 918 (MEN2B): tireoidectomia no primeiro ano de vida"</text></outputEntry>
      <outputEntry id="OE_Aprovado_MEN2AltoRisco_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_MEN2AltoRisco_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_CMTClinico">
        <description>Aprovado: CMT clinico diagnosticado</description>
        <inputEntry id="IE_Apr2_1"><text>"MEN2A","MEN2B"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"CMT"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"CMT clinico em MEN2 - tireoidectomia total com esvaziamento central"</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"ATA 2015 - CMT clinico requer tireoidectomia total + linfonodectomia"</text></outputEntry>
      <outputEntry id="OE_Aprovado_CMTClinico_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_CMTClinico_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_Feocromocitoma">
        <description>Aprovado: Feocromocitoma em MEN</description>
        <inputEntry id="IE_Apr3_1"><text>"MEN2A","MEN2B"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>"Feocromocitoma"</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Feocromocitoma em MEN2 - adrenalectomia ANTES de tireoidectomia se ambos presentes"</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"Clinical Practice Guidelines 2021 - Feocromocitoma tem prioridade cirurgica"</text></outputEntry>
      <outputEntry id="OE_Aprovado_Feocromocitoma_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_Feocromocitoma_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_MEN1HPT">
        <description>Aprovado: HPT em MEN1</description>
        <inputEntry id="IE_Apr4_1"><text>"MEN1"</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>"HPT"</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"HPT em MEN1 - paratireoidectomia subtotal (3.5 glandulas) ou total com autoimplante"</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"ENETS 2012 - Resseccao mais extensa em MEN1 devido a doenca multiglandular"</text></outputEntry>
      <outputEntry id="OE_Aprovado_MEN1HPT_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_MEN1HPT_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_MEN1Gastrinoma">
        <description>Aprovado: Gastrinoma em MEN1</description>
        <inputEntry id="IE_Apr5_1"><text>"MEN1"</text></inputEntry>
        <inputEntry id="IE_Apr5_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr5_3"><text>"Gastrinoma"</text></inputEntry>
        <inputEntry id="IE_Apr5_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr5_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr5_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr5_2"><text>"Gastrinoma em MEN1 - resseccao se &gt; 2cm ou metastase linfatica, IBP para &lt; 2cm"</text></outputEntry>
        <outputEntry id="OE_Apr5_3"><text>"ENETS 2012 - Cirurgia seletiva para gastrinomas maiores em MEN1"</text></outputEntry>
      <outputEntry id="OE_Aprovado_MEN1Gastrinoma_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_MEN1Gastrinoma_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRA FALLBACK ========== -->

      <rule id="Rule_Fallback_GEN_END_008">
        <description>Pendente: Completar avaliacao genetica e bioquimica</description>
        <inputEntry id="IE_FB_1"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_2"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_3"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_4"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_5"><text>-</text></inputEntry>
        <outputEntry id="OE_FB_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_FB_2"><text>"Completar teste genetico e screening bioquimico de todos os componentes"</text></outputEntry>
        <outputEntry id="OE_FB_3"><text>"Clinical Practice Guidelines 2021 - Avaliacao sistematica obrigatoria"</text></outputEntry>
      <outputEntry id="OE_Fallback_GEN_END_008_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Fallback_GEN_END_008_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
