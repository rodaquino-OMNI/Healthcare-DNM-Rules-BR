<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_006"
             name="Hernia Paraestomal - Criterios de Reparo"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-006 - Hernia Paraestomal - Criterios para Indicacao de Reparo
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal/Coloproctologia
    Categoria: Procedimentos Cirurgicos

    Indicacoes Clinicas (EHS 2017):
    - Hernia paraestomal sintomatica (dor, dificuldade de adaptar bolsa)
    - Encarceramento ou obstrucao intestinal
    - Prolapso estomal associado
    - Dificuldades com dispositivo coletor

    Classificacao (Moreno-Matias):
    - Tipo 0: Sem hernia (achado incidental TC)
    - Tipo Ia: Anel <5cm, saco herniario contem somente alca estomizada
    - Tipo Ib: Anel <5cm, saco contem outras estruturas
    - Tipo II: Anel 5-10cm
    - Tipo III: Anel >10cm

    Abordagens:
    - Sutura primaria (sem tela): Alta recidiva, evitar
    - Relocacao do estoma: Se estoma mal posicionado
    - Reparo local com tela (Sugarbaker/keyhole)
    - Abordagem laparoscopica ou aberta

    Documentacao Obrigatoria:
    - TC de abdome com protocolo para hernia
    - Avaliacao por estomaterapeuta
    - Documentacao de sintomas e dificuldade com bolsa

    Referencias Normativas:
    - EHS Guidelines 2017 - Parastomal Hernia
    - ASCRS Practice Parameters 2017
  -->

  <decision id="Decision_GEN_HER_006" name="Criterios de Autorizacao - Hernia Paraestomal">
    <decisionTable id="DecisionTable_GEN_HER_006" hitPolicy="FIRST">

      <!-- Input 1: Classificacao Moreno-Matias -->
      <input id="Input_classificacao" label="Classificacao Moreno-Matias">
        <inputExpression id="InputExpr_classificacao" typeRef="string">
          <text>classificacaoMorenoMatias</text>
        </inputExpression>
        <inputValues id="InputValues_classificacao">
          <text>"Tipo_0","Tipo_Ia","Tipo_Ib","Tipo_II","Tipo_III","Nao_Classificada"</text>
        </inputValues>
      </input>

      <!-- Input 2: Sintomatologia -->
      <input id="Input_sintomatologia" label="Sintomatologia">
        <inputExpression id="InputExpr_sintomatologia" typeRef="string">
          <text>sintomatologia</text>
        </inputExpression>
        <inputValues id="InputValues_sintomatologia">
          <text>"Sintomatica_Dor","Dificuldade_Bolsa","Assintomatica","Encarcerada","Obstrucao"</text>
        </inputValues>
      </input>

      <!-- Input 3: TC de Abdome -->
      <input id="Input_tcAbdome" label="TC Abdome com Protocolo Hernia">
        <inputExpression id="InputExpr_tcAbdome" typeRef="boolean">
          <text>tcAbdomeHernia</text>
        </inputExpression>
      </input>

      <!-- Input 4: Avaliacao Estomaterapeuta -->
      <input id="Input_estomaterapeuta" label="Avaliacao por Estomaterapeuta">
        <inputExpression id="InputExpr_estomaterapeuta" typeRef="boolean">
          <text>avaliacaoEstomaterapeuta</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_006_Reprovado_Tipo0_Assintomatica">
        <description>Reprovado - Tipo 0 assintomatica</description>
        <inputEntry id="IE_Rep1_1"><text>"Tipo_0"</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Assintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Hernia paraestomal Tipo 0 (achado incidental) assintomatica - nao ha indicacao de reparo cirurgico. Acompanhamento clinico."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"EHS 2017 - Type 0 Management"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Reprovado_Tipo0_Assintomatica_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Reprovado_Tipo0_Assintomatica_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_006_Reprovado_SemTC">
        <description>Reprovado - Sem TC de abdome</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"Sintomatica_Dor","Dificuldade_Bolsa","Assintomatica"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"TC de abdome com protocolo para hernia obrigatoria para classificacao e planejamento cirurgico de hernia paraestomal."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"EHS 2017 - Imaging Required"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Reprovado_SemTC_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Reprovado_SemTC_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_006_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Laudo de indicacao obrigatorio documentando classificacao, sintomatologia e plano cirurgico proposto."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_006_Aprovado_Urgencia">
        <description>Aprovado - Hernia complicada (urgencia)</description>
        <inputEntry id="IE_Apr1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Encarcerada","Obstrucao"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"URGENCIA - Hernia paraestomal encarcerada ou com obstrucao intestinal. Reparo cirurgico imediato indicado."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2017 - Emergency Parastomal Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Aprovado_Urgencia_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Aprovado_Urgencia_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_006_Aprovado_Sintomatica_Completa">
        <description>Aprovado - Hernia sintomatica com documentacao completa</description>
        <inputEntry id="IE_Apr2_1"><text>"Tipo_Ib","Tipo_II","Tipo_III"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"Sintomatica_Dor","Dificuldade_Bolsa"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Hernia paraestomal sintomatica com documentacao completa - reparo aprovado. Tecnica com tela (Sugarbaker ou keyhole) recomendada. Considerar relocacao se posicionamento do estoma inadequado."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2017 - Symptomatic Parastomal Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Aprovado_Sintomatica_Completa_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Aprovado_Sintomatica_Completa_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_006_Aprovado_TipoIa_DificuldadeBolsa">
        <description>Aprovado - Tipo Ia com dificuldade de adaptar bolsa</description>
        <inputEntry id="IE_Apr3_1"><text>"Tipo_Ia"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Dificuldade_Bolsa"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Hernia paraestomal Tipo Ia com dificuldade de adaptar dispositivo coletor - reparo aprovado para melhora de qualidade de vida."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EHS 2017 - Quality of Life Indication"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Aprovado_TipoIa_DificuldadeBolsa_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Aprovado_TipoIa_DificuldadeBolsa_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_006_Pendente_SemEstomaterapeuta">
        <description>Pendente - Sem avaliacao de estomaterapeuta</description>
        <inputEntry id="IE_Pend1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>"Sintomatica_Dor","Dificuldade_Bolsa"</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Avaliacao por estomaterapeuta recomendada para otimizar cuidados com estoma e avaliar se dificuldades podem ser resolvidas sem cirurgia. Anexar parecer."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2017 - Multidisciplinary Evaluation"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Pendente_SemEstomaterapeuta_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Pendente_SemEstomaterapeuta_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_006_Pendente_NaoClassificada">
        <description>Pendente - Hernia nao classificada</description>
        <inputEntry id="IE_Pend2_1"><text>"Nao_Classificada"</text></inputEntry>
        <inputEntry id="IE_Pend2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend2_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend2_2"><text>"Classificacao Moreno-Matias nao informada. Anexar laudo de TC com medicao do anel herniario e conteudo do saco para classificacao e planejamento."</text></outputEntry>
        <outputEntry id="OE_Pend2_3"><text>"EHS 2017 - Classification Required"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Pendente_NaoClassificada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Pendente_NaoClassificada_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_006_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso de hernia paraestomal requer analise por auditor medico especializado."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_006_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_006_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
