<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_GEN_HER_005"
             name="Hernia Incisional - Selecao de Tela"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    GEN-HER-005 - Hernia Incisional - Criterios de Selecao de Tela
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Cirurgia Geral - Parede Abdominal
    Categoria: Procedimentos Cirurgicos

    Tipos de Tela (EHS 2019):
    - Sintetica nao absorvivel: Polipropileno (padrao), PTFE, poliester
    - Sintetica absorvivel: Para campos contaminados temporariamente
    - Biologica: Derme porcina/bovina para campos contaminados
    - Biosintetica: Hibrido para campos contaminados

    Posicionamento da Tela:
    - Onlay: Sobre aponeurose (maior recidiva)
    - Sublay/Retromuscular: Atras do reto (preferido)
    - IPOM: Intraperitoneal (laparoscopico)
    - Underlay/Pre-peritoneal: Sob peritonio

    Indicacoes por Contaminacao:
    - Limpa (CDC I): Tela sintetica
    - Limpa-contaminada (CDC II): Sintetica com cautela
    - Contaminada (CDC III): Biologica ou biosintetica
    - Infectada (CDC IV): Biologica ou reparo estagiado

    Documentacao Obrigatoria:
    - TC de abdome com medicao do defeito
    - Classificacao de contaminacao prevista
    - Justificativa da escolha do tipo de tela

    Referencias Normativas:
    - EHS Guidelines 2019 - Ventral Hernia
    - SAGES/EAES Guidelines - Laparoscopic Ventral Hernia
    - VHWG Classification - Surgical Site Occurrence Risk
  -->

  <decision id="Decision_GEN_HER_005" name="Criterios de Autorizacao - Hernia Incisional Selecao Tela">
    <decisionTable id="DecisionTable_GEN_HER_005" hitPolicy="FIRST">

      <!-- Input 1: Classificacao de Contaminacao -->
      <input id="Input_contaminacao" label="Classificacao de Contaminacao (CDC)">
        <inputExpression id="InputExpr_contaminacao" typeRef="string">
          <text>classificacaoContaminacao</text>
        </inputExpression>
        <inputValues id="InputValues_contaminacao">
          <text>"CDC_I_Limpa","CDC_II_Limpa_Contaminada","CDC_III_Contaminada","CDC_IV_Infectada"</text>
        </inputValues>
      </input>

      <!-- Input 2: Tipo de Tela Solicitada -->
      <input id="Input_tipoTela" label="Tipo de Tela Solicitada">
        <inputExpression id="InputExpr_tipoTela" typeRef="string">
          <text>tipoTelaSolicitada</text>
        </inputExpression>
        <inputValues id="InputValues_tipoTela">
          <text>"Sintetica_Polipropileno","Sintetica_PTFE","Sintetica_Composta","Biologica","Biosintetica","Sem_Tela"</text>
        </inputValues>
      </input>

      <!-- Input 3: Tamanho do Defeito -->
      <input id="Input_tamanhoDefeito" label="Tamanho do Defeito (cm)">
        <inputExpression id="InputExpr_tamanhoDefeito" typeRef="string">
          <text>tamanhoDefeito</text>
        </inputExpression>
        <inputValues id="InputValues_tamanhoDefeito">
          <text>"Pequena_Menos_4cm","Media_4_10cm","Grande_Mais_10cm"</text>
        </inputValues>
      </input>

      <!-- Input 4: TC Documentando Defeito -->
      <input id="Input_tcDocumentado" label="TC Abdome com Medicao">
        <inputExpression id="InputExpr_tcDocumentado" typeRef="boolean">
          <text>tcAbdomeMedicao</text>
        </inputExpression>
      </input>

      <!-- Input 5: Laudo de Indicacao -->
      <input id="Input_laudoIndicacao" label="Laudo de Indicacao">
        <inputExpression id="InputExpr_laudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- REGRAS DE REPROVACAO -->

      <rule id="Rule_GEN_HER_005_Reprovado_SemTC">
        <description>Reprovado - Sem TC documentando defeito</description>
        <inputEntry id="IE_Rep1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>"Media_4_10cm","Grande_Mais_10cm"</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"TC de abdome obrigatoria para hernias incisionais medias/grandes para medicao precisa do defeito e planejamento cirurgico."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"EHS 2019 - Preoperative Imaging"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Reprovado_SemTC_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Reprovado_SemTC_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_005_Reprovado_SemLaudo">
        <description>Reprovado - Sem laudo de indicacao</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"Laudo de indicacao obrigatorio com justificativa da escolha do tipo de tela e tecnica de reparo."</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"RN 465/2021 - Documentacao Obrigatoria"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Reprovado_SemLaudo_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Reprovado_SemLaudo_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_005_Reprovado_Sintetica_Contaminada">
        <description>Reprovado - Tela sintetica em campo contaminado/infectado</description>
        <inputEntry id="IE_Rep3_1"><text>"CDC_III_Contaminada","CDC_IV_Infectada"</text></inputEntry>
        <inputEntry id="IE_Rep3_2"><text>"Sintetica_Polipropileno","Sintetica_PTFE"</text></inputEntry>
        <inputEntry id="IE_Rep3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep3_2"><text>"Tela sintetica nao absorvivel contraindicada em campo contaminado/infectado (CDC III/IV). Utilizar tela biologica ou biosintetica, ou reparo estagiado."</text></outputEntry>
        <outputEntry id="OE_Rep3_3"><text>"EHS 2019 / VHWG - Contaminated Field Mesh Selection"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Reprovado_Sintetica_Contaminada_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Reprovado_Sintetica_Contaminada_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_005_Reprovado_SemTela_Grande">
        <description>Reprovado - Hernia grande sem tela</description>
        <inputEntry id="IE_Rep4_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep4_2"><text>"Sem_Tela"</text></inputEntry>
        <inputEntry id="IE_Rep4_3"><text>"Media_4_10cm","Grande_Mais_10cm"</text></inputEntry>
        <inputEntry id="IE_Rep4_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep4_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep4_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep4_2"><text>"Reparo de hernia incisional media/grande sem tela tem taxa de recidiva inaceitavel (>50%). Uso de tela obrigatorio."</text></outputEntry>
        <outputEntry id="OE_Rep4_3"><text>"EHS 2019 - Mesh Mandatory for Ventral Hernia"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Reprovado_SemTela_Grande_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Reprovado_SemTela_Grande_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE APROVACAO -->

      <rule id="Rule_GEN_HER_005_Aprovado_Limpa_Sintetica">
        <description>Aprovado - Campo limpo com tela sintetica</description>
        <inputEntry id="IE_Apr1_1"><text>"CDC_I_Limpa"</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Sintetica_Polipropileno","Sintetica_PTFE","Sintetica_Composta"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"Campo limpo (CDC I) - tela sintetica aprovada. Polipropileno macroporoso em posicao sublay/retromuscular e padrao. Composta (com barreira) para IPOM."</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"EHS 2019 - Clean Field Mesh"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Aprovado_Limpa_Sintetica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Aprovado_Limpa_Sintetica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_005_Aprovado_Contaminada_Biologica">
        <description>Aprovado - Campo contaminado com tela biologica</description>
        <inputEntry id="IE_Apr2_1"><text>"CDC_III_Contaminada","CDC_IV_Infectada"</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>"Biologica","Biosintetica"</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Campo contaminado/infectado - tela biologica ou biosintetica aprovada. Alternativa: reparo primario com tela estagiada posteriormente se infeccao controlada."</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"EHS 2019 / VHWG - Contaminated Field Management"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Aprovado_Contaminada_Biologica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Aprovado_Contaminada_Biologica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_GEN_HER_005_Aprovado_LimpaContaminada_Sintetica">
        <description>Aprovado - Campo limpo-contaminado com tela sintetica (cautela)</description>
        <inputEntry id="IE_Apr3_1"><text>"CDC_II_Limpa_Contaminada"</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Sintetica_Polipropileno","Sintetica_Composta"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"Campo limpo-contaminado (CDC II) - tela sintetica pode ser usada com cautela. Preferir posicao retromuscular (nao IPOM). Antibioticoprofilaxia adequada."</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EHS 2019 - Clean-Contaminated Field"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Aprovado_LimpaContaminada_Sintetica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Aprovado_LimpaContaminada_Sintetica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REGRAS DE PENDENCIA -->

      <rule id="Rule_GEN_HER_005_Pendente_Biologica_Limpa">
        <description>Pendente - Tela biologica em campo limpo (custo elevado)</description>
        <inputEntry id="IE_Pend1_1"><text>"CDC_I_Limpa"</text></inputEntry>
        <inputEntry id="IE_Pend1_2"><text>"Biologica"</text></inputEntry>
        <inputEntry id="IE_Pend1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend1_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend1_2"><text>"Tela biologica em campo limpo - custo elevado sem beneficio comprovado sobre sintetica. Justificar indicacao especifica (ex: plano de gravidez, radio/quimioterapia previa)."</text></outputEntry>
        <outputEntry id="OE_Pend1_3"><text>"EHS 2019 - Biologic Mesh Indications"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Pendente_Biologica_Limpa_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Pendente_Biologica_Limpa_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REGRA FALLBACK -->

      <rule id="Rule_GEN_HER_005_Fallback">
        <description>Fallback - Analise especializada</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise por auditor medico para avaliacao da escolha de tela."</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Auditoria cirurgica - RN 428/2017"</text></outputEntry>
      <outputEntry id="OE_GEN_HER_005_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_GEN_HER_005_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
