<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_GEN_EME_012"
             name="Sindrome Compartimental Abdominal - Descompressao"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    CODIGO: GEN-EME-012
    Procedimento: Sindrome Compartimental Abdominal - Laparotomia Descompressiva
    Especialidade: Cirurgia Geral - Trauma/UTI
    Versao: 3.0.0-TIER1
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CIRURGICAS:
    - Pressao Intra-Abdominal (PIA) >= 20 mmHg com disfuncao organica
    - Sindrome Compartimental Abdominal (SCA) grau III-IV
    - Falha de medidas conservadoras
    - Disfuncao renal progressiva por hipertensao abdominal
    - Insuficiencia respiratoria por pressao abdominal elevada

    CONTRAINDICACOES RELATIVAS:
    - PIA < 12 mmHg (normal)
    - Hipertensao intra-abdominal grau I sem disfuncao

    REFERENCIAS TECNICAS:
    - WSACS Guidelines 2013 - Intra-abdominal Hypertension
    - EAST Guidelines 2021 - Abdominal Compartment Syndrome
    - Intensive Care Medicine 2020

    ===============================================================================
  -->

  <decision id="Decision_GEN_EME_012" name="Regra Clinica - Sindrome Compartimental Abdominal">
    <decisionTable id="DecisionTable_GEN_EME_012" hitPolicy="FIRST">

      <!-- ========== INPUTS (5) ========== -->

      <input id="Input_pressaoIntraAbdominal" label="Pressao Intra-Abdominal (mmHg)" camunda:inputVariable="pressaoIntraAbdominal">
        <inputExpression id="InputExpression_pressaoIntraAbdominal" typeRef="number">
          <text>pressaoIntraAbdominal</text>
        </inputExpression>
      </input>

      <input id="Input_grauHIA" label="Grau de Hipertensao Intra-Abdominal" camunda:inputVariable="grauHIA">
        <inputExpression id="InputExpression_grauHIA" typeRef="string">
          <text>grauHIA</text>
        </inputExpression>
        <inputValues id="InputValues_grauHIA">
          <text>"Grau_I","Grau_II","Grau_III","Grau_IV","Normal"</text>
        </inputValues>
      </input>

      <input id="Input_disfuncaoOrganica" label="Disfuncao Organica Nova" camunda:inputVariable="disfuncaoOrganica">
        <inputExpression id="InputExpression_disfuncaoOrganica" typeRef="string">
          <text>disfuncaoOrganica</text>
        </inputExpression>
        <inputValues id="InputValues_disfuncaoOrganica">
          <text>"Renal","Respiratoria","Cardiovascular","Multipla","Ausente"</text>
        </inputValues>
      </input>

      <input id="Input_respostaMedidas" label="Resposta a Medidas Conservadoras" camunda:inputVariable="respostaMedidas">
        <inputExpression id="InputExpression_respostaMedidas" typeRef="string">
          <text>respostaMedidas</text>
        </inputExpression>
        <inputValues id="InputValues_respostaMedidas">
          <text>"Melhora","SemMelhora","Piora","NaoTentadas"</text>
        </inputValues>
      </input>

      <input id="Input_causaPrimaria" label="Causa Primaria" camunda:inputVariable="causaPrimaria">
        <inputExpression id="InputExpression_causaPrimaria" typeRef="string">
          <text>causaPrimaria</text>
        </inputExpression>
        <inputValues id="InputValues_causaPrimaria">
          <text>"Trauma","Pancreatite","SepseDominal","Queimadura","Ressuscitacao","Outra"</text>
        </inputValues>
      </input>

      <!-- ========== OUTPUTS (3) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== REGRAS DE REPROVACAO ========== -->

      <rule id="Rule_Reprovado_PIANormal">
        <description>Reprovado: PIA normal ou levemente elevada</description>
        <inputEntry id="IE_Rep1_1"><text>&lt; 12</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>"Normal","Grau_I"</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Pressao intra-abdominal normal ou HIA grau I sem disfuncao - descompressao nao indicada"</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"WSACS Guidelines 2013 - Monitoramento em HIA grau I"</text></outputEntry>
      <outputEntry id="OE_Reprovado_PIANormal_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_PIANormal_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_RespondendoTratamento">
        <description>Reprovado: Respondendo a medidas conservadoras</description>
        <inputEntry id="IE_Rep2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Rep2_2"><text>"Grau_II"</text></inputEntry>
        <inputEntry id="IE_Rep2_3"><text>"Ausente"</text></inputEntry>
        <inputEntry id="IE_Rep2_4"><text>"Melhora"</text></inputEntry>
        <inputEntry id="IE_Rep2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Rep2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep2_2"><text>"HIA grau II respondendo a medidas conservadoras - manter tratamento clinico"</text></outputEntry>
        <outputEntry id="OE_Rep2_3"><text>"EAST Guidelines 2021 - Otimizar medidas conservadoras antes de descompressao"</text></outputEntry>
      <outputEntry id="OE_Reprovado_RespondendoTratamento_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Reprovado_RespondendoTratamento_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRAS DE APROVACAO ========== -->

      <rule id="Rule_Aprovado_SCAGrauIV">
        <description>Aprovado: SCA grau IV - emergencia</description>
        <inputEntry id="IE_Apr1_1"><text>&gt;= 25</text></inputEntry>
        <inputEntry id="IE_Apr1_2"><text>"Grau_IV"</text></inputEntry>
        <inputEntry id="IE_Apr1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr1_2"><text>"PIA &gt;= 25 mmHg (Grau IV) - laparotomia descompressiva de emergencia imediata"</text></outputEntry>
        <outputEntry id="OE_Apr1_3"><text>"WSACS Guidelines 2013 - Grau IV e indicacao absoluta de descompressao"</text></outputEntry>
      <outputEntry id="OE_Aprovado_SCAGrauIV_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_SCAGrauIV_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_DisfuncaoMultipla">
        <description>Aprovado: Disfuncao organica multipla por HIA</description>
        <inputEntry id="IE_Apr2_1"><text>&gt;= 20</text></inputEntry>
        <inputEntry id="IE_Apr2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_3"><text>"Multipla"</text></inputEntry>
        <inputEntry id="IE_Apr2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr2_2"><text>"Disfuncao organica multipla associada a HIA - descompressao abdominal urgente"</text></outputEntry>
        <outputEntry id="OE_Apr2_3"><text>"WSACS Guidelines 2013 - Definicao de SCA: PIA &gt; 20 + disfuncao organica"</text></outputEntry>
      <outputEntry id="OE_Aprovado_DisfuncaoMultipla_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_DisfuncaoMultipla_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_FalhaTratamento">
        <description>Aprovado: Falha de medidas conservadoras com disfuncao</description>
        <inputEntry id="IE_Apr3_1"><text>&gt;= 20</text></inputEntry>
        <inputEntry id="IE_Apr3_2"><text>"Grau_III"</text></inputEntry>
        <inputEntry id="IE_Apr3_3"><text>not("Ausente")</text></inputEntry>
        <inputEntry id="IE_Apr3_4"><text>"SemMelhora","Piora"</text></inputEntry>
        <inputEntry id="IE_Apr3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr3_2"><text>"HIA grau III com disfuncao e falha de tratamento conservador - descompressao cirurgica"</text></outputEntry>
        <outputEntry id="OE_Apr3_3"><text>"EAST Guidelines 2021 - Falha de tratamento conservador indica descompressao"</text></outputEntry>
      <outputEntry id="OE_Aprovado_FalhaTratamento_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_FalhaTratamento_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_InsuficienciaRenal">
        <description>Aprovado: Insuficiencia renal aguda por HIA</description>
        <inputEntry id="IE_Apr4_1"><text>&gt;= 15</text></inputEntry>
        <inputEntry id="IE_Apr4_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr4_3"><text>"Renal"</text></inputEntry>
        <inputEntry id="IE_Apr4_4"><text>"SemMelhora","Piora"</text></inputEntry>
        <inputEntry id="IE_Apr4_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr4_2"><text>"Insuficiencia renal aguda atribuivel a HIA refrataria - descompressao para recuperacao renal"</text></outputEntry>
        <outputEntry id="OE_Apr4_3"><text>"Intensive Care Medicine 2020 - HIA e causa reversivel de IRA"</text></outputEntry>
      <outputEntry id="OE_Aprovado_InsuficienciaRenal_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_InsuficienciaRenal_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_Respiratorio">
        <description>Aprovado: Insuficiencia respiratoria por HIA</description>
        <inputEntry id="IE_Apr5_1"><text>&gt;= 15</text></inputEntry>
        <inputEntry id="IE_Apr5_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Apr5_3"><text>"Respiratoria"</text></inputEntry>
        <inputEntry id="IE_Apr5_4"><text>"SemMelhora","Piora"</text></inputEntry>
        <inputEntry id="IE_Apr5_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Apr5_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Apr5_2"><text>"Comprometimento respiratorio por elevacao diafragmatica - descompressao abdominal"</text></outputEntry>
        <outputEntry id="OE_Apr5_3"><text>"WSACS Guidelines 2013 - HIA afeta mecanica respiratoria"</text></outputEntry>
      <outputEntry id="OE_Aprovado_Respiratorio_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprovado_Respiratorio_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ========== REGRA FALLBACK ========== -->

      <rule id="Rule_Fallback_GEN_EME_012">
        <description>Pendente: Monitoramento de PIA seriado</description>
        <inputEntry id="IE_FB_1"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_2"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_3"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_4"><text>-</text></inputEntry>
        <inputEntry id="IE_FB_5"><text>-</text></inputEntry>
        <outputEntry id="OE_FB_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_FB_2"><text>"Monitoramento de PIA a cada 4-6h e otimizacao de medidas conservadoras"</text></outputEntry>
        <outputEntry id="OE_FB_3"><text>"WSACS Guidelines 2013 - Algoritmo de manejo de HIA"</text></outputEntry>
      <outputEntry id="OE_Fallback_GEN_EME_012_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Fallback_GEN_EME_012_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
