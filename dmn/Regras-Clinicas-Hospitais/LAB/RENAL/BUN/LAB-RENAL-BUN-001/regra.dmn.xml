<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:biodi="http://bpmn.io/schema/dmn/biodi/2.0" id="definitions_LAB-RENAL-BUN-001" name="LAB-RENAL-BUN-001" namespace="http://camunda.org/schema/1.0/dmn">
  <decision id="decision_LAB_RENAL_BUN_001" name="Ureia Elevada - Sindrome Uremica">
    <decisionTable id="decisionTable_LAB_RENAL_BUN_001" hitPolicy="FIRST">
      <input id="input_ureia" label="Ureia (mg/dL)">
        <inputExpression id="inputExpression_ureia" typeRef="number">
          <text>ureia</text>
        </inputExpression>
      </input>
      <input id="input_sintomas_uremicos" label="Sintomas Uremicos">
        <inputExpression id="inputExpression_sintomas" typeRef="boolean">
          <text>sintomasUremicos</text>
        </inputExpression>
      </input>
      <input id="input_creatinina" label="Creatinina (mg/dL)">
        <inputExpression id="inputExpression_creatinina" typeRef="number">
          <text>creatinina</text>
        </inputExpression>
      </input>

      <output id="output_nivelAlerta" label="Nivel de Alerta" name="nivelAlerta" typeRef="string">
        <outputValues id="outputValues_nivelAlerta">
          <text>"Alerta","Atencao","OK"</text>
        </outputValues>
      </output>
      <output id="output_urgencia" label="Urgencia" name="urgencia" typeRef="string">
        <outputValues id="outputValues_urgencia">
          <text>"IMEDIATA","ALTA","MEDIA","BAIXA"</text>
        </outputValues>
      </output>
      <output id="output_classificacao" label="Classificacao" name="classificacao" typeRef="string" />
      <output id="output_tendencia" label="Tendencia" name="tendencia" typeRef="string" />
      <output id="output_acaoRequerida" label="Acao Requerida" name="acaoRequerida" typeRef="string" />
      <output id="output_justificativa" label="Justificativa Cientifica" name="justificativaCientifica" typeRef="string" />

      <!-- Critical uremia with symptoms: Dialysis indication -->
      <rule id="rule_001">
        <inputEntry id="inputEntry_001_1">
          <text>&gt; 200</text>
        </inputEntry>
        <inputEntry id="inputEntry_001_2">
          <text>true</text>
        </inputEntry>
        <inputEntry id="inputEntry_001_3">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry_001_1">
          <text>"Alerta"</text>
        </outputEntry>
        <outputEntry id="outputEntry_001_2">
          <text>"IMEDIATA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_001_3">
          <text>"SINDROME_UREMICA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_001_4">
          <text>"CRITICO_UREMICO"</text>
        </outputEntry>
        <outputEntry id="outputEntry_001_5">
          <text>"EMERGENCIA: Sindrome uremica. INDICACAO ABSOLUTA DE DIALISE. Sintomas incluem: encefalopatia (confusao, asterixis), pericardite uremica (atrito, dor toracica), sangramento uremico, nauseas/vomitos intratareis. Nefrologista IMEDIATO. Acesso para dialise urgente. ECG para pericardite. Monitorar nivel de consciencia."</text>
        </outputEntry>
        <outputEntry id="outputEntry_001_6">
          <text>"Sindrome uremica com sintomas neurologicos, pericardite ou sangramento e indicacao absoluta de dialise independente de outros parametros. Uremia causa acumulo de toxinas que afetam multiplos orgaos. Encefalopatia uremica pode progredir para coma."</text>
        </outputEntry>
      </rule>

      <!-- High uremia without symptoms: Monitor closely -->
      <rule id="rule_002">
        <inputEntry id="inputEntry_002_1">
          <text>&gt; 200</text>
        </inputEntry>
        <inputEntry id="inputEntry_002_2">
          <text>false</text>
        </inputEntry>
        <inputEntry id="inputEntry_002_3">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry_002_1">
          <text>"Alerta"</text>
        </outputEntry>
        <outputEntry id="outputEntry_002_2">
          <text>"ALTA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_002_3">
          <text>"UREIA_CRITICA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_002_4">
          <text>"MUITO_ALTO"</text>
        </outputEntry>
        <outputEntry id="outputEntry_002_5">
          <text>"Ureia criticamente elevada sem sintomas atuais. Monitorar rigorosamente para desenvolvimento de sindrome uremica. Exame neurologico seriado. Ausculta cardiaca para atrito. Avaliar sangramento. Nefrologista para planejamento de TRS."</text>
        </outputEntry>
        <outputEntry id="outputEntry_002_6">
          <text>"Ureia &gt;200 mg/dL indica clearance renal severamente comprometido. Mesmo sem sintomas, paciente esta em risco de desenvolver manifestacoes uremicas. Inicio proativo de dialise pode prevenir complicacoes."</text>
        </outputEntry>
      </rule>

      <!-- High BUN/Cr ratio: Pre-renal azotemia -->
      <rule id="rule_003">
        <inputEntry id="inputEntry_003_1">
          <text>&gt; 100</text>
        </inputEntry>
        <inputEntry id="inputEntry_003_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry_003_3">
          <text>&lt; 2.0</text>
        </inputEntry>
        <outputEntry id="outputEntry_003_1">
          <text>"Atencao"</text>
        </outputEntry>
        <outputEntry id="outputEntry_003_2">
          <text>"ALTA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_003_3">
          <text>"AZOTEMIA_PRE_RENAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry_003_4">
          <text>"DESPROPORCIONAL"</text>
        </outputEntry>
        <outputEntry id="outputEntry_003_5">
          <text>"Relacao ureia/creatinina elevada (&gt;20:1) sugere azotemia pre-renal: desidratacao, sangramento GI, catabolismo aumentado, ICC. Avaliar volemia. Considerar ressuscitacao hidrica se hipovolemico. Investigar sangramento oculto (HDA)."</text>
        </outputEntry>
        <outputEntry id="outputEntry_003_6">
          <text>"Relacao BUN/Cr &gt;20:1 sugere componente pre-renal (reabsorcao aumentada de ureia por baixo fluxo tubular) ou aumento de producao de ureia (sangramento GI, catabolismo). Hidratacao pode reverter se pre-renal puro."</text>
        </outputEntry>
      </rule>

      <!-- Moderate elevation: BUN 100-200 -->
      <rule id="rule_004">
        <inputEntry id="inputEntry_004_1">
          <text>[100..200]</text>
        </inputEntry>
        <inputEntry id="inputEntry_004_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry_004_3">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry_004_1">
          <text>"Atencao"</text>
        </outputEntry>
        <outputEntry id="outputEntry_004_2">
          <text>"ALTA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_004_3">
          <text>"UREIA_ELEVADA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_004_4">
          <text>"ALTO"</text>
        </outputEntry>
        <outputEntry id="outputEntry_004_5">
          <text>"Ureia moderadamente elevada. Correlacionar com creatinina e TFG. Monitorar para sintomas uremicos. Dieta hipoproteica pode ajudar a controlar uremia. Avaliar necessidade de nefrologista."</text>
        </outputEntry>
        <outputEntry id="outputEntry_004_6">
          <text>"Ureia 100-200 mg/dL indica disfuncao renal significativa ou aumento de producao/absorcao. Acompanhamento necessario para detectar progressao e prevenir sindrome uremica."</text>
        </outputEntry>
      </rule>

      <!-- Fallback -->
      <rule id="rule_fallback">
        <inputEntry id="inputEntry_fallback_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry_fallback_2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="inputEntry_fallback_3">
          <text>-</text>
        </inputEntry>
        <outputEntry id="outputEntry_fallback_1">
          <text>"OK"</text>
        </outputEntry>
        <outputEntry id="outputEntry_fallback_2">
          <text>"BAIXA"</text>
        </outputEntry>
        <outputEntry id="outputEntry_fallback_3">
          <text>"FORA_CRITERIO"</text>
        </outputEntry>
        <outputEntry id="outputEntry_fallback_4">
          <text>"NAO_APLICAVEL"</text>
        </outputEntry>
        <outputEntry id="outputEntry_fallback_5">
          <text>"Ureia nao atende criterio critico desta regra."</text>
        </outputEntry>
        <outputEntry id="outputEntry_fallback_6">
          <text>"Esta regra monitora ureia critica &gt;100 mg/dL e sindrome uremica."</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
</definitions>
