{
  "ruleCode": "BILL-OPME-003",
  "ruleName": "Cadeia Autorizacao OPME",
  "category": "BILL",
  "subcategory": "OPME",
  "version": "1.0.0",
  "status": "active",
  "perspective": "HOSPITAL",
  "hitPolicy": "FIRST",
  "createdAt": "2026-02-06T00:00:00Z",
  "updatedAt": "2026-02-06T00:00:00Z",

  "inputs": [
    {
      "name": "possuiAutorizacaoPrevia",
      "type": "boolean",
      "label": "Possui Autorizacao Previa",
      "required": true,
      "description": "Indica se existe solicitacao de autorizacao previa para o OPME"
    },
    {
      "name": "valorExcedeLimite",
      "type": "boolean",
      "label": "Valor Excede Limite",
      "required": true,
      "description": "Indica se o valor do OPME excede limite de autorizacao automatica"
    },
    {
      "name": "laudoMedicoCompleto",
      "type": "boolean",
      "label": "Laudo Medico Completo",
      "required": true,
      "description": "Indica se o laudo medico justificativo esta completo e assinado"
    },
    {
      "name": "cotacaoFornecedorValida",
      "type": "boolean",
      "label": "Cotacao Fornecedor Valida",
      "required": true,
      "description": "Indica se existe cotacao de fornecedor documentada e valida"
    },
    {
      "name": "statusAutorizacao",
      "type": "string",
      "label": "Status Autorizacao",
      "required": true,
      "allowedValues": ["CONFIRMADA", "PENDENTE", "NAO_SOLICITADA"],
      "description": "Status atual da autorizacao previa junto a operadora"
    }
  ],

  "outputs": [
    {
      "name": "resultado",
      "type": "string",
      "label": "Resultado",
      "allowedValues": ["Prosseguir", "Bloquear", "Alertar", "Revisar"],
      "description": "Resultado da validacao de cadeia de autorizacao"
    },
    {
      "name": "observacao",
      "type": "string",
      "label": "Observacao",
      "description": "Justificativa detalhada para trilha de auditoria"
    },
    {
      "name": "acaoRecomendada",
      "type": "string",
      "label": "Acao Recomendada",
      "allowedValues": ["FATURAR", "SOLICITAR_AUTORIZACAO", "COMPLETAR_LAUDO", "OBTER_COTACAO"],
      "description": "Proxima acao recomendada para o faturista"
    },
    {
      "name": "codigoGlosaPotencial",
      "type": "string",
      "label": "Codigo Glosa Potencial",
      "allowedValues": ["A001", "A002", "A003", "N/A"],
      "description": "Codigo de glosa potencial se ignorar a regra"
    }
  ],

  "revenueImpact": "CRITICAL",
  "denialRiskIfIgnored": "CRITICO",

  "relatedCodes": ["OPME", "AUTORIZACAO", "LAUDO", "COTACAO"],
  "relatedMaterials": [
    {
      "category": "OPME_ALTO_CUSTO",
      "examples": ["Proteses Importadas", "Dispositivos Especiais", "Implantes Customizados"],
      "rule": "Cadeia de autorizacao completa obrigatoria"
    }
  ],

  "regulatoryBasis": [
    "RN ANS 465/2021 - Autorizacao Previa",
    "RN ANS 395/2016 - Cobertura de Materiais",
    "Resolucao CFM - Laudo Medico Justificativo",
    "Contrato Operadora - Procedimentos de Autorizacao"
  ],

  "references": [
    "HOSPITAL_COUNTER_RULES_BLUEPRINT.md - Authorization Chain Section",
    "Fluxo de Autorizacao de Materiais Especiais"
  ],

  "tags": ["billing", "opme", "autorizacao", "laudo", "cotacao", "revenue-protection", "tier1-critical"],

  "changelog": [
    {
      "version": "1.0.0",
      "date": "2026-02-06",
      "changes": "Criacao inicial da regra de cadeia de autorizacao OPME",
      "author": "DMN Generator Agent"
    }
  ]
}
