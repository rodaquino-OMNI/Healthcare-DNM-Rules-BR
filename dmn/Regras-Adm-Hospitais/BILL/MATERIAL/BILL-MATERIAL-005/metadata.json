{
  "ruleCode": "BILL-MATERIAL-005",
  "ruleName": "Validacao de Kit Cirurgico vs Itens Avulsos",
  "category": "BILL",
  "subcategory": "MATERIAL",
  "version": "1.0.0",
  "status": "active",
  "perspective": "HOSPITAL",
  "hitPolicy": "FIRST",
  "createdAt": "2026-02-06T00:00:00Z",
  "updatedAt": "2026-02-06T00:00:00Z",

  "inputs": [
    {
      "name": "kitCobrado",
      "type": "boolean",
      "label": "Kit Cobrado",
      "required": true,
      "description": "Indica se um kit cirurgico foi cobrado na conta"
    },
    {
      "name": "itensAvulsosCobrados",
      "type": "boolean",
      "label": "Itens Avulsos Cobrados",
      "required": true,
      "description": "Indica se itens avulsos foram cobrados na conta"
    },
    {
      "name": "itensAvulsosInclusosNoKit",
      "type": "boolean",
      "label": "Itens Avulsos Inclusos No Kit",
      "required": false,
      "description": "Indica se os itens avulsos cobrados fazem parte do kit"
    },
    {
      "name": "kitComposicaoPadrao",
      "type": "boolean",
      "label": "Kit Composicao Padrao",
      "required": false,
      "description": "Indica se o kit utilizado tem composicao padrao registrada"
    },
    {
      "name": "justificativaComposicaoPresente",
      "type": "boolean",
      "label": "Justificativa Composicao Presente",
      "required": false,
      "description": "Indica se existe justificativa para composicao nao padronizada"
    }
  ],

  "outputs": [
    {
      "name": "resultado",
      "type": "string",
      "label": "Resultado",
      "allowedValues": ["Prosseguir", "Bloquear", "Alertar", "Revisar"],
      "description": "Resultado da validacao (perspectiva HOSPITAL)"
    },
    {
      "name": "observacao",
      "type": "string",
      "label": "Observacao",
      "description": "Justificativa detalhada para trilha de auditoria"
    },
    {
      "name": "acaoRecomendada",
      "type": "string",
      "label": "Acao Recomendada",
      "allowedValues": ["FATURAR", "REMOVER_DUPLICIDADE", "DOCUMENTAR_COMPOSICAO", "ESCOLHER_KIT_OU_AVULSO"],
      "description": "Proxima acao recomendada para o faturista"
    },
    {
      "name": "codigoGlosaPotencial",
      "type": "string",
      "label": "Codigo Glosa Potencial",
      "allowedValues": ["KIT001", "KIT002", "KIT003", "N/A"],
      "description": "Codigo de glosa potencial se ignorar a regra"
    }
  ],

  "revenueImpact": "HIGH",
  "denialRiskIfIgnored": "ALTO",

  "relatedCodes": ["KIT", "AVULSO", "DUPLICIDADE"],
  "relatedMaterials": [
    {
      "category": "KIT_CIRURGICO",
      "examples": ["Kit Videolaparoscopia", "Kit Artroscopia", "Kit Ortopedia"],
      "rule": "Nao cobrar kit junto com itens inclusos no kit"
    }
  ],

  "regulatoryBasis": [
    "Tabela de Composicao de Kits Cirurgicos",
    "Contratos Operadoras - Clausulas de Kits",
    "Protocolo de Abertura de Kits"
  ],

  "references": [
    "HOSPITAL_COUNTER_RULES_BLUEPRINT.md - Kit Billing Section",
    "Tabela Interna de Composicao de Kits"
  ],

  "tags": ["billing", "material", "kit", "avulso", "duplicidade", "composicao", "cirurgia"],

  "changelog": [
    {
      "version": "1.0.0",
      "date": "2026-02-06",
      "changes": "Criacao inicial da regra de validacao de kit vs itens avulsos",
      "author": "System Architect Agent"
    }
  ]
}
