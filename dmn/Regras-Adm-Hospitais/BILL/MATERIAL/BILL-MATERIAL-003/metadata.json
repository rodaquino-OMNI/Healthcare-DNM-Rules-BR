{
  "ruleCode": "BILL-MATERIAL-003",
  "ruleName": "Validacao de Insumos Cirurgicos",
  "category": "BILL",
  "subcategory": "MATERIAL",
  "version": "1.0.0",
  "status": "active",
  "perspective": "HOSPITAL",
  "hitPolicy": "FIRST",
  "createdAt": "2026-02-06T00:00:00Z",
  "updatedAt": "2026-02-06T00:00:00Z",

  "inputs": [
    {
      "name": "quantidadeDentroPadrao",
      "type": "boolean",
      "label": "Quantidade Dentro Padrao",
      "required": true,
      "description": "Indica se a quantidade de insumos esta dentro do padrao do protocolo"
    },
    {
      "name": "percentualExcedente",
      "type": "number",
      "label": "Percentual Excedente",
      "required": true,
      "description": "Percentual de excedente em relacao ao padrao (0 = exato, 50 = 50% acima)"
    },
    {
      "name": "marcaPadronizada",
      "type": "boolean",
      "label": "Marca Padronizada",
      "required": true,
      "description": "Indica se a marca utilizada esta na lista padronizada da operadora"
    },
    {
      "name": "justificativaMarcaPresente",
      "type": "boolean",
      "label": "Justificativa Marca Presente",
      "required": false,
      "description": "Indica se existe justificativa para uso de marca alternativa"
    },
    {
      "name": "inclusoTaxaSala",
      "type": "boolean",
      "label": "Incluso Taxa Sala",
      "required": true,
      "description": "Indica se o insumo ja esta incluso na taxa de sala ou pacote"
    }
  ],

  "outputs": [
    {
      "name": "resultado",
      "type": "string",
      "label": "Resultado",
      "allowedValues": ["Prosseguir", "Bloquear", "Alertar", "Revisar"],
      "description": "Resultado da validacao (perspectiva HOSPITAL)"
    },
    {
      "name": "observacao",
      "type": "string",
      "label": "Observacao",
      "description": "Justificativa detalhada para trilha de auditoria"
    },
    {
      "name": "acaoRecomendada",
      "type": "string",
      "label": "Acao Recomendada",
      "allowedValues": ["FATURAR", "AJUSTAR_QUANTIDADE", "JUSTIFICAR_MARCA", "REMOVER_DUPLICIDADE"],
      "description": "Proxima acao recomendada para o faturista"
    },
    {
      "name": "codigoGlosaPotencial",
      "type": "string",
      "label": "Codigo Glosa Potencial",
      "allowedValues": ["INS001", "INS002", "INS003", "N/A"],
      "description": "Codigo de glosa potencial se ignorar a regra"
    }
  ],

  "revenueImpact": "MEDIUM",
  "denialRiskIfIgnored": "ALTO",

  "relatedCodes": ["INSUMOS", "CIRURGIA", "PROTOCOLO"],
  "relatedMaterials": [
    {
      "category": "INSUMOS_CIRURGICOS",
      "examples": ["Fios de sutura", "Compressas", "Gazes", "Campos cirurgicos"],
      "rule": "Quantidade conforme protocolo institucional"
    }
  ],

  "regulatoryBasis": [
    "Protocolos Cirurgicos Institucionais",
    "Tabela de Consumo Padrao por Procedimento",
    "Lista de Marcas Autorizadas"
  ],

  "references": [
    "HOSPITAL_COUNTER_RULES_BLUEPRINT.md - Surgical Supplies Section",
    "Protocolo de Consumo Padrao - Centro Cirurgico"
  ],

  "tags": ["billing", "material", "insumos", "cirurgia", "protocolo", "quantidade", "marca"],

  "changelog": [
    {
      "version": "1.0.0",
      "date": "2026-02-06",
      "changes": "Criacao inicial da regra de validacao de insumos cirurgicos",
      "author": "System Architect Agent"
    }
  ]
}
