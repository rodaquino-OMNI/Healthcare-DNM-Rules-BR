<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_UNN_009"
             name="Prevencao de Procedimento Desnecessario - Cesarea Eletiva Sem Indicacao Obstetrica"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    UNN-009 - Prevencao de Procedimento Desnecessario - Cesarea Eletiva Sem Indicacao Obstetrica
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Controle de Desperdicio
    Categoria: Unnecessary Procedure Prevention

    Objetivo:
    - Reduzir taxas de cesarea eletiva sem indicacao medica
    - Incentivar parto vaginal quando seguro
    - Seguir recomendacoes OMS de taxa de cesarea

    Indicacoes para Bloqueio (Choosing Wisely):
    - Gestacao de baixo risco sem contraindicacao a parto vaginal
    - Preferencia materna sem indicacao medica
    - Ausencia de cesareas previas ou outras contraindicacoes

    Excecoes Permitidas:
    - Duas ou mais cesareas previas
    - Apresentacao pelvica ou transversa
    - Placenta previa ou acreta
    - Sofrimento fetal documentado
    - Macrossomia com estimativa maior que 4500g

    Referencias Normativas:
    - OMS - Taxas de Cesarea 2021 (10-15% ideal)
    - FEBRASGO - Diretrizes de Cesarea 2023
    - ANS - Programa Parto Adequado
  -->

  <decision id="Decision_UNN_009" name="Prevencao Desnecessario - Cesarea Eletiva Sem Indicacao">
    <decisionTable id="DecisionTable_UNN_009" hitPolicy="FIRST">

      <!-- Input 1: Gestacao de baixo risco -->
      <input id="Input_gestacaoBaixoRisco" label="Gestacao de Baixo Risco Obstetrico">
        <inputExpression id="InputExpr_gestacaoBaixoRisco" typeRef="boolean">
          <text>gestacaoBaixoRisco</text>
        </inputExpression>
      </input>

      <!-- Input 2: Indicacao medica documentada -->
      <input id="Input_indicacaoMedicaDocumentada" label="Indicacao Medica para Cesarea Documentada">
        <inputExpression id="InputExpr_indicacaoMedicaDocumentada" typeRef="boolean">
          <text>indicacaoMedicaDocumentada</text>
        </inputExpression>
      </input>

      <!-- Input 3: Duas ou mais cesareas previas -->
      <input id="Input_duasOuMaisCesareasPrevia" label="Duas ou Mais Cesareas Previas">
        <inputExpression id="InputExpr_duasOuMaisCesareasPrevia" typeRef="boolean">
          <text>duasOuMaisCesareasPrevia</text>
        </inputExpression>
      </input>

      <!-- Input 4: Apresentacao anomala ou placenta previa -->
      <input id="Input_apresentacaoAnomalaPlacenta" label="Apresentacao Anomala ou Placenta Previa">
        <inputExpression id="InputExpr_apresentacaoAnomalaPlacenta" typeRef="boolean">
          <text>apresentacaoAnomalaPlacenta</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao Legal" name="fundamentacao" typeRef="string" />
      <!-- Output 4: Alertas de Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>


      <!-- ============================================== -->
      <!-- REPROVADO: Cesarea eletiva sem indicacao      -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Reprovado_SemIndicacao">
        <description>Reprovado - Cesarea eletiva sem indicacao medica em gestacao de baixo risco</description>
        <inputEntry id="IE_Rep1_1"><text>true</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Cesarea eletiva nao indicada em gestacao de baixo risco sem contraindicacao a parto vaginal. Incentivar parto normal conforme Programa Parto Adequado ANS."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"OMS 2021; FEBRASGO 2023; ANS Parto Adequado"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Reprovado_SemIndicacao_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Reprovado_SemIndicacao_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Indicacao medica documentada        -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Aprovado_IndicacaoMedica">
        <description>Aprovado - Indicacao medica para cesarea documentada</description>
        <inputEntry id="IE_Aprov1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_2"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov1_2"><text>"Cesarea autorizada - Indicacao medica documentada conforme protocolos obstetricos."</text></outputEntry>
        <outputEntry id="OE_Aprov1_3"><text>"Indicacao obstetrica - FEBRASGO 2023"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_IndicacaoMedica_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_IndicacaoMedica_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Cesareas previas                    -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Aprovado_CesareasPrevia">
        <description>Aprovado - Duas ou mais cesareas previas</description>
        <inputEntry id="IE_Aprov2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov2_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov2_2"><text>"Cesarea autorizada - Duas ou mais cesareas previas aumentam risco de rotura uterina."</text></outputEntry>
        <outputEntry id="OE_Aprov2_3"><text>"Cesareas previas - Indicacao relativa/absoluta"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_CesareasPrevia_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_CesareasPrevia_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Apresentacao anomala/placenta       -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Aprovado_ApresentacaoAnomala">
        <description>Aprovado - Apresentacao anomala ou placenta previa</description>
        <inputEntry id="IE_Aprov3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_4"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov3_2"><text>"Cesarea autorizada - Apresentacao pelvica, transversa ou placenta previa contraindicam parto vaginal."</text></outputEntry>
        <outputEntry id="OE_Aprov3_3"><text>"Contraindicacao a parto vaginal - Indicacao absoluta"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_ApresentacaoAnomala_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_ApresentacaoAnomala_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Nao e baixo risco                   -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Aprovado_NaoBaixoRisco">
        <description>Aprovado - Gestacao nao classificada como baixo risco</description>
        <inputEntry id="IE_Aprov4_1"><text>false</text></inputEntry>
        <inputEntry id="IE_Aprov4_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov4_2"><text>"Cesarea autorizada - Gestacao de alto risco pode ter indicacao de cesarea."</text></outputEntry>
        <outputEntry id="OE_Aprov4_3"><text>"Gestacao alto risco - Avaliacao individualizada"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_NaoBaixoRisco_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Aprovado_NaoBaixoRisco_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- PENDENTE: Fallback                            -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_009_Pendente_Fallback">
        <description>Pendente - Requer analise manual por auditor</description>
        <inputEntry id="IE_Pend_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend_2"><text>"Caso requer analise manual por auditor obstetrico para avaliacao de indicacao de cesarea."</text></outputEntry>
        <outputEntry id="OE_Pend_3"><text>"Auditoria obstetrica - Processo manual"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Pendente_Fallback_4"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_009_Pendente_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
