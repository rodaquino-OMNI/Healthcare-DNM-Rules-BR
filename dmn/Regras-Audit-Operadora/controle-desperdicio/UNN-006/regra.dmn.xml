<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_UNN_006"
             name="Prevencao de Procedimento Desnecessario - PET-CT para Estadiamento Inicial Sem Indicacao"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    UNN-006 - Prevencao de Procedimento Desnecessario - PET-CT para Estadiamento Inicial Sem Indicacao
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Controle de Desperdicio
    Categoria: Unnecessary Procedure Prevention

    Objetivo:
    - Evitar PET-CT para estadiamento em tumores de baixo risco metastatico
    - Seguir diretrizes NCCN e DUT para indicacoes de PET-CT
    - Reduzir custos com exames de alto valor sem beneficio clinico

    Indicacoes para Bloqueio (Choosing Wisely):
    - Cancer de prostata de baixo risco (Gleason menor que 7)
    - Cancer de mama inicial (T1-T2, N0) sem suspeita de metastase
    - Cancer de pele nao-melanoma

    Excecoes Permitidas:
    - Estadiamento de linfomas
    - Cancer de pulmao de nao pequenas celulas
    - Suspeita de recidiva com marcadores elevados
    - Tumores de alto grau ou localmente avancados

    Referencias Normativas:
    - ABM Choosing Wisely Brasil 2024 - Oncologia
    - NCCN Guidelines - Staging Recommendations
    - DUT ANS 2024 - PET-CT Cobertura
  -->

  <decision id="Decision_UNN_006" name="Prevencao Desnecessario - PET-CT Estadiamento Sem Indicacao">
    <decisionTable id="DecisionTable_UNN_006" hitPolicy="FIRST">

      <!-- Input 1: Tumor de baixo risco metastatico -->
      <input id="Input_tumorBaixoRiscoMetastatico" label="Tumor de Baixo Risco Metastatico">
        <inputExpression id="InputExpr_tumorBaixoRiscoMetastatico" typeRef="boolean">
          <text>tumorBaixoRiscoMetastatico</text>
        </inputExpression>
      </input>

      <!-- Input 2: Indicacao DUT para PET-CT -->
      <input id="Input_indicacaoDUTPetCT" label="Indicacao DUT ANS para PET-CT">
        <inputExpression id="InputExpr_indicacaoDUTPetCT" typeRef="boolean">
          <text>indicacaoDUTPetCT</text>
        </inputExpression>
      </input>

      <!-- Input 3: Suspeita de recidiva com marcadores elevados -->
      <input id="Input_suspeitaRecidivaMarcadores" label="Suspeita de Recidiva com Marcadores Elevados">
        <inputExpression id="InputExpr_suspeitaRecidivaMarcadores" typeRef="boolean">
          <text>suspeitaRecidivaMarcadores</text>
        </inputExpression>
      </input>

      <!-- Input 4: Tumor localmente avancado ou alto grau -->
      <input id="Input_tumorLocalmenteAvancado" label="Tumor Localmente Avancado ou Alto Grau">
        <inputExpression id="InputExpr_tumorLocalmenteAvancado" typeRef="boolean">
          <text>tumorLocalmenteAvancado</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao Legal" name="fundamentacao" typeRef="string" />
      <!-- Output 4: Alertas de Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>


      <!-- ============================================== -->
      <!-- REPROVADO: Baixo risco sem indicacao DUT      -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Reprovado_BaixoRisco">
        <description>Reprovado - PET-CT para tumor de baixo risco sem indicacao DUT</description>
        <inputEntry id="IE_Rep1_1"><text>true</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"PET-CT nao indicado para estadiamento de tumor de baixo risco metastatico. TC convencional e suficiente para estadiamento inicial."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"ABM Choosing Wisely 2024; DUT ANS 2024"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Reprovado_BaixoRisco_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Reprovado_BaixoRisco_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Indicacao DUT                       -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Aprovado_IndicacaoDUT">
        <description>Aprovado - Indicacao DUT ANS para PET-CT</description>
        <inputEntry id="IE_Aprov1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_2"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov1_2"><text>"PET-CT autorizado - Indicacao presente na DUT ANS para o tipo tumoral e estadio."</text></outputEntry>
        <outputEntry id="OE_Aprov1_3"><text>"DUT ANS 2024 - Cobertura obrigatoria"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_IndicacaoDUT_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_IndicacaoDUT_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Suspeita de recidiva                -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Aprovado_Recidiva">
        <description>Aprovado - Suspeita de recidiva com marcadores tumorais elevados</description>
        <inputEntry id="IE_Aprov2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov2_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov2_2"><text>"PET-CT autorizado - Suspeita de recidiva com marcadores tumorais elevados e exames convencionais inconclusivos."</text></outputEntry>
        <outputEntry id="OE_Aprov2_3"><text>"Investigacao de recidiva - NCCN Guidelines"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_Recidiva_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_Recidiva_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Tumor localmente avancado           -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Aprovado_Avancado">
        <description>Aprovado - Tumor localmente avancado ou de alto grau</description>
        <inputEntry id="IE_Aprov3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_4"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov3_2"><text>"PET-CT autorizado - Tumor localmente avancado ou alto grau justifica estadiamento completo."</text></outputEntry>
        <outputEntry id="OE_Aprov3_3"><text>"Alto risco - Estadiamento indicado"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_Avancado_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_Avancado_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Nao e baixo risco                   -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Aprovado_NaoBaixoRisco">
        <description>Aprovado - Tumor nao classificado como baixo risco</description>
        <inputEntry id="IE_Aprov4_1"><text>false</text></inputEntry>
        <inputEntry id="IE_Aprov4_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov4_2"><text>"PET-CT autorizado - Tumor nao classificado como baixo risco metastatico."</text></outputEntry>
        <outputEntry id="OE_Aprov4_3"><text>"Estadiamento oncologico - Indicacao aceita"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_NaoBaixoRisco_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Aprovado_NaoBaixoRisco_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- PENDENTE: Fallback                            -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_006_Pendente_Fallback">
        <description>Pendente - Requer analise manual por auditor</description>
        <inputEntry id="IE_Pend_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend_2"><text>"Caso requer analise manual por auditor oncologico para avaliacao de indicacao de PET-CT."</text></outputEntry>
        <outputEntry id="OE_Pend_3"><text>"Auditoria oncologica - Processo manual"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Pendente_Fallback_4"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_006_Pendente_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
