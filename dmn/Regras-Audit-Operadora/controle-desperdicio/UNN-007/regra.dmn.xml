<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_UNN_007"
             name="Prevencao de Procedimento Desnecessario - Artroscopia para Osteoartrite de Joelho"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    UNN-007 - Prevencao de Procedimento Desnecessario - Artroscopia para Osteoartrite de Joelho
    Versao: 1.0.0 (2026-02-07)
    Especialidade: Controle de Desperdicio
    Categoria: Unnecessary Procedure Prevention

    Objetivo:
    - Evitar artroscopia de joelho para osteoartrite degenerativa isolada
    - Reduzir procedimentos sem beneficio clinico comprovado
    - Direcionar para tratamento conservador adequado

    Indicacoes para Bloqueio (Choosing Wisely):
    - Osteoartrite de joelho sem bloqueio mecanico
    - Desgaste articular degenerativo sem corpo livre
    - Ausencia de lesao meniscal aguda

    Excecoes Permitidas:
    - Bloqueio articular por corpo livre documentado
    - Lesao meniscal aguda traumatica
    - Falha de tratamento conservador por 6 meses
    - Lesao ligamentar associada

    Referencias Normativas:
    - ABM Choosing Wisely Brasil 2024 - Ortopedia
    - AAOS Clinical Practice Guidelines 2023
    - Cochrane Review - Knee Arthroscopy for OA
  -->

  <decision id="Decision_UNN_007" name="Prevencao Desnecessario - Artroscopia para Osteoartrite Joelho">
    <decisionTable id="DecisionTable_UNN_007" hitPolicy="FIRST">

      <!-- Input 1: Osteoartrite degenerativa isolada -->
      <input id="Input_osteoartriteDegenerativaIsolada" label="Osteoartrite Degenerativa Isolada (sem lesao aguda)">
        <inputExpression id="InputExpr_osteoartriteDegenerativaIsolada" typeRef="boolean">
          <text>osteoartriteDegenerativaIsolada</text>
        </inputExpression>
      </input>

      <!-- Input 2: Bloqueio articular por corpo livre -->
      <input id="Input_bloqueioArticularCorpoLivre" label="Bloqueio Articular por Corpo Livre Documentado">
        <inputExpression id="InputExpr_bloqueioArticularCorpoLivre" typeRef="boolean">
          <text>bloqueioArticularCorpoLivre</text>
        </inputExpression>
      </input>

      <!-- Input 3: Lesao meniscal aguda traumatica -->
      <input id="Input_lesaoMeniscalAguda" label="Lesao Meniscal Aguda Traumatica">
        <inputExpression id="InputExpr_lesaoMeniscalAguda" typeRef="boolean">
          <text>lesaoMeniscalAguda</text>
        </inputExpression>
      </input>

      <!-- Input 4: Falha tratamento conservador 6 meses -->
      <input id="Input_falhaTratamentoConservador" label="Falha de Tratamento Conservador por 6 Meses">
        <inputExpression id="InputExpr_falhaTratamentoConservador" typeRef="boolean">
          <text>falhaTratamentoConservador</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao Legal" name="fundamentacao" typeRef="string" />
      <!-- Output 4: Alertas de Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>


      <!-- ============================================== -->
      <!-- REPROVADO: OA degenerativa sem excecao        -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Reprovado_OADegenerativa">
        <description>Reprovado - Artroscopia para osteoartrite degenerativa isolada</description>
        <inputEntry id="IE_Rep1_1"><text>true</text></inputEntry>
        <inputEntry id="IE_Rep1_2"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_3"><text>false</text></inputEntry>
        <inputEntry id="IE_Rep1_4"><text>false</text></inputEntry>
        <outputEntry id="OE_Rep1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Rep1_2"><text>"Artroscopia nao indicada para osteoartrite degenerativa isolada. Estudos mostram ausencia de beneficio sobre tratamento conservador. Recomenda-se fisioterapia e controle de peso."</text></outputEntry>
        <outputEntry id="OE_Rep1_3"><text>"ABM Choosing Wisely 2024; AAOS Guidelines 2023; Cochrane Review"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Reprovado_OADegenerativa_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Reprovado_OADegenerativa_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Bloqueio por corpo livre            -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Aprovado_CorpoLivre">
        <description>Aprovado - Bloqueio articular por corpo livre</description>
        <inputEntry id="IE_Aprov1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_2"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov1_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov1_2"><text>"Artroscopia autorizada - Bloqueio articular por corpo livre documentado requer remocao cirurgica."</text></outputEntry>
        <outputEntry id="OE_Aprov1_3"><text>"Corpo livre articular - Indicacao cirurgica"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_CorpoLivre_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_CorpoLivre_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Lesao meniscal aguda                -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Aprovado_LesaoMeniscal">
        <description>Aprovado - Lesao meniscal aguda traumatica</description>
        <inputEntry id="IE_Aprov2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov2_3"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov2_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov2_2"><text>"Artroscopia autorizada - Lesao meniscal aguda traumatica com indicacao de reparo ou meniscectomia."</text></outputEntry>
        <outputEntry id="OE_Aprov2_3"><text>"Lesao meniscal aguda - Indicacao cirurgica"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_LesaoMeniscal_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_LesaoMeniscal_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Falha conservador                   -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Aprovado_FalhaConservador">
        <description>Aprovado - Falha de tratamento conservador documentada</description>
        <inputEntry id="IE_Aprov3_1"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov3_4"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov3_2"><text>"Artroscopia autorizada - Falha de tratamento conservador por 6 meses documentada com sintomas mecanicos persistentes."</text></outputEntry>
        <outputEntry id="OE_Aprov3_3"><text>"Falha conservador - Ultima linha terapeutica"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_FalhaConservador_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_FalhaConservador_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APROVADO: Nao e OA degenerativa isolada       -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Aprovado_NaoOAIsolada">
        <description>Aprovado - Nao se trata de osteoartrite degenerativa isolada</description>
        <inputEntry id="IE_Aprov4_1"><text>false</text></inputEntry>
        <inputEntry id="IE_Aprov4_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov4_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Aprov4_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov4_2"><text>"Artroscopia autorizada - Indicacao nao relacionada a osteoartrite degenerativa isolada."</text></outputEntry>
        <outputEntry id="OE_Aprov4_3"><text>"Indicacao ortopedica aceita"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_NaoOAIsolada_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Aprovado_NaoOAIsolada_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- PENDENTE: Fallback                            -->
      <!-- ============================================== -->
      <rule id="Rule_UNN_007_Pendente_Fallback">
        <description>Pendente - Requer analise manual por auditor</description>
        <inputEntry id="IE_Pend_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Pend_4"><text>-</text></inputEntry>
        <outputEntry id="OE_Pend_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Pend_2"><text>"Caso requer analise manual por auditor ortopedico para avaliacao de indicacao cirurgica."</text></outputEntry>
        <outputEntry id="OE_Pend_3"><text>"Auditoria ortopedica - Processo manual"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Pendente_Fallback_4"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Rule_UNN_007_Pendente_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
