{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DMN Template Registry",
  "description": "Registry mapping specialties and procedure categories to DMN templates",
  "version": "1.0.0",
  "created": "2026-02-06",
  "templates": [
    {
      "template_id": "diagnostic-imaging-template",
      "template_file": "diagnostic-imaging-template.dmn.xml",
      "category": "Diagnostic Imaging",
      "description": "Template for diagnostic imaging procedures (CT, MRI, PET, ultrasound, etc.)",
      "applicable_specialties": [
        "radiologia",
        "medicina-nuclear",
        "ultrassonografia"
      ],
      "key_inputs": [
        "diagnosticoPrincipal",
        "indicacaoClinica",
        "gestante",
        "laudoMedicoAnexado"
      ],
      "typical_tuss_prefixes": [
        "40",
        "41"
      ],
      "use_when": [
        "Exames de imagem diagnostica",
        "Procedimentos radiologicos",
        "Medicina nuclear diagnostica"
      ]
    },
    {
      "template_id": "laboratory-genetics-template",
      "template_file": "laboratory-genetics-template.dmn.xml",
      "category": "Laboratory Genetics",
      "description": "Template for genetic testing and molecular diagnostics",
      "applicable_specialties": [
        "genetica-medica",
        "patologia-clinica",
        "biologia-molecular"
      ],
      "key_inputs": [
        "diagnosticoSuspeita",
        "historicoFamiliar",
        "testesAnteriores",
        "justificativaMedica"
      ],
      "typical_tuss_prefixes": [
        "42"
      ],
      "use_when": [
        "Testes geneticos",
        "Sequenciamento genomico",
        "Paineis geneticos",
        "Testes de mutacao especifica"
      ]
    },
    {
      "template_id": "surgical-procedure-template",
      "template_file": "surgical-procedure-template.dmn.xml",
      "category": "Surgical Procedure",
      "description": "Template for surgical interventions requiring pre-operative evaluation",
      "applicable_specialties": [
        "cirurgia-geral",
        "cirurgia-oncologica",
        "cirurgia-cardiaca",
        "cirurgia-vascular",
        "neurocirurgia",
        "cirurgia-toracica",
        "ortopedia"
      ],
      "key_inputs": [
        "diagnosticoConfirmado",
        "estadiamentoTumor",
        "tratamentosPrevios",
        "riscoCirurgico",
        "laudoIndicacao"
      ],
      "typical_tuss_prefixes": [
        "30",
        "31",
        "32"
      ],
      "use_when": [
        "Procedimentos cirurgicos eletivos",
        "Cirurgias oncologicas",
        "Cirurgias cardiacas",
        "Procedimentos com risco cirurgico"
      ]
    },
    {
      "template_id": "therapeutic-intervention-template",
      "template_file": "therapeutic-intervention-template.dmn.xml",
      "category": "Therapeutic Intervention",
      "description": "Template for therapeutic procedures with class-based indication system",
      "applicable_specialties": [
        "cardiologia",
        "hemodinamica",
        "radiologia-intervencionista",
        "medicina-intervencionista"
      ],
      "key_inputs": [
        "diagnosticoBase",
        "classeIndicacao",
        "criteriosEspecificos",
        "contraindicacoesAusentes",
        "documentacaoCompleta"
      ],
      "typical_tuss_prefixes": [
        "30"
      ],
      "use_when": [
        "Procedimentos terapeuticos intervencionistas",
        "Implante de dispositivos cardiacos",
        "Procedimentos hemodinamicos",
        "Intervencoes com classificacao de classe (I/IIa/IIb/III)"
      ]
    },
    {
      "template_id": "rehabilitation-therapy-template",
      "template_file": "rehabilitation-therapy-template.dmn.xml",
      "category": "Rehabilitation Therapy",
      "description": "Template for physical therapy and rehabilitation procedures",
      "applicable_specialties": [
        "fisioterapia",
        "medicina-fisica-reabilitacao",
        "terapia-ocupacional",
        "fonoaudiologia"
      ],
      "key_inputs": [
        "diagnosticoFuncional",
        "objetivoTerapeutico",
        "frequenciaSolicitada",
        "avaliacaoFisiatrica"
      ],
      "typical_tuss_prefixes": [
        "50"
      ],
      "use_when": [
        "Sessoes de fisioterapia",
        "Reabilitacao neurologica",
        "Reabilitacao ortopedica",
        "Terapia ocupacional",
        "Fonoaudiologia"
      ]
    },
    {
      "template_id": "oncology-specialized-template",
      "template_file": "oncology-specialized-template.dmn.xml",
      "category": "Oncology Specialized",
      "description": "Template for oncology procedures with staging and performance status requirements",
      "applicable_specialties": [
        "oncologia-clinica",
        "hematologia",
        "radioterapia"
      ],
      "key_inputs": [
        "diagnosticoOncologico",
        "estadiamento",
        "linhasTratamento",
        "performanceStatus",
        "protocoloTerapeutico"
      ],
      "typical_tuss_prefixes": [
        "30",
        "31",
        "60"
      ],
      "use_when": [
        "Quimioterapia",
        "Imunoterapia oncologica",
        "Terapia-alvo",
        "Radioterapia",
        "Procedimentos hematologicos oncologicos"
      ]
    }
  ],
  "specialty_to_template_mapping": {
    "radiologia": ["diagnostic-imaging-template"],
    "medicina-nuclear": ["diagnostic-imaging-template"],
    "ultrassonografia": ["diagnostic-imaging-template"],
    "genetica-medica": ["laboratory-genetics-template"],
    "patologia-clinica": ["laboratory-genetics-template"],
    "biologia-molecular": ["laboratory-genetics-template"],
    "cirurgia-geral": ["surgical-procedure-template"],
    "cirurgia-oncologica": ["surgical-procedure-template", "oncology-specialized-template"],
    "cirurgia-cardiaca": ["surgical-procedure-template"],
    "cirurgia-vascular": ["surgical-procedure-template"],
    "neurocirurgia": ["surgical-procedure-template"],
    "cirurgia-toracica": ["surgical-procedure-template"],
    "ortopedia": ["surgical-procedure-template"],
    "cardiologia": ["therapeutic-intervention-template"],
    "hemodinamica": ["therapeutic-intervention-template"],
    "radiologia-intervencionista": ["therapeutic-intervention-template"],
    "medicina-intervencionista": ["therapeutic-intervention-template"],
    "fisioterapia": ["rehabilitation-therapy-template"],
    "medicina-fisica-reabilitacao": ["rehabilitation-therapy-template"],
    "terapia-ocupacional": ["rehabilitation-therapy-template"],
    "fonoaudiologia": ["rehabilitation-therapy-template"],
    "oncologia-clinica": ["oncology-specialized-template"],
    "hematologia": ["oncology-specialized-template"],
    "radioterapia": ["oncology-specialized-template"]
  },
  "template_selection_guide": {
    "description": "Decision tree for selecting appropriate template",
    "questions": [
      {
        "question": "Is this primarily a diagnostic imaging procedure?",
        "if_yes": "Use diagnostic-imaging-template",
        "if_no": "Continue to next question"
      },
      {
        "question": "Is this a genetic test or molecular diagnostic?",
        "if_yes": "Use laboratory-genetics-template",
        "if_no": "Continue to next question"
      },
      {
        "question": "Is this a surgical procedure requiring operating room?",
        "if_yes": "Use surgical-procedure-template (consider oncology-specialized-template if cancer-related)",
        "if_no": "Continue to next question"
      },
      {
        "question": "Is this an oncology treatment (chemo/immuno/radiation)?",
        "if_yes": "Use oncology-specialized-template",
        "if_no": "Continue to next question"
      },
      {
        "question": "Is this a rehabilitation/therapy with frequency requirements?",
        "if_yes": "Use rehabilitation-therapy-template",
        "if_no": "Continue to next question"
      },
      {
        "question": "Is this a therapeutic intervention with class-based indication?",
        "if_yes": "Use therapeutic-intervention-template",
        "if_no": "Consider creating new template or adapting closest match"
      }
    ]
  },
  "metadata": {
    "tier1_quality_requirements": {
      "xml_header": "Clinical documentation with TUSS, indications, contraindications, references",
      "decision_table": "hitPolicy FIRST, minimum 3 procedure-specific inputs, standard outputs",
      "rule_structure": "Descriptive IDs, clinical rationale, CONTRAINDICATIONS → APPROVALS → FALLBACK ordering"
    },
    "standard_outputs": [
      {
        "name": "resultado",
        "type": "string",
        "outputValues": ["Aprovado", "Reprovado", "Pendente"]
      },
      {
        "name": "observacao",
        "type": "string",
        "description": "Clinical observation/justification"
      },
      {
        "name": "fundamentacao",
        "type": "string",
        "description": "Legal/normative reference"
      }
    ],
    "common_normative_references": [
      "DUT ANS 2024 - Diretrizes de Utilizacao para Cobertura de Procedimentos",
      "RN 465/2021 - Rol de Procedimentos e Eventos em Saude",
      "Sociedades medicas especializadas (SBC, SBOC, ABRAFISM, etc.)"
    ]
  }
}
