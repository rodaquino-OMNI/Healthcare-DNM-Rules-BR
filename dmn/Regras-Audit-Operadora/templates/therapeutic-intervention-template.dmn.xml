<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_TUSS_CODE"
             name="PROCEDURE_NAME"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    TUSS TUSS_CODE - PROCEDURE_NAME
    Versao: 1.0.0 (2026-02-06)
    Especialidade: SPECIALTY_NAME
    Categoria: Therapeutic Intervention

    Indicacoes Clinicas:
    - Diagnostico confirmado de [condicao] com criterios Classe I (indicacao estabelecida)
    - Diagnostico confirmado de [condicao] com criterios Classe IIa (peso de evidencia favoravel)
    - [Indicacao 3 com criterios quantitativos especificos]

    Contraindicacoes:
    - Contraindicacoes absolutas especificas: [listar contraindicacoes]
    - Contraindicacoes relativas: [listar contraindicacoes relativas]
    - [Contraindicacao especifica 3]

    Documentacao Obrigatoria:
    - Laudo medico com indicacao terapeutica fundamentada e CID-10
    - Resultado de exames diagnosticos que fundamentam a indicacao
    - Classificacao de classe de indicacao (I, IIa, IIb, III)
    - Documentacao de ausencia de contraindicacoes
    - [Documento especifico adicional]

    Referencias Normativas:
    - DUT ANS 2024 - Diretrizes para Intervencoes Terapeuticas
    - RN 465/2021 - Rol de Procedimentos Terapeuticos
    - [Sociedade medica especializada - Diretriz terapeutica]
    - [Protocolo clinico especifico baseado em evidencias]
  -->

  <decision id="Decision_TUSS_CODE" name="Criterios de Autorizacao - PROCEDURE_NAME">
    <decisionTable id="DecisionTable_TUSS_CODE" hitPolicy="FIRST">

      <!-- Input 1: Diagnostico Base -->
      <input id="Input_diagnosticoBase" label="Diagnostico Base (CID-10)">
        <inputExpression id="InputExpr_diagnosticoBase" typeRef="string">
          <text>diagnosticoBase</text>
        </inputExpression>
        <inputValues id="InputValues_diagnosticoBase">
          <text>"THERAPEUTIC_INDICATION_1","THERAPEUTIC_INDICATION_2","THERAPEUTIC_INDICATION_3"</text>
        </inputValues>
      </input>

      <!-- Input 2: Classe de Indicacao -->
      <input id="Input_classeIndicacao" label="Classe de Indicacao Terapeutica">
        <inputExpression id="InputExpr_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"CLASSE_I","CLASSE_IIA","CLASSE_IIB","CLASSE_III"</text>
        </inputValues>
      </input>

      <!-- Input 3: Criterios Especificos -->
      <input id="Input_criteriosEspecificos" label="Criterios Especificos da Condicao">
        <inputExpression id="InputExpr_criteriosEspecificos" typeRef="string">
          <text>criteriosEspecificos</text>
        </inputExpression>
        <inputValues id="InputValues_criteriosEspecificos">
          <text>"CRITERIO_ESPECIFICO_1","CRITERIO_ESPECIFICO_2","CRITERIO_ESPECIFICO_3","NENHUM_ATENDIDO"</text>
        </inputValues>
      </input>

      <!-- Input 4: Contraindicacoes Ausentes -->
      <input id="Input_contraindicacoesAusentes" label="Contraindicacoes Ausentes">
        <inputExpression id="InputExpr_contraindicacoes" typeRef="boolean">
          <text>contraindicacoesAusentes</text>
        </inputExpression>
      </input>

      <!-- Input 5: Documentacao Completa -->
      <input id="Input_documentacaoCompleta" label="Documentacao Completa">
        <inputExpression id="InputExpr_documentacao" typeRef="boolean">
          <text>documentacaoCompleta</text>
        </inputExpression>
      </input>

      <!-- Output 1: Resultado -->
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <!-- Output 2: Observacao -->
      <output id="Output_observacao" label="Observacao" name="observacao" typeRef="string" />

      <!-- Output 3: Fundamentacao -->
      <output id="Output_fundamentacao" label="Fundamentacao Legal" name="fundamentacao" typeRef="string" />

      <!-- Output 4: Alertas de Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ============================================== -->
      <!-- CONTRAINDICATION: Classe III                  -->
      <!-- MUST COME FIRST for global denial             -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Contraindicacao_ClasseIII">
        <description>Contraindicacao absoluta - Classe III (procedimento nao recomendado)</description>
        <inputEntry id="IE_Contra1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_2"><text>"CLASSE_III"</text></inputEntry>
        <inputEntry id="IE_Contra1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Contra1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra1_2"><text>"Classe III de indicacao - procedimento nao recomendado/contraindicado conforme diretrizes"</text></outputEntry>
        <outputEntry id="OE_Contra1_3"><text>"DUT ANS 2024 - Classe III nao coberta"</text></outputEntry>
        <outputEntry id="OE_Contra1_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Contra1_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- CONTRAINDICATION: Contraindicacoes presentes  -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Contraindicacao_Presentes">
        <description>Contraindicacao - Contraindicacoes clinicas presentes</description>
        <inputEntry id="IE_Contra2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_4"><text>false</text></inputEntry>
        <inputEntry id="IE_Contra2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Contra2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra2_2"><text>"Contraindicacoes clinicas presentes - procedimento nao autorizado"</text></outputEntry>
        <outputEntry id="OE_Contra2_3"><text>"DUT ANS 2024 - Contraindicacoes documentadas"</text></outputEntry>
        <outputEntry id="OE_Contra2_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Contra2_5"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- CONTRAINDICATION: Documentacao incompleta     -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Contraindicacao_SemDocumentacao">
        <description>Contraindicacao - Documentacao obrigatoria incompleta</description>
        <inputEntry id="IE_Contra3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Contra3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra3_2"><text>"Documentacao obrigatoria incompleta - inclui laudo fundamentado e exames diagnosticos"</text></outputEntry>
        <outputEntry id="OE_Contra3_3"><text>"RN 465/2021 Art. 5 - Documentacao Minima"</text></outputEntry>
        <outputEntry id="OE_Contra3_4"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Contra3_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APPROVAL: Classe I com criterio 1             -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Aprovacao_ClasseI_Criterio1">
        <description>Aprovacao prioritaria - Classe I com criterio especifico 1 atendido</description>
        <inputEntry id="IE_Aprov1_1"><text>"THERAPEUTIC_INDICATION_1"</text></inputEntry>
        <inputEntry id="IE_Aprov1_2"><text>"CLASSE_I"</text></inputEntry>
        <inputEntry id="IE_Aprov1_3"><text>"CRITERIO_ESPECIFICO_1"</text></inputEntry>
        <inputEntry id="IE_Aprov1_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov1_2"><text>"Indicacao Classe I prioritaria - criterio especifico atendido, sem contraindicacoes"</text></outputEntry>
        <outputEntry id="OE_Aprov1_3"><text>"DUT ANS 2024 - Classe I estabelecida"</text></outputEntry>
        <outputEntry id="OE_Aprov1_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprov1_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APPROVAL: Classe IIa com criterio 2           -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Aprovacao_ClasseIIa_Criterio2">
        <description>Aprovacao secundaria - Classe IIa com criterio especifico 2 atendido</description>
        <inputEntry id="IE_Aprov2_1"><text>"THERAPEUTIC_INDICATION_1","THERAPEUTIC_INDICATION_2"</text></inputEntry>
        <inputEntry id="IE_Aprov2_2"><text>"CLASSE_IIA"</text></inputEntry>
        <inputEntry id="IE_Aprov2_3"><text>"CRITERIO_ESPECIFICO_2"</text></inputEntry>
        <inputEntry id="IE_Aprov2_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov2_2"><text>"Indicacao Classe IIa secundaria - peso de evidencia favoravel, criterio atendido"</text></outputEntry>
        <outputEntry id="OE_Aprov2_3"><text>"DUT ANS 2024 - Classe IIa razoavel"</text></outputEntry>
        <outputEntry id="OE_Aprov2_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprov2_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- APPROVAL: Classe IIb com criterio 3           -->
      <!-- ============================================== -->
      <rule id="Rule_TUSS_CODE_Aprovacao_ClasseIIb_Criterio3">
        <description>Aprovacao terciaria - Classe IIb com criterio especifico 3 atendido</description>
        <inputEntry id="IE_Aprov3_1"><text>"THERAPEUTIC_INDICATION_1","THERAPEUTIC_INDICATION_2","THERAPEUTIC_INDICATION_3"</text></inputEntry>
        <inputEntry id="IE_Aprov3_2"><text>"CLASSE_IIB"</text></inputEntry>
        <inputEntry id="IE_Aprov3_3"><text>"CRITERIO_ESPECIFICO_3"</text></inputEntry>
        <inputEntry id="IE_Aprov3_4"><text>true</text></inputEntry>
        <inputEntry id="IE_Aprov3_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprov3_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov3_2"><text>"Indicacao Classe IIb terciaria - pode ser considerado, criterio especifico atendido"</text></outputEntry>
        <outputEntry id="OE_Aprov3_3"><text>"DUT ANS 2024 - Classe IIb pode ser considerado"</text></outputEntry>
        <outputEntry id="OE_Aprov3_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprov3_5"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ============================================== -->
      <!-- FALLBACK RULE - Casos nao cobertos            -->
      <!-- ============================================== -->
      <rule id="Rule_Fallback_TUSS_CODE">
        <description>Regra padrao - Casos nao cobertos requerem analise manual por auditor especializado</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_1"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_2"><text>"Caso requer analise manual por auditor especializado - criterios nao atendidos automaticamente"</text></outputEntry>
        <outputEntry id="OE_Fallback_3"><text>"Processo manual de auditoria especializada"</text></outputEntry>
        <outputEntry id="OE_Fallback_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Fallback_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
