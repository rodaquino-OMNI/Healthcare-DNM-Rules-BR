<?xml version="1.0" encoding="UTF-8"?>
<!--
  ONQ-DRUG-014: Bortezomib Regimens
  TUSS: 40501339
  Versao: 3.1.0-LEAN-TIER2 (2026-02-08)
  Especialidade: Oncologia

  ============================================================================
  INDICACOES CLINICAS:
  ============================================================================
  - MM: VRd (SWOG S0777), VMP, Vd, VTd
  - LCM: recidivado (LYM-3001)
  - Via SC preferida (menor neuropatia)
  - Neuropatia grau 2+: reduzir dose ou trocar para carfilzomib

  ============================================================================
  REFERENCIAS NORMATIVAS:
  ============================================================================
  - SWOG S0777 (VRd vs Rd)
  - VISTA (VMP)
  - LYM-3001 (MCL)
  - NCCN Multiple Myeloma 2024, NCCN MCL 2024
-->
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_ONQ_DRUG_014" name="DRD" namespace="http://camunda.org/schema/1.0/dmn" exporter="Camunda Modeler" exporterVersion="5.14.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.2.0">
  <decision id="Decision_ONQ_DRUG_014" name="ONQ-DRUG-014: Bortezomib Regimens [LEAN TIER-2]">
    <decisionTable id="DecisionTable_ONQ_DRUG_014" hitPolicy="FIRST">
      <input id="Input_disease" label="Disease">
        <inputExpression id="InputExpression_disease" typeRef="string">
          <text>disease</text>
        </inputExpression>
      </input>
      <input id="Input_regimen" label="Proposed Regimen">
        <inputExpression id="InputExpression_regimen" typeRef="string">
          <text>proposedRegimen</text>
        </inputExpression>
      </input>
      <input id="Input_neuropathy_grade" label="Neuropathy Grade">
        <inputExpression id="InputExpression_neuropathy_grade" typeRef="number">
          <text>neuropathyGrade</text>
        </inputExpression>
      </input>
      <input id="Input_line" label="Treatment Line">
        <inputExpression id="InputExpression_line" typeRef="number">
          <text>treatmentLine</text>
        </inputExpression>
      </input>
      <!-- Input: Dias desde ultimo procedimento (DUP detection) -->
      <input id="Input_ultimoProcedimentoDias" label="Dias Desde Ultimo Procedimento">
        <inputExpression id="InputExpression_ultimoProcedimentoDias" typeRef="number">
          <text>ultimoProcedimentoDias</text>
        </inputExpression>
      </input>

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="UnaryTests_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>
      <output id="Output_observacao" label="Observacao" name="observacao" typeRef="string" />
      <output id="Output_fundamentacao" label="Fundamentacao" name="fundamentacao" typeRef="string" />
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>
      <rule id="DecisionRule_reject_neuropathy">
        <description>Reject if significant neuropathy</description>
        <inputEntry id="InputEntry_disease_neuro">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_neuro">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_neuro">
          <text>>= 3</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_neuro">
          <text>-</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_reject_neuropathy_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_neuro">
          <text>"Reprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_neuro">
          <text>"Neuropatia grau 3+: bortezomibe contraindicado. Trocar para carfilzomib ou ixazomib"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_neuro">
          <text>"Neuropatia periferica e toxicidade dose-limitante; grau 3+ requer descontinuacao"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_neuro">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_neuro">
          <text>"NEGAR"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_pending_neuropathy_g2">
        <description>Pending if grade 2 neuropathy</description>
        <inputEntry id="InputEntry_disease_g2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_g2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_g2">
          <text>2</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_g2">
          <text>-</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_pending_neuropathy_g2_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_g2">
          <text>"Pendente"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_g2">
          <text>"Neuropatia grau 2: reduzir dose ou frequencia. Considerar trocar PI se persistir"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_g2">
          <text>"Via SC e semanal reduzem neuropatia; se grau 2 persistente, considerar carfilzomib"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_g2">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_g2">
          <text>"SOLICITAR_INFO"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_reject_non_approved">
        <description>Reject non-approved diseases</description>
        <inputEntry id="InputEntry_disease_non">
          <text>not("multiple_myeloma","MM","myeloma","MCL","mantle_cell_lymphoma")</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_non">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_non">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_non">
          <text>-</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_reject_non_approved_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_non">
          <text>"Reprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_non">
          <text>"Bortezomibe: apenas mieloma multiplo ou linfoma do manto"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_non">
          <text>"Indicacoes aprovadas: MM (SWOG, VISTA) e MCL (LYM-3001). Amiloidose em estudo"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_non">
          <text>"PROT"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_non">
          <text>"NEGAR"</text>
        </outputEntry>
      </rule>

      <!-- WASTE DETECTION: DUP -->
      <rule id="Rule_40501339_DUP">
        <description>DUP - Bortezomib dose repetida em menos de 14 dias</description>
        <inputEntry id="IE_DUP_40501339_1"><text>-</text></inputEntry>
        <inputEntry id="IE_DUP_40501339_2"><text>-</text></inputEntry>
        <inputEntry id="IE_DUP_40501339_3"><text>-</text></inputEntry>
        <inputEntry id="IE_DUP_40501339_4"><text>-</text></inputEntry>
        <inputEntry id="IE_DUP_40501339_ultimo"><text>&lt; 14</text></inputEntry>
        <outputEntry id="OE_DUP_40501339_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_DUP_40501339_observacao"><text>"Bortezomib dose repetida em menos de 14 dias"</text></outputEntry>
        <outputEntry id="OE_DUP_40501339_fundamentacao"><text>"Bula bortezomib: Dias 1,4,8,11 a cada 21 dias. Intervalo minimo seguro"</text></outputEntry>
        <outputEntry id="OE_DUP_40501339_alertasDesperdicio"><text>"DUP"</text></outputEntry>
        <outputEntry id="OE_DUP_40501339_acaoRecomendada"><text>"AGUARDAR_PRAZO"</text></outputEntry>
      </rule>

      <rule id="DecisionRule_approve_mm_vrd">
        <description>Approve MM with VRd</description>
        <inputEntry id="InputEntry_disease_vrd">
          <text>"multiple_myeloma","MM","myeloma"</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_vrd">
          <text>"VRd","bortezomib_lenalidomide_dex"</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_vrd">
          <text>[0..1]</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_vrd">
          <text>1</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_approve_mm_vrd_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_vrd">
          <text>"Aprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_vrd">
          <text>"VRd aprovado: MM 1L padrao. Via SC preferida, esquema semanal apos inducao"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_vrd">
          <text>"SWOG S0777: OS 75 vs 64m com VRd vs Rd; padrao-ouro para 1L"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_vrd">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_vrd">
          <text>"APROVAR"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_approve_mm_vmp">
        <description>Approve MM with VMP</description>
        <inputEntry id="InputEntry_disease_vmp">
          <text>"multiple_myeloma","MM","myeloma"</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_vmp">
          <text>"VMP","bortezomib_melphalan_pred"</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_vmp">
          <text>[0..1]</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_vmp">
          <text>1</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_approve_mm_vmp_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_vmp">
          <text>"Aprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_vmp">
          <text>"VMP aprovado: MM 1L inelegivel TMO. 9 ciclos. Preferir dara-VMP se disponivel"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_vmp">
          <text>"VISTA: OS 56 vs 43m; VMP padrao pre-daratumumabe para inelegiveis"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_vmp">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_vmp">
          <text>"APROVAR"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_approve_mm_vd">
        <description>Approve MM with Vd</description>
        <inputEntry id="InputEntry_disease_vd">
          <text>"multiple_myeloma","MM","myeloma"</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_vd">
          <text>"Vd","bortezomib_dex"</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_vd">
          <text>[0..1]</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_vd">
          <text>>= 2</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_approve_mm_vd_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_vd">
          <text>"Aprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_vd">
          <text>"Vd aprovado: MM recidivado. Preferir tripleto (dara-Vd) se disponivel"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_vd">
          <text>"ENDEAVOR: base Vd confirmada em recidiva; adicionar dara melhora resultados"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_vd">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_vd">
          <text>"APROVAR"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_approve_mcl">
        <description>Approve MCL relapsed</description>
        <inputEntry id="InputEntry_disease_mcl">
          <text>"MCL","mantle_cell_lymphoma"</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_mcl">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_mcl">
          <text>[0..1]</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_mcl">
          <text>>= 2</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_approve_mcl_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_mcl">
          <text>"Aprovado"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_mcl">
          <text>"Bortezomibe aprovado: LCM recidivado. Considerar ibrutinibe como alternativa"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_mcl">
          <text>"LYM-3001: ORR 33% monoterapia; combinacoes com rituximabe melhoram resposta"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_mcl">
          <text>"NENHUM"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_mcl">
          <text>"APROVAR"</text>
        </outputEntry>
      </rule>
      <rule id="DecisionRule_fallback">
        <description>Fallback rule</description>
        <inputEntry id="InputEntry_disease_fallback">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_regimen_fallback">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_neuropathy_grade_fallback">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_line_fallback">
          <text>-</text>
        </inputEntry>
        <inputEntry id="IE_DecisionRule_fallback_ultimo"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_resultado_fallback">
          <text>"Pendente"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_observacao_fallback">
          <text>"Dados insuficientes para avaliacao de bortezomibe"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_fundamentacao_fallback">
          <text>"Necessario: doenca, regime proposto, grau de neuropatia, linha de tratamento"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_alertasDesperdicio_fallback">
          <text>"DOC"</text>
        </outputEntry>
        <outputEntry id="OutputEntry_acaoRecomendada_fallback">
          <text>"SOLICITAR_INFO"</text>
        </outputEntry>
      </rule>
    </decisionTable>
  </decision>
  <dmndi:DMNDI>
    <dmndi:DMNDiagram>
      <dmndi:DMNShape dmnElementRef="Decision_ONQ_DRUG_014">
        <dc:Bounds height="80" width="180" x="160" y="100" />
      </dmndi:DMNShape>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</definitions>
