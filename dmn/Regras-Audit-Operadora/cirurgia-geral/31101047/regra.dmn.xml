<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_BAR003" name="DRD" namespace="http://camunda.org/schema/1.0/dmn" exporter="Camunda Modeler" exporterVersion="5.20.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.4.0">
  <!-- TUSS: 31101047 - Failed Conservative Treatment Bariatric Surgery (BAR-003) -->
  <decision id="Decision_BAR003" name="Failed Conservative Treatment Bariatric Surgery">
    <decisionTable id="DecisionTable_BAR003" hitPolicy="FIRST">
      <input id="Input_DiagnosticoConfirmado" label="Diagnostico Confirmado">
        <inputExpression id="InputExpression_DiagnosticoConfirmado" typeRef="string">
          <text>diagnosticoConfirmado</text>
        </inputExpression>
        <inputValues id="InputValues_DiagnosticoConfirmado">
          <text>"E66.0","E66.1","E66.2","E66.8","E66.9","Nao_Aplicavel"</text>
        </inputValues>
      </input>
      <input id="Input_Estadiamento" label="Estadiamento">
        <inputExpression id="InputExpression_Estadiamento" typeRef="string">
          <text>estadiamento</text>
        </inputExpression>
        <inputValues id="InputValues_Estadiamento">
          <text>"BMI_35_39_com_Comorbidade","BMI_40_Plus","BMI_Menos_35","Nao_Aplicavel"</text>
        </inputValues>
      </input>
      <input id="Input_TratamentosPrevios" label="Tratamentos Previos">
        <inputExpression id="InputExpression_TratamentosPrevios" typeRef="string">
          <text>tratamentosPrevios</text>
        </inputExpression>
        <inputValues id="InputValues_TratamentosPrevios">
          <text>"Falha_Documentada_2_Anos","Falha_Programa_Estruturado","Documentado_Incompleto","Nao_Documentado"</text>
        </inputValues>
      </input>
      <input id="Input_RiscoCirurgico" label="Risco Cirurgico">
        <inputExpression id="InputExpression_RiscoCirurgico" typeRef="string">
          <text>riscoCirurgico</text>
        </inputExpression>
        <inputValues id="InputValues_RiscoCirurgico">
          <text>"ASA_I","ASA_II","ASA_III","ASA_IV","ASA_V"</text>
        </inputValues>
      </input>
      <input id="Input_LaudoIndicacao" label="Laudo Indicacao">
        <inputExpression id="InputExpression_LaudoIndicacao" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>
      <output id="Output_Decisao" label="Decisao" name="decisao" typeRef="string">
        <outputValues id="OutputValues_Decisao">
          <text>"Aprovado","Reprovado","Necessita_Auditoria"</text>
        </outputValues>
      </output>
      <output id="Output_Justificativa" label="Justificativa" name="justificativa" typeRef="string" />
      <output id="Output_Referencia" label="Referencia" name="referencia" typeRef="string" />

      <!-- Output 4: Alertas Desperdicio -->
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <!-- Output 5: Acao Recomendada -->
      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <rule id="Rule_BAR003_Contraindicacao_1">
        <description>Contraindicacao - ASA V inoperavel</description>
        <inputEntry id="IE_Contra1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_4"><text>"ASA_V"</text></inputEntry>
        <inputEntry id="IE_Contra1_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Contra1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra1_2"><text>"Risco cirurgico proibitivo (ASA V) - paciente moribundo sem expectativa cirurgia eletiva"</text></outputEntry>
        <outputEntry id="OE_Contra1_3"><text>"CFM 2016, ASA Classification"</text></outputEntry>
      <outputEntry id="OE_BAR003_Contraindicacao_1_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_BAR003_Contraindicacao_1_5"><text>"NEGAR"</text></outputEntry>
      </rule>
      <rule id="Rule_BAR003_Contraindicacao_2">
        <description>Contraindicacao - BMI insuficiente</description>
        <inputEntry id="IE_Contra2_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_2"><text>"BMI_Menos_35"</text></inputEntry>
        <inputEntry id="IE_Contra2_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Contra2_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra2_2"><text>"BMI abaixo dos criterios minimos (35 com comorbidade ou 40 sem)"</text></outputEntry>
        <outputEntry id="OE_Contra2_3"><text>"CFM Resolucao 2131/2015"</text></outputEntry>
      <outputEntry id="OE_BAR003_Contraindicacao_2_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_BAR003_Contraindicacao_2_5"><text>"NEGAR"</text></outputEntry>
      </rule>
      <rule id="Rule_BAR003_Contraindicacao_3">
        <description>Contraindicacao - tratamento conservador nao documentado</description>
        <inputEntry id="IE_Contra3_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_3"><text>"Nao_Documentado","Documentado_Incompleto"</text></inputEntry>
        <inputEntry id="IE_Contra3_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra3_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Contra3_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Contra3_2"><text>"Ausencia de documentacao de falha em tratamento conservador por minimo 2 anos ou programa estruturado supervisionado"</text></outputEntry>
        <outputEntry id="OE_Contra3_3"><text>"ANS RN 465, CFM 2016"</text></outputEntry>
      <outputEntry id="OE_BAR003_Contraindicacao_3_4"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_BAR003_Contraindicacao_3_5"><text>"NEGAR"</text></outputEntry>
      </rule>
      <rule id="Rule_BAR003_Auditoria_1">
        <description>Auditoria - verificar equipe multidisciplinar completa</description>
        <inputEntry id="IE_Auditoria1_1"><text>"E66.0","E66.1","E66.2","E66.8","E66.9"</text></inputEntry>
        <inputEntry id="IE_Auditoria1_2"><text>"BMI_35_39_com_Comorbidade","BMI_40_Plus"</text></inputEntry>
        <inputEntry id="IE_Auditoria1_3"><text>"Falha_Documentada_2_Anos","Falha_Programa_Estruturado"</text></inputEntry>
        <inputEntry id="IE_Auditoria1_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Auditoria1_5"><text>false</text></inputEntry>
        <outputEntry id="OE_Auditoria1_1"><text>"Necessita_Auditoria"</text></outputEntry>
        <outputEntry id="OE_Auditoria1_2"><text>"Criterios BMI e falha conservador satisfeitos. Verificar laudos: nutricionista (6mo), psicologo, clinico geral, exames pre-op"</text></outputEntry>
        <outputEntry id="OE_Auditoria1_3"><text>"CFM Resolucao 2131/2015, SBCBM"</text></outputEntry>
      <outputEntry id="OE_BAR003_Auditoria_1_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_BAR003_Auditoria_1_5"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>
      <rule id="Rule_BAR003_Aprovado_1">
        <description>Aprovado - falha documentada 2 anos</description>
        <inputEntry id="IE_Aprovado1_1"><text>"E66.0","E66.1","E66.2","E66.8","E66.9"</text></inputEntry>
        <inputEntry id="IE_Aprovado1_2"><text>"BMI_40_Plus"</text></inputEntry>
        <inputEntry id="IE_Aprovado1_3"><text>"Falha_Documentada_2_Anos"</text></inputEntry>
        <inputEntry id="IE_Aprovado1_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Aprovado1_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprovado1_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprovado1_2"><text>"Criterios completos: BMI â‰¥40, falha documentada tratamento clinico por minimo 2 anos, equipe multidisciplinar completa"</text></outputEntry>
        <outputEntry id="OE_Aprovado1_3"><text>"CFM 2016, ANS RN 465, SBCBM Guidelines"</text></outputEntry>
      <outputEntry id="OE_BAR003_Aprovado_1_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_BAR003_Aprovado_1_5"><text>"APROVAR"</text></outputEntry>
      </rule>
      <rule id="Rule_BAR003_Aprovado_2">
        <description>Aprovado - falha programa estruturado</description>
        <inputEntry id="IE_Aprovado2_1"><text>"E66.0","E66.1","E66.2","E66.8","E66.9"</text></inputEntry>
        <inputEntry id="IE_Aprovado2_2"><text>"BMI_35_39_com_Comorbidade","BMI_40_Plus"</text></inputEntry>
        <inputEntry id="IE_Aprovado2_3"><text>"Falha_Programa_Estruturado"</text></inputEntry>
        <inputEntry id="IE_Aprovado2_4"><text>"ASA_I","ASA_II","ASA_III","ASA_IV"</text></inputEntry>
        <inputEntry id="IE_Aprovado2_5"><text>true</text></inputEntry>
        <outputEntry id="OE_Aprovado2_1"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprovado2_2"><text>"Criterios completos: BMI criterios, falha documentada em programa estruturado supervisionado, equipe multidisciplinar"</text></outputEntry>
        <outputEntry id="OE_Aprovado2_3"><text>"CFM 2016, ANS RN 465, SBCBM Guidelines"</text></outputEntry>
      <outputEntry id="OE_BAR003_Aprovado_2_4"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_BAR003_Aprovado_2_5"><text>"APROVAR"</text></outputEntry>
      </rule>
    </decisionTable>
  </decision>
</definitions>
