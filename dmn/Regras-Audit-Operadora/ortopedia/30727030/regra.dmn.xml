<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC/"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI/"
             id="Definitions_30727030"
             name="ORT-CONS-002: Tratamento Conservador Antes Artroplastia Joelho"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.0.0">
  <!--
    TUSS 30727030 - Tratamento Conservador Antes Artroplastia Joelho
    Versao: 3.0.0 (2026-02-07)
    Especialidade: Ortopedia

    Indicacoes:
    - TKA requer classificacao Kellgren-Lawrence (KL) ≥3
    - OU KL Grau 2 + falha PT ≥3 meses + NSAID trial + ≥1 infiltracao

    Contraindicacoes:
    - TKA prematura em KL Grau 1-2 sem tentativa conservadora adequada

    Waste Prevention:
    - R$25-40K economia por TKA evitada/adiada

    Referencias:
    - SBO Guidelines on Total Knee Arthroplasty
    - OARSI Clinical Practice Guidelines
  -->
  <decision id="Decision_30727030" name="ORT-CONS-002: Tratamento Conservador Antes Artroplastia Joelho">
    <decisionTable id="DecisionTable_30727030" hitPolicy="FIRST">
      <input id="Input_diagnosticoConfirmado" label="Diagnostico Confirmado (CID-10)">
        <inputExpression id="InputExpression_diagnostico" typeRef="string">
          <text>diagnosticoConfirmado</text>
        </inputExpression>
      </input>
      <input id="Input_tratamentosPrevios" label="Tratamentos Previos">
        <inputExpression id="InputExpression_tratamentos" typeRef="string">
          <text>tratamentosPrevios</text>
        </inputExpression>
      </input>
      <input id="Input_classificacaoLesao" label="Classificacao Lesao">
        <inputExpression id="InputExpression_classificacao" typeRef="string">
          <text>classificacaoLesao</text>
        </inputExpression>
      </input>
      <input id="Input_riscoCirurgico" label="Risco Cirurgico (ASA)">
        <inputExpression id="InputExpression_risco" typeRef="string">
          <text>riscoCirurgico</text>
        </inputExpression>
      </input>
      <input id="Input_laudoIndicacao" label="Laudo Indicacao Anexado">
        <inputExpression id="InputExpression_laudo" typeRef="boolean">
          <text>laudoIndicacao</text>
        </inputExpression>
      </input>
      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_decisao">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>
      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />
      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues>
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string">
        <outputValues>
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>
      <rule id="Rule_30727030_Contraindicacao_1">
        <description>Contraindicacao - Risco cirurgico proibitivo ASA V</description>
        <inputEntry id="IE_Contra1_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra1_4"><text>"ASA_V"</text></inputEntry>
        <inputEntry id="IE_Contra1_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contra1_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contra1_observacao"><text>"Paciente ASA V - risco cirurgico proibitivo para artroplastia eletiva"</text></outputEntry>
        <outputEntry id="OutputEntry_Contra1_fundamentacao"><text>"ASA Classification Guidelines"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Contraindicacao_1_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Contraindicacao_1_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>
      <rule id="Rule_30727030_Contraindicacao_2">
        <description>Contraindicacao - Gonartrose leve/moderada sem tratamento conservador</description>
        <inputEntry id="IE_Contra2_1"><text>"M17.x"</text></inputEntry>
        <inputEntry id="IE_Contra2_2"><text>"Nao_Documentado","Primeira_Linha"</text></inputEntry>
        <inputEntry id="IE_Contra2_3"><text>"KL_I","KL_II"</text></inputEntry>
        <inputEntry id="IE_Contra2_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Contra2_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contra2_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contra2_observacao"><text>"TKA prematura: requer KL≥3 OU KL2 + falha PT≥3 meses + NSAID + ≥1 infiltracao documentados"</text></outputEntry>
        <outputEntry id="OutputEntry_Contra2_fundamentacao"><text>"SBO Guidelines, OARSI Clinical Practice Guidelines"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Contraindicacao_2_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Contraindicacao_2_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>
      <rule id="Rule_30727030_Aprovacao_1">
        <description>Aprovacao - Gonartrose avancada KL Grau 3-4</description>
        <inputEntry id="IE_Aprov1_1"><text>"M17.x"</text></inputEntry>
        <inputEntry id="IE_Aprov1_2"><text>"Documentado","Tratamento_Clinico_Falhou"</text></inputEntry>
        <inputEntry id="IE_Aprov1_3"><text>"KL_III","KL_IV"</text></inputEntry>
        <inputEntry id="IE_Aprov1_4"><text>"ASA_I","ASA_II","ASA_III"</text></inputEntry>
        <inputEntry id="IE_Aprov1_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprov1_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov1_observacao"><text>"Gonartrose avancada KL Grau 3-4: TKA indicada independente de extensao tratamento conservador"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov1_fundamentacao"><text>"SBO Guidelines, OARSI TKA Criteria"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_1_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_1_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>
      <rule id="Rule_30727030_Aprovacao_2">
        <description>Aprovacao - KL Grau 2 + falha tratamento conservador completo</description>
        <inputEntry id="IE_Aprov2_1"><text>"M17.x"</text></inputEntry>
        <inputEntry id="IE_Aprov2_2"><text>"Tratamento_Clinico_Falhou","Documentado"</text></inputEntry>
        <inputEntry id="IE_Aprov2_3"><text>"KL_II"</text></inputEntry>
        <inputEntry id="IE_Aprov2_4"><text>"ASA_I","ASA_II","ASA_III"</text></inputEntry>
        <inputEntry id="IE_Aprov2_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprov2_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov2_observacao"><text>"Gonartrose KL Grau 2 + falha documentada PT≥3 meses + NSAID + ≥1 infiltracao: TKA indicada"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov2_fundamentacao"><text>"SBO Guidelines, OARSI Clinical Practice Guidelines"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_2_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_2_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>
      <rule id="Rule_30727030_Aprovacao_3">
        <description>Aprovacao - Fratura intra-articular joelho com artrose pos-traumatica grave</description>
        <inputEntry id="IE_Aprov3_1"><text>"S72.x","M17.x"</text></inputEntry>
        <inputEntry id="IE_Aprov3_2"><text>"Documentado"</text></inputEntry>
        <inputEntry id="IE_Aprov3_3"><text>"Grau_IV","KL_IV"</text></inputEntry>
        <inputEntry id="IE_Aprov3_4"><text>"ASA_I","ASA_II","ASA_III"</text></inputEntry>
        <inputEntry id="IE_Aprov3_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprov3_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov3_observacao"><text>"Artrose pos-traumatica grave: TKA indicada para restaurar funcao e aliviar dor"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprov3_fundamentacao"><text>"SBO Guidelines, AAOS Post-Traumatic Arthritis Criteria"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_3_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Aprovacao_3_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>
      <rule id="Rule_30727030_Fallback">
        <description>Fallback - Casos nao cobertos requerem analise manual</description>
        <inputEntry id="IE_Fall_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fall_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fall_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fall_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fall_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Fall_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Fall_observacao"><text>"Caso requer analise manual: criterios de tratamento conservador previo nao claramente atendidos"</text></outputEntry>
        <outputEntry id="OutputEntry_Fall_fundamentacao"><text>"SBO Guidelines"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Fallback_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_30727030_Fallback_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>
    </decisionTable>
  </decision>
  <dmndi:DMNDI>
    <dmndi:DMNDiagram id="DMNDiagram_30727030">
      <dmndi:DMNShape id="DMNShape_30727030" dmnElementRef="Decision_30727030">
        <dc:Bounds height="80" width="180" x="160" y="100" />
      </dmndi:DMNShape>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</definitions>
