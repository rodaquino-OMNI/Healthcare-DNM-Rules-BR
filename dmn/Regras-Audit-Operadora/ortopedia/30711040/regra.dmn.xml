<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_30711040"
             name="Reconstrucao de LCA com Enxerto"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    TUSS: 30711040
    Procedimento: Reconstrucao de Ligamento Cruzado Anterior com Enxerto
    Versao: 3.0.0-LEAN-TIER2
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CLINICAS (DUT/ANS):
    - Ruptura completa do LCA com instabilidade sintomatica
    - Pacientes ativos com demanda funcional para atividades de pivoteamento
    - Lesoes combinadas LCA + menisco ou LCA + ligamentos colaterais
    - Falha do tratamento conservador com episodios de giving way

    CONTRAINDICACOES:
    - Artrose avancada (grau IV de Outerbridge)
    - Infeccao ativa
    - Amplitude de movimento limitada sem melhora apos fisioterapia
    - Paciente sedentario sem instabilidade funcional (relativa)
    - Expectativa de vida menor que 1 ano

    DOCUMENTACAO OBRIGATORIA:
    - Ressonancia magnetica do joelho mostrando ruptura do LCA
    - Radiografias do joelho (AP, lateral, axial patela)
    - Avaliacao clinica documentada (Lachman, pivot shift)
    - Escore funcional pre-operatorio (IKDC, Lysholm)
    - Documentacao de tentativa de reabilitacao ou instabilidade

    REFERENCIAS TECNICAS:
    - AOSSM ACL Reconstruction Guidelines 2023
    - ISAKOS ACL Study Group Consensus 2024
    - SBOT Diretrizes de Cirurgia do Joelho 2023
    - ESSKA ACL Guidelines 2024
    - ANS RN 465/2021, DUT 2024

    ===============================================================================
  -->

  <decision id="Decision_30711040" name="Regra Clinica - Reconstrucao de LCA com Enxerto">
    <decisionTable id="DecisionTable_30711040" hitPolicy="FIRST">

      <!-- ========== INPUTS (5 - Padrao Ortopedia) ========== -->

      <input id="Input_condicaoPaciente" label="Condicao do Paciente" camunda:inputVariable="condicaoPaciente">
        <inputExpression id="InputExpression_condicaoPaciente" typeRef="string">
          <text>condicaoPaciente</text>
        </inputExpression>
        <inputValues id="InputValues_condicaoPaciente">
          <text>"RupturaCompletaInstavel","LesaoCombinada","FalhaTratamentoConservador","ArtroseAvancada","PacienteSedentarioEstavel"</text>
        </inputValues>
      </input>

      <input id="Input_historicoClinico" label="Historico Clinico" camunda:inputVariable="historicoClinico">
        <inputExpression id="InputExpression_historicoClinico" typeRef="string">
          <text>historicoClinico</text>
        </inputExpression>
        <inputValues id="InputValues_historicoClinico">
          <text>"Adequado","Incompleto","NaoDocumentado"</text>
        </inputValues>
      </input>

      <input id="Input_classeIndicacao" label="Classe de Indicacao (AOSSM/ISAKOS)" camunda:inputVariable="classeIndicacao">
        <inputExpression id="InputExpression_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"Classe I","Classe IIa","Classe IIb","Classe III"</text>
        </inputValues>
      </input>

      <input id="Input_examesComprobatorios" label="Exames Comprobatorios" camunda:inputVariable="examesComprobatorios">
        <inputExpression id="InputExpression_examesComprobatorios" typeRef="string">
          <text>examesComprobatorios</text>
        </inputExpression>
        <inputValues id="InputValues_examesComprobatorios">
          <text>"Completos","Parciais","Ausentes"</text>
        </inputValues>
      </input>

      <input id="Input_expectativaVidaSuperior1Ano" label="Expectativa de Vida maior que 1 Ano" camunda:inputVariable="expectativaVidaSuperior1Ano">
        <inputExpression id="InputExpression_expectativaVidaSuperior1Ano" typeRef="boolean">
          <text>expectativaVidaSuperior1Ano</text>
        </inputExpression>
      </input>

      <!-- ========== OUTPUTS (5 - LEAN TIER-2) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues>
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string">
        <outputValues>
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== RULES ========== -->

      <!-- CONTRAINDICACOES -->
      <rule id="Rule_Contraind_ArtroseAvancada">
        <description>Contraindicacao: Artrose avancada (grau IV)</description>
        <inputEntry id="InputEntry_Contraind_Artrose_1"><text>"ArtroseAvancada"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_Artrose_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_Artrose_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_Artrose_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_Artrose_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_Artrose_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_Artrose_observacao"><text>"Artrose avancada contraindica reconstrucao do LCA"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_Artrose_fundamentacao"><text>"AOSSM ACL Guidelines 2023 - Artrose grau IV e contraindicacao para reconstrucao ligamentar"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ArtroseAvancada_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ArtroseAvancada_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ArtroseAvancada_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ArtroseAvancada_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ClasseIII">
        <description>Contraindicacao: Classe III</description>
        <inputEntry id="InputEntry_Contraind_ClasseIII_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_3"><text>"Classe III"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_observacao"><text>"Procedimento nao indicado conforme classificacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_fundamentacao"><text>"AOSSM/ISAKOS Guidelines 2024 - Classe III: Nao indicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ExpectativaVida">
        <description>Contraindicacao: Expectativa de vida insuficiente</description>
        <inputEntry id="InputEntry_Contraind_ExpVida_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_5"><text>false</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_observacao"><text>"Expectativa de vida insuficiente para reabilitacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_fundamentacao"><text>"Reabilitacao pos-LCA requer 9-12 meses"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_ExamesAusentes">
        <description>Reprovado: Exames ausentes</description>
        <inputEntry id="InputEntry_Reprovado_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_4"><text>"Ausentes"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_observacao"><text>"Obrigatorio: RM do joelho mostrando ruptura do LCA"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_fundamentacao"><text>"ANS RN 465/2021 - RM obrigatoria para autorizacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- APROVACOES -->
      <rule id="Rule_Aprovado_ClasseI_RupturaInstavel">
        <description>Aprovado: Ruptura completa com instabilidade</description>
        <inputEntry id="InputEntry_Aprovado_CI_Ruptura_1"><text>"RupturaCompletaInstavel","LesaoCombinada"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Ruptura_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Ruptura_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Ruptura_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Ruptura_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Ruptura_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Ruptura_observacao"><text>"Ruptura do LCA com instabilidade - Indicacao primaria para reconstrucao"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Ruptura_fundamentacao"><text>"AOSSM ACL Guidelines 2023 - Classe I: Pacientes ativos com instabilidade sintomatica"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_RupturaInstavel_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_RupturaInstavel_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_RupturaInstavel_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_RupturaInstavel_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseI_Geral">
        <description>Aprovado: Indicacao Classe I</description>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_observacao"><text>"Indicacao Classe I - Procedimento indicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_fundamentacao"><text>"AOSSM/ISAKOS Guidelines 2024 - Classe I"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseIIa">
        <description>Aprovado: Indicacao Classe IIa</description>
        <inputEntry id="InputEntry_Aprovado_CIIa_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_3"><text>"Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_observacao"><text>"Indicacao Classe IIa - Procedimento razoavel"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_fundamentacao"><text>"AOSSM Guidelines 2023 - Classe IIa"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseIIb">
        <description>Aprovado: Indicacao Classe IIb</description>
        <inputEntry id="InputEntry_Aprovado_CIIb_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_3"><text>"Classe IIb"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_observacao"><text>"Indicacao Classe IIb - Pode ser considerado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_fundamentacao"><text>"AOSSM Guidelines 2023 - Classe IIb"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- PENDENTE -->
      <rule id="Rule_Pendente_ExamesParciais">
        <description>Pendente: Exames parciais</description>
        <inputEntry id="InputEntry_Pendente_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_3"><text>"Classe I","Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_4"><text>"Parciais"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_observacao"><text>"Necessario: RM e avaliacao funcional (IKDC/Lysholm)"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_fundamentacao"><text>"ANS RN 465/2021 - Exames completos obrigatorios"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_HistoricoInsuficiente">
        <description>Reprovado: Historico insuficiente</description>
        <inputEntry id="InputEntry_Reprovado_Hist_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_2"><text>"Incompleto","NaoDocumentado"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_observacao"><text>"Documentacao insuficiente"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_fundamentacao"><text>"ANS RN 465/2021: Documentacao completa obrigatoria"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- FALLBACK -->
      <rule id="Rule_Fallback_30711040">
        <description>Regra padrao</description>
        <inputEntry id="InputEntry_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Fallback_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_observacao"><text>"Caso requer analise adicional"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_fundamentacao"><text>"Avaliacao individualizada conforme AOSSM/ISAKOS/ESSKA"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711040_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711040_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711040_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711040_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
