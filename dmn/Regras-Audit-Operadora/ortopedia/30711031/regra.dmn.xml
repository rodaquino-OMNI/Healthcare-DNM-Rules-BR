<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_30711031"
             name="Reparo Artroscopico de Manguito Rotador"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    TUSS: 30711031
    Procedimento: Reparo Artroscopico de Manguito Rotador
    Versao: 3.0.0-LEAN-TIER2
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CLINICAS (DUT/ANS):
    - Lesao completa do manguito rotador (full-thickness tear)
    - Lesao parcial maior que 50% da espessura com falha do tratamento conservador
    - Lesao traumatica aguda em pacientes ativos
    - Dor e perda funcional refratarias ao tratamento conservador (3-6 meses)

    CONTRAINDICACOES:
    - Artropatia do manguito rotador (indicar artroplastia reversa)
    - Lesao irreparavel massiva com atrofia muscular grau III-IV (Goutallier)
    - Infeccao ativa
    - Artrose glenoumeral avancada
    - Capsulite adesiva nao tratada

    DOCUMENTACAO OBRIGATORIA:
    - Ressonancia magnetica do ombro mostrando lesao
    - Radiografias do ombro (AP, axilar)
    - Classificacao da lesao (Patte, Goutallier)
    - Documentacao de tratamento conservador previo (minimo 3 meses)
    - Avaliacao funcional pre-operatoria

    REFERENCIAS TECNICAS:
    - AOSSM Rotator Cuff Repair Guidelines 2023
    - ASES/ISAKOS Consensus Statement 2024
    - SBOT Diretrizes de Artroscopia 2023
    - ANS RN 465/2021, DUT 2024

    ===============================================================================
  -->

  <decision id="Decision_30711031" name="Regra Clinica - Reparo Artroscopico de Manguito Rotador">
    <decisionTable id="DecisionTable_30711031" hitPolicy="FIRST">

      <!-- ========== INPUTS (5 - Padrao Ortopedia) ========== -->

      <input id="Input_condicaoPaciente" label="Condicao do Paciente" camunda:inputVariable="condicaoPaciente">
        <inputExpression id="InputExpression_condicaoPaciente" typeRef="string">
          <text>condicaoPaciente</text>
        </inputExpression>
        <inputValues id="InputValues_condicaoPaciente">
          <text>"LesaoCompleta","LesaoParcialMaior50","LesaoTraumaticaAguda","DorRefrataria","LesaoMassivaIrreparavel"</text>
        </inputValues>
      </input>

      <input id="Input_historicoClinico" label="Historico Clinico" camunda:inputVariable="historicoClinico">
        <inputExpression id="InputExpression_historicoClinico" typeRef="string">
          <text>historicoClinico</text>
        </inputExpression>
        <inputValues id="InputValues_historicoClinico">
          <text>"Adequado","Incompleto","NaoDocumentado"</text>
        </inputValues>
      </input>

      <input id="Input_classeIndicacao" label="Classe de Indicacao (AOSSM/SBOT)" camunda:inputVariable="classeIndicacao">
        <inputExpression id="InputExpression_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"Classe I","Classe IIa","Classe IIb","Classe III"</text>
        </inputValues>
      </input>

      <input id="Input_examesComprobatorios" label="Exames Comprobatorios" camunda:inputVariable="examesComprobatorios">
        <inputExpression id="InputExpression_examesComprobatorios" typeRef="string">
          <text>examesComprobatorios</text>
        </inputExpression>
        <inputValues id="InputValues_examesComprobatorios">
          <text>"Completos","Parciais","Ausentes"</text>
        </inputValues>
      </input>

      <input id="Input_expectativaVidaSuperior1Ano" label="Expectativa de Vida maior que 1 Ano" camunda:inputVariable="expectativaVidaSuperior1Ano">
        <inputExpression id="InputExpression_expectativaVidaSuperior1Ano" typeRef="boolean">
          <text>expectativaVidaSuperior1Ano</text>
        </inputExpression>
      </input>

      <!-- ========== OUTPUTS (5 - LEAN TIER-2) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues>
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string">
        <outputValues>
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== RULES ========== -->

      <!-- CONTRAINDICACOES -->
      <rule id="Rule_Contraind_ClasseIII">
        <description>Contraindicacao: Classe III - Lesao irreparavel</description>
        <inputEntry id="InputEntry_Contraind_ClasseIII_1"><text>"LesaoMassivaIrreparavel"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_observacao"><text>"Lesao massiva irreparavel - considerar artroplastia reversa"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_fundamentacao"><text>"AOSSM Guidelines 2023 - Lesoes irreparaveis com atrofia Goutallier III-IV nao sao candidatas a reparo artroscopico"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ClasseIII_Geral">
        <description>Contraindicacao: Procedimento Classe III</description>
        <inputEntry id="InputEntry_Contraind_ClasseIII_G_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_G_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_G_3"><text>"Classe III"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_G_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_G_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_G_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_G_observacao"><text>"Procedimento nao indicado conforme classificacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_G_fundamentacao"><text>"AOSSM/ISAKOS 2024 - Classe III: Contraindicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_Geral_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_Geral_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_Geral_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_Geral_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ExpectativaVida">
        <description>Contraindicacao: Expectativa de vida insuficiente</description>
        <inputEntry id="InputEntry_Contraind_ExpVida_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_5"><text>false</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_observacao"><text>"Expectativa de vida insuficiente para reabilitacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_fundamentacao"><text>"Reabilitacao pos-reparo requer 6-12 meses"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_ExamesAusentes">
        <description>Reprovado: Exames ausentes</description>
        <inputEntry id="InputEntry_Reprovado_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_4"><text>"Ausentes"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_observacao"><text>"Obrigatorio: RM do ombro mostrando lesao do manguito"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_fundamentacao"><text>"ANS RN 465/2021 - RM obrigatoria para autorizacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- APROVACOES -->
      <rule id="Rule_Aprovado_ClasseI_LesaoCompleta">
        <description>Aprovado: Lesao completa em paciente adequado</description>
        <inputEntry id="InputEntry_Aprovado_CI_Lesao_1"><text>"LesaoCompleta","LesaoTraumaticaAguda"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Lesao_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Lesao_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Lesao_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Lesao_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Lesao_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Lesao_observacao"><text>"Lesao completa/traumatica - Indicacao primaria para reparo artroscopico"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Lesao_fundamentacao"><text>"AOSSM Guidelines 2023 - Classe I: Forte indicacao para reparo de lesoes completas"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_LesaoCompleta_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_LesaoCompleta_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_LesaoCompleta_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_LesaoCompleta_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseI_Geral">
        <description>Aprovado: Indicacao Classe I</description>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_observacao"><text>"Indicacao Classe I - Procedimento indicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_fundamentacao"><text>"AOSSM/ISAKOS Guidelines 2024 - Classe I"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseIIa">
        <description>Aprovado: Indicacao Classe IIa</description>
        <inputEntry id="InputEntry_Aprovado_CIIa_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_3"><text>"Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_observacao"><text>"Indicacao Classe IIa - Procedimento razoavel"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_fundamentacao"><text>"AOSSM Guidelines 2023 - Classe IIa: Beneficio maior que risco"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseIIb">
        <description>Aprovado: Indicacao Classe IIb</description>
        <inputEntry id="InputEntry_Aprovado_CIIb_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_3"><text>"Classe IIb"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_observacao"><text>"Indicacao Classe IIb - Pode ser considerado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_fundamentacao"><text>"AOSSM Guidelines 2023 - Classe IIb"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- PENDENTE -->
      <rule id="Rule_Pendente_ExamesParciais">
        <description>Pendente: Exames parciais</description>
        <inputEntry id="InputEntry_Pendente_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_3"><text>"Classe I","Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_4"><text>"Parciais"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_observacao"><text>"Necessario: RM com classificacao da lesao"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_fundamentacao"><text>"ANS RN 465/2021 - Exames completos obrigatorios"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_HistoricoInsuficiente">
        <description>Reprovado: Historico insuficiente</description>
        <inputEntry id="InputEntry_Reprovado_Hist_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_2"><text>"Incompleto","NaoDocumentado"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_observacao"><text>"Documentacao insuficiente - incluir tratamento conservador previo"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_fundamentacao"><text>"ANS RN 465/2021: Necessaria documentacao completa"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- FALLBACK -->
      <rule id="Rule_Fallback_30711031">
        <description>Regra padrao</description>
        <inputEntry id="InputEntry_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Fallback_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_observacao"><text>"Caso requer analise adicional"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_fundamentacao"><text>"Avaliacao individualizada conforme AOSSM/SBOT"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711031_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711031_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711031_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711031_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
