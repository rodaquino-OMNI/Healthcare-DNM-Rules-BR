<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_30711023"
             name="Artroplastia Reversa de Ombro"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    TUSS: 30711023
    Procedimento: Artroplastia Reversa de Ombro
    Versao: 3.0.0-LEAN-TIER2
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CLINICAS (DUT/ANS):
    - Artropatia do manguito rotador (lesao irreparavel massiva)
    - Fraturas complexas do umero proximal em idosos (mais de 65 anos)
    - Revisao de artroplastia anatomica falha
    - Pseudoartrose do umero proximal
    - Artrite reumatoide com deficiencia do manguito rotador

    CONTRAINDICACOES:
    - Paralisia do deltoide
    - Infeccao ativa
    - Idade menor que 60 anos (relativa - considerar caso a caso)
    - Expectativa de vida menor que 1 ano
    - Incapacidade de seguir protocolo de reabilitacao

    DOCUMENTACAO OBRIGATORIA:
    - Radiografias do ombro (AP, axilar, outlet)
    - Tomografia computadorizada com reconstrucao 3D
    - Ressonancia magnetica mostrando lesao irreparavel do manguito
    - Avaliacao funcional (escore de Constant)
    - Falha documentada de tratamento conservador ou artroscopico

    REFERENCIAS TECNICAS:
    - AAOS Clinical Practice Guidelines - Reverse Shoulder Arthroplasty 2024
    - SBOT Consenso de Artroplastia Reversa 2023
    - Grammont Design Principles
    - ANS RN 465/2021, DUT 2024

    ===============================================================================
  -->

  <decision id="Decision_30711023" name="Regra Clinica - Artroplastia Reversa de Ombro">
    <decisionTable id="DecisionTable_30711023" hitPolicy="FIRST">

      <!-- ========== INPUTS (5 - Padrao Ortopedia) ========== -->

      <input id="Input_condicaoPaciente" label="Condicao do Paciente" camunda:inputVariable="condicaoPaciente">
        <inputExpression id="InputExpression_condicaoPaciente" typeRef="string">
          <text>condicaoPaciente</text>
        </inputExpression>
        <inputValues id="InputValues_condicaoPaciente">
          <text>"ArtropatiaManguito","FraturaComplexaIdoso","RevisaoArtroplastia","Pseudoartrose","ArtriteReumatoideManguito"</text>
        </inputValues>
      </input>

      <input id="Input_historicoClinico" label="Historico Clinico" camunda:inputVariable="historicoClinico">
        <inputExpression id="InputExpression_historicoClinico" typeRef="string">
          <text>historicoClinico</text>
        </inputExpression>
        <inputValues id="InputValues_historicoClinico">
          <text>"Adequado","Incompleto","NaoDocumentado"</text>
        </inputValues>
      </input>

      <input id="Input_classeIndicacao" label="Classe de Indicacao (AAOS/SBOT)" camunda:inputVariable="classeIndicacao">
        <inputExpression id="InputExpression_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"Classe I","Classe IIa","Classe IIb","Classe III"</text>
        </inputValues>
      </input>

      <input id="Input_examesComprobatorios" label="Exames Comprobatorios" camunda:inputVariable="examesComprobatorios">
        <inputExpression id="InputExpression_examesComprobatorios" typeRef="string">
          <text>examesComprobatorios</text>
        </inputExpression>
        <inputValues id="InputValues_examesComprobatorios">
          <text>"Completos","Parciais","Ausentes"</text>
        </inputValues>
      </input>

      <input id="Input_expectativaVidaSuperior1Ano" label="Expectativa de Vida maior que 1 Ano" camunda:inputVariable="expectativaVidaSuperior1Ano">
        <inputExpression id="InputExpression_expectativaVidaSuperior1Ano" typeRef="boolean">
          <text>expectativaVidaSuperior1Ano</text>
        </inputExpression>
      </input>

      <!-- ========== OUTPUTS (5 - LEAN TIER-2) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues>
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string">
        <outputValues>
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== RULES ========== -->

      <!-- CONTRAINDICACOES -->
      <rule id="Rule_Contraind_ClasseIII">
        <description>Contraindicacao: Procedimento Classe III (nao indicado)</description>
        <inputEntry id="InputEntry_Contraind_ClasseIII_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_3"><text>"Classe III"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_observacao"><text>"Procedimento nao indicado - verificar paralisia do deltoide ou contraindicacoes absolutas"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_fundamentacao"><text>"AAOS Reverse Shoulder Guidelines 2024 - Classe III: Paralisia do deltoide e contraindicada"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ExpectativaVida">
        <description>Contraindicacao: Expectativa de vida menor que 1 ano</description>
        <inputEntry id="InputEntry_Contraind_ExpVida_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_5"><text>false</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_observacao"><text>"Expectativa de vida insuficiente para beneficio funcional"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_fundamentacao"><text>"AAOS Guidelines 2024 - Artroplastia reversa requer sobrevida para recuperacao funcional"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_ExamesAusentes">
        <description>Reprovado: Exames comprobatorios ausentes</description>
        <inputEntry id="InputEntry_Reprovado_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_4"><text>"Ausentes"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Exames_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_observacao"><text>"Obrigatorio: TC 3D e RM mostrando lesao irreparavel do manguito"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Exames_fundamentacao"><text>"ANS RN 465/2021 - Documentacao obrigatoria para artroplastia reversa"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_ExamesAusentes_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- APROVACOES Classe I -->
      <rule id="Rule_Aprovado_ClasseI_ArtropatiaManguito">
        <description>Aprovado: Artropatia do manguito com lesao irreparavel</description>
        <inputEntry id="InputEntry_Aprovado_CI_Manguito_1"><text>"ArtropatiaManguito"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Manguito_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Manguito_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Manguito_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Manguito_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Manguito_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Manguito_observacao"><text>"Artropatia do manguito - Indicacao primaria para artroplastia reversa"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Manguito_fundamentacao"><text>"AAOS Reverse Shoulder Guidelines 2024 - Classe I: Artropatia do manguito e indicacao principal"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_ArtropatiaManguito_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_ArtropatiaManguito_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_ArtropatiaManguito_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_ArtropatiaManguito_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseI_Geral">
        <description>Aprovado: Indicacao Classe I em condicoes apropriadas</description>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_observacao"><text>"Indicacao Classe I - Procedimento indicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_fundamentacao"><text>"AAOS Guidelines 2024, SBOT Consenso 2023 - Classe I: Forte indicacao"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- APROVACOES Classe IIa -->
      <rule id="Rule_Aprovado_ClasseIIa">
        <description>Aprovado: Indicacao Classe IIa</description>
        <inputEntry id="InputEntry_Aprovado_CIIa_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_3"><text>"Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_observacao"><text>"Indicacao Classe IIa - Procedimento razoavel"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_fundamentacao"><text>"AAOS Guidelines 2024 - Classe IIa: Beneficio maior que risco"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- APROVACOES Classe IIb -->
      <rule id="Rule_Aprovado_ClasseIIb">
        <description>Aprovado: Indicacao Classe IIb</description>
        <inputEntry id="InputEntry_Aprovado_CIIb_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_3"><text>"Classe IIb"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_4"><text>"Completos"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_observacao"><text>"Indicacao Classe IIb - Procedimento pode ser considerado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_fundamentacao"><text>"AAOS Guidelines 2024 - Classe IIb: Beneficio maior ou igual ao risco"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- PENDENTE -->
      <rule id="Rule_Pendente_ExamesParciais">
        <description>Pendente: Exames parciais</description>
        <inputEntry id="InputEntry_Pendente_Exames_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_3"><text>"Classe I","Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_4"><text>"Parciais"</text></inputEntry>
        <inputEntry id="InputEntry_Pendente_Exames_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_observacao"><text>"Necessario: TC 3D e RM para avaliacao completa"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_Exames_fundamentacao"><text>"ANS RN 465/2021 - Exames completos obrigatorios"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Pendente_ExamesParciais_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <!-- REPROVADO - Documentacao Inadequada -->
      <rule id="Rule_Reprovado_HistoricoInsuficiente">
        <description>Reprovado: Historico clinico insuficiente</description>
        <inputEntry id="InputEntry_Reprovado_Hist_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_2"><text>"Incompleto","NaoDocumentado"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_observacao"><text>"Documentacao insuficiente"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_fundamentacao"><text>"ANS RN 465/2021: Necessaria documentacao clinica adequada"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- FALLBACK -->
      <rule id="Rule_Fallback_30711023">
        <description>Regra padrao - Analise adicional</description>
        <inputEntry id="InputEntry_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Fallback_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_observacao"><text>"Caso requer analise clinica adicional"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_fundamentacao"><text>"Avaliacao individualizada conforme AAOS e SBOT"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711023_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711023_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711023_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_30711023_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
