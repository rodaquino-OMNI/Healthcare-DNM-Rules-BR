<?xml version='1.0' encoding='UTF-8'?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" id="Definitions_31101224" name="Nefrolitotomia ou Nefrolitotripsia Percutanea (NPC)" targetNamespace="http://camunda.org/schema/1.0/dmn">
  
  <decision id="Decision_31101224" name="Indicacao para Nefrolitotomia Percutanea">
    <decisionTable id="DecisionTable_31101224" hitPolicy="FIRST">
      
      <input id="Input_1" label="Diagnostico CID-10">
        <inputExpression id="InputExpression_1" typeRef="string">
          <text>diagnosticoPrincipal</text>
        </inputExpression>
      </input>
      
      <input id="Input_2" label="PSA ng/mL">
        <inputExpression id="InputExpression_2" typeRef="string">
          <text>psaNgMl</text>
        </inputExpression>
      </input>
      
      <input id="Input_3" label="Gleason Score">
        <inputExpression id="InputExpression_3" typeRef="string">
          <text>gleasonScore</text>
        </inputExpression>
      </input>
      
      <input id="Input_4" label="Estadiamento T">
        <inputExpression id="InputExpression_4" typeRef="string">
          <text>estadiamentoT</text>
        </inputExpression>
      </input>
      
      <input id="Input_5" label="Laudo Urologico">
        <inputExpression id="InputExpression_5" typeRef="boolean">
          <text>laudoUrologico</text>
        </inputExpression>
      </input>
      
      <output id="Output_1" label="Resultado" name="resultado" typeRef="string" />
      <output id="Output_2" label="Observacao" name="observacao" typeRef="string" />
      <output id="Output_3" label="Fundamentacao" name="fundamentacao" typeRef="string" />

      
      <output id="Output_alertasDesperdicio" name="alertasDesperdicio" typeRef="string"><outputValues><text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text></outputValues></output><output id="Output_acaoRecomendada" name="acaoRecomendada" typeRef="string"><outputValues><text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text></outputValues></output><rule id="Rule_Contraindicacao_LaudoAusente">
        <description>Laudo urologico obrigatorio</description>
        <inputEntry id="InputEntry_1_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_2_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_1"><text>false</text></inputEntry>
        <outputEntry id="OutputEntry_1_1"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_2_1"><text>"Laudo urologico obrigatorio com TC abdominal sem contraste documentando calculos renais (tamanho, localizacao, densidade)."</text></outputEntry>
        <outputEntry id="OutputEntry_3_1"><text>"RN ANS 465/2021 - TC renal sem contraste e protocolo stone obrigatorio para NPC."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"PROT"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"NEGAR"</text></outputEntry></rule>

      
      <rule id="Rule_Aprovado_CalculosCoraliformes">
        <description>Calculos coraliformes completos ou parciais</description>
        <inputEntry id="InputEntry_1_2"><text>"N200"</text></inputEntry>
        <inputEntry id="InputEntry_2_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_2"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_1_2"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_2_2"><text>"Aprovado - NPC primeira linha para calculos coraliformes (&gt; 2cm ou multiplos calices)."</text></outputEntry>
        <outputEntry id="OutputEntry_3_2"><text>"Diretrizes SBU - NPC tratamento padrao-ouro para calculos coraliformes (stone-free rate 70-90%)."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"NENHUM"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"APROVAR"</text></outputEntry></rule>

      
      <rule id="Rule_Aprovado_CalculosGrandes">
        <description>Calculos renais &gt; 2cm</description>
        <inputEntry id="InputEntry_1_3"><text>"N200", "N201"</text></inputEntry>
        <inputEntry id="InputEntry_2_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_3"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_1_3"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_2_3"><text>"Aprovado - NPC indicada para calculos renais &gt; 2cm (LECO ineficaz)."</text></outputEntry>
        <outputEntry id="OutputEntry_3_3"><text>"EAU Guidelines - NPC preferencia para calculos &gt; 20mm (melhor stone-free rate vs LECO)."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"NENHUM"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"APROVAR"</text></outputEntry></rule>

      
      <rule id="Rule_Aprovado_DiverticuloCalicial">
        <description>Calculos em diverticulo calicial</description>
        <inputEntry id="InputEntry_1_4"><text>"N200", "Q612"</text></inputEntry>
        <inputEntry id="InputEntry_2_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_4"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_1_4"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_2_4"><text>"Aprovado - NPC para calculos em diverticulo calicial sintomatico."</text></outputEntry>
        <outputEntry id="OutputEntry_3_4"><text>"Diretrizes SBU - NPC abordagem ideal para calculos diverticulares (permite tratamento calice + calculo)."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"NENHUM"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"APROVAR"</text></outputEntry></rule>

      
      <rule id="Rule_Reprovado_CalculosPequenos">
        <description>Calculos &lt; 2cm - LECO primeira linha</description>
        <inputEntry id="InputEntry_1_5"><text>"N200", "N201", "N202"</text></inputEntry>
        <inputEntry id="InputEntry_2_5"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_5"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_5"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_1_5"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_2_5"><text>"NPC nao indicada inicialmente para calculos &lt; 2cm. Primeira linha: litotripsia extracorporea (LECO) ou ureteroscopia."</text></outputEntry>
        <outputEntry id="OutputEntry_3_5"><text>"EAU Guidelines - NPC reservada para calculos &gt; 20mm ou falha de tratamentos menos invasivos."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"PROT"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"NEGAR"</text></outputEntry></rule>

      
      <rule id="Rule_Fallback_31101224">
        <description>Dados incompletos - requer avaliacao</description>
        <inputEntry id="InputEntry_1_6"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_2_6"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_3_6"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_4_6"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_5_6"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_1_6"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_2_6"><text>"Dados incompletos. Necessario: (1) CID-10 N20x, (2) TC abdominal sem contraste com protocolo stone (tamanho, densidade, localizacao)."</text></outputEntry>
        <outputEntry id="OutputEntry_3_6"><text>"Requer avaliacao do auditor medico com imagens e medidas precisas dos calculos."</text></outputEntry>
      <outputEntry id="OutputEntry_Added_4"><text>"DOC"</text></outputEntry><outputEntry id="OutputEntry_Added_5"><text>"SOLICITAR_INFO"</text></outputEntry></rule>
    </decisionTable>
  </decision>
</definitions>