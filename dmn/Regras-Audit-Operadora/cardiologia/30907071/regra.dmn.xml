<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_30907071"
             name="Disseccao de Aorta - Tratamento Cirurgico - LEAN Anti-Desperdicio"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    TUSS: 30907071
    Procedimento: Disseccao de Aorta - Tratamento Cirurgico
    Versao: 1.0.0-LEAN-TIER2
    Data: 2026-02-07
    ===============================================================================

    INDICACOES CLINICAS (ACC/AHA Aortic Disease 2024):
    - Disseccao Tipo A Stanford (DeBakey I/II) - EMERGENCIA CIRURGICA (Classe I)
    - Disseccao Tipo B complicada - malperfusao, ruptura, dor refrataria (Classe I)
    - Disseccao Tipo B nao-complicada com caracteristicas alto risco (Classe IIa)
    - Hematoma intramural Tipo A (Classe I)
    - Ulcera penetrante aorta ascendente (Classe I)

    CLASSIFICACAO:
    - Stanford A: envolve aorta ascendente (inclui DeBakey I e II)
    - Stanford B: inicia apos subclavia esquerda (DeBakey III)
    - TEVAR preferencial em Tipo B complicada se anatomia permite

    CONTRAINDICACOES:
    - Disseccao cronica estavel tipo B (observacao)
    - Malperfusao irreversivel (necrose intestinal extensa)
    - Comorbidades com mortalidade cirurgica maior beneficio

    REFERENCIAS TECNICAS:
    - ACC/AHA Aortic Disease Guidelines 2024
    - ESC Aortic Disease Guidelines 2023
    - IRAD (International Registry of Acute Aortic Dissection)

    ALERTAS DE DESPERDICIO (LEAN TIER-2):
    - NENHUM: Sem alertas (emergencias nao tem desperdicio)
    - DUP: Duplicidade (reintervencao sem indicacao)
    - ESC: Escalonamento inadequado (cirurgia sem tratamento clinico em Tipo B estavel)
    - DOC: Documentacao insuficiente (AngioTC incompleta)
    - PROT: Protocolo nao seguido (Tipo B cronica estavel indo para cirurgia)
    - MULTI: Multiplos alertas combinados

    ===============================================================================
  -->

  <decision id="Decision_30907071" name="Regra Clinica LEAN - Disseccao Aorta Tratamento Cirurgico">
    <decisionTable id="DecisionTable_30907071" hitPolicy="FIRST">

      <!-- ========== INPUTS (5 - Padrao LEAN TIER-2 Cardiologia) ========== -->

      <input id="Input_tipoDisseccao" label="Tipo Disseccao (Stanford)" camunda:inputVariable="tipoDisseccao">
        <inputExpression id="InputExpression_tipoDisseccao" typeRef="string">
          <text>tipoDisseccao</text>
        </inputExpression>
        <inputValues id="InputValues_tipoDisseccao">
          <text>"Tipo_A_Aguda","Tipo_A_Cronica","Tipo_B_Aguda_Complicada","Tipo_B_Aguda_Nao_Complicada","Tipo_B_Cronica","Hematoma_Intramural_A","Ulcera_Penetrante_A"</text>
        </inputValues>
      </input>

      <input id="Input_historicoClinico" label="Historico Clinico" camunda:inputVariable="historicoClinico">
        <inputExpression id="InputExpression_historicoClinico" typeRef="string">
          <text>historicoClinico</text>
        </inputExpression>
        <inputValues id="InputValues_historicoClinico">
          <text>"Adequado","Incompleto","NaoDocumentado"</text>
        </inputValues>
      </input>

      <input id="Input_classeIndicacao" label="Classe de Indicacao (ACC/AHA)" camunda:inputVariable="classeIndicacao">
        <inputExpression id="InputExpression_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"Classe I","Classe IIa","Classe IIb","Classe III"</text>
        </inputValues>
      </input>

      <input id="Input_ultimoProcedimentoDias" label="Dias desde Ultima Intervencao Aortica" camunda:inputVariable="ultimoProcedimentoDias">
        <inputExpression id="InputExpression_ultimoProcedimentoDias" typeRef="integer">
          <text>ultimoProcedimentoDias</text>
        </inputExpression>
      </input>

      <input id="Input_complicacao" label="Complicacoes Presentes" camunda:inputVariable="complicacao">
        <inputExpression id="InputExpression_complicacao" typeRef="string">
          <text>complicacao</text>
        </inputExpression>
        <inputValues id="InputValues_complicacao">
          <text>"Nenhuma","Malperfusao","Ruptura_Contida","Dor_Refrataria","Dilatacao_Rapida","Multiplas"</text>
        </inputValues>
      </input>

      <!-- ========== OUTPUTS (5 - Padrao LEAN TIER-2) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observacao Clinica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentacao Tecnica" name="fundamentacao" typeRef="string" />

      <output id="Output_alertasDesperdicio" label="Alertas de Desperdicio" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" label="Acao Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>

      <!-- ========== RULES - EMERGENCIAS (PRIORIDADE MAXIMA) ========== -->

      <rule id="Rule_Emergencia_TipoA_Aguda">
        <description>EMERGENCIA MAXIMA: Disseccao Tipo A aguda - Cirurgia imediata obrigatoria</description>
        <inputEntry id="IE_Emerg_TipoA_1"><text>"Tipo_A_Aguda","Hematoma_Intramural_A","Ulcera_Penetrante_A"</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoA_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoA_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoA_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoA_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Emerg_TipoA_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoA_obs"><text>"EMERGENCIA CIRURGICA MAXIMA - Disseccao Tipo A aguda. Mortalidade 1-2% por hora sem tratamento. Cirurgia imediata obrigatoria sem atrasos"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoA_fund"><text>"ACC/AHA 2024 e ESC 2023 Classe I nivel B: disseccao Tipo A aguda requer cirurgia emergencial. IRAD: mortalidade sem cirurgia 58% vs 26% com cirurgia"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoA_alerta"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoA_acao"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Emergencia_TipoB_Complicada">
        <description>EMERGENCIA: Disseccao Tipo B complicada - Intervencao urgente</description>
        <inputEntry id="IE_Emerg_TipoB_1"><text>"Tipo_B_Aguda_Complicada"</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoB_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoB_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoB_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Emerg_TipoB_5"><text>"Malperfusao","Ruptura_Contida","Dor_Refrataria","Multiplas"</text></inputEntry>
        <outputEntry id="OE_Emerg_TipoB_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoB_obs"><text>"Disseccao Tipo B complicada com malperfusao/ruptura/dor refrataria. TEVAR preferencial se anatomia permite"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoB_fund"><text>"ACC/AHA 2024 Classe I: Tipo B complicada requer intervencao urgente. TEVAR primeira escolha (mortalidade 10% vs 30% cirurgia aberta)"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoB_alerta"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Emerg_TipoB_acao"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ========== RULES - APROVACOES ELETIVAS ========== -->

      <rule id="Rule_Aprovado_TipoB_AltoRisco">
        <description>Aprovado: Tipo B aguda nao-complicada com caracteristicas alto risco</description>
        <inputEntry id="IE_Aprov_AR_1"><text>"Tipo_B_Aguda_Nao_Complicada"</text></inputEntry>
        <inputEntry id="IE_Aprov_AR_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="IE_Aprov_AR_3"><text>"Classe IIa"</text></inputEntry>
        <inputEntry id="IE_Aprov_AR_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Aprov_AR_5"><text>"Dilatacao_Rapida"</text></inputEntry>
        <outputEntry id="OE_Aprov_AR_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OE_Aprov_AR_obs"><text>"Tipo B aguda nao-complicada com alto risco (dilatacao rapida). TEVAR preventivo indicado (INSTEAD-XL)"</text></outputEntry>
        <outputEntry id="OE_Aprov_AR_fund"><text>"ACC/AHA 2024 Classe IIa: TEVAR razoavel em Tipo B com alto risco. INSTEAD-XL: TEVAR reduz mortalidade 5 anos"</text></outputEntry>
        <outputEntry id="OE_Aprov_AR_alerta"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Aprov_AR_acao"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- ========== RULES - ALERTAS DE DESPERDICIO ========== -->

      <rule id="Rule_Reprovado_PROT_TipoB_Cronica_Estavel">
        <description>Reprovado PROT: Tipo B cronica estavel - Tratamento clinico indicado</description>
        <inputEntry id="IE_Repr_Cronica_1"><text>"Tipo_B_Cronica"</text></inputEntry>
        <inputEntry id="IE_Repr_Cronica_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="IE_Repr_Cronica_3"><text>"Classe III"</text></inputEntry>
        <inputEntry id="IE_Repr_Cronica_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Repr_Cronica_5"><text>"Nenhuma"</text></inputEntry>
        <outputEntry id="OE_Repr_Cronica_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Repr_Cronica_obs"><text>"Disseccao Tipo B cronica estavel sem complicacoes. Tratamento clinico otimizado e observacao sao indicados"</text></outputEntry>
        <outputEntry id="OE_Repr_Cronica_fund"><text>"ACC/AHA 2024 Classe III: Tipo B cronica estavel = tratamento clinico. Intervencao apenas se: maior 6cm, crescimento maior 1cm/ano, complicacoes"</text></outputEntry>
        <outputEntry id="OE_Repr_Cronica_alerta"><text>"PROT"</text></outputEntry>
        <outputEntry id="OE_Repr_Cronica_acao"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Pendente_DOC_Incompleto">
        <description>Pendente DOC: AngioTC ou documentacao incompleta</description>
        <inputEntry id="IE_Doc_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_2"><text>"Incompleto"</text></inputEntry>
        <inputEntry id="IE_Doc_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Doc_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Doc_obs"><text>"Documentacao incompleta - AngioTC obrigatoria com classificacao Stanford, extensao, complicacoes"</text></outputEntry>
        <outputEntry id="OE_Doc_fund"><text>"ACC/AHA 2024: AngioTC e padrao-ouro para diagnostico e planejamento cirurgico em disseccao aortica"</text></outputEntry>
        <outputEntry id="OE_Doc_alerta"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Doc_acao"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

      <rule id="Rule_Reprovado_DOC_Ausente">
        <description>Reprovado DOC: Documentacao essencial ausente</description>
        <inputEntry id="IE_Doc_Aus_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_Aus_2"><text>"NaoDocumentado"</text></inputEntry>
        <inputEntry id="IE_Doc_Aus_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_Aus_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Doc_Aus_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Doc_Aus_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OE_Doc_Aus_obs"><text>"Documentacao clinica essencial ausente - impossivel avaliar tipo e indicacao cirurgica"</text></outputEntry>
        <outputEntry id="OE_Doc_Aus_fund"><text>"ANS RN 465/2021, CPC 25 - Autorizacao impossivel sem documentacao minima (AngioTC)"</text></outputEntry>
        <outputEntry id="OE_Doc_Aus_alerta"><text>"DOC"</text></outputEntry>
        <outputEntry id="OE_Doc_Aus_acao"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- ========== FALLBACK RULE ========== -->

      <rule id="Rule_Fallback_30907071">
        <description>Fallback - Analise centro aortico URGENTE</description>
        <inputEntry id="IE_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="IE_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OE_Fallback_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OE_Fallback_obs"><text>"Caso requer analise centro aortico. ATENCAO: Se disseccao aguda, tratar como emergencia independente de autorizacao"</text></outputEntry>
        <outputEntry id="OE_Fallback_fund"><text>"ACC/AHA 2024: Tipo A = emergencia cirurgica imediata. Tipo B complicada = TEVAR urgente. Transferir centro aortico prioritariamente"</text></outputEntry>
        <outputEntry id="OE_Fallback_alerta"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OE_Fallback_acao"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
