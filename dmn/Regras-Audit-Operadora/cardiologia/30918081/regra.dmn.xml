<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:camunda="http://camunda.org/schema/1.0/dmn"
             id="Definitions_30918081"
             name="Ablação de Taquicardia Supraventricular"
             namespace="http://camunda.org/schema/1.0/dmn">

  <!--
    ===============================================================================
    TUSS: 30918081
    Procedimento: Ablação de Taquicardia Supraventricular
    Versão: 3.0.0-TIER1
    Data: 2026-02-07
    ===============================================================================

    INDICAÇÕES CLÍNICAS (DUT/ANS):
    TSV sintomática recorrente, via acessória com FA, WPW sintomático

    CONTRAINDICAÇÕES:
    Controle adequado com medicação, paciente assintomático, Classe III

    REFERÊNCIAS TÉCNICAS:
    SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024

    SISTEMA DE CLASSIFICAÇÃO SBC/DECA/ACC/AHA:
    - Classe I: Procedimento indicado e essencial (Nível de Evidência A/B)
    - Classe IIa: Procedimento provavelmente útil e razoável (Evidência B)
    - Classe IIb: Procedimento pode ser considerado (Evidência C)
    - Classe III: Procedimento não indicado ou potencialmente prejudicial

    ===============================================================================
  -->

  <decision id="Decision_30918081" name="Regra Clínica - Ablação de Taquicardia Supraventricular">
    <decisionTable id="DecisionTable_30918081" hitPolicy="FIRST">

      <!-- ========== INPUTS (5 - Padrão Cardiologia com CLASS) ========== -->

      <input id="Input_condicaoPaciente" label="Condição do Paciente" camunda:inputVariable="condicaoPaciente">
        <inputExpression id="InputExpression_condicaoPaciente" typeRef="string">
          <text>condicaoPaciente</text>
        </inputExpression>
        <inputValues id="InputValues_condicaoPaciente">
          <text>"TSVPNRecorrente","TSVRAntidrmicai","FAPreexcitacao"</text>
        </inputValues>
      </input>

      <input id="Input_historicoClinico" label="Histórico Clínico" camunda:inputVariable="historicoClinico">
        <inputExpression id="InputExpression_historicoClinico" typeRef="string">
          <text>historicoClinico</text>
        </inputExpression>
        <inputValues id="InputValues_historicoClinico">
          <text>"Adequado","Incompleto","NaoDocumentado"</text>
        </inputValues>
      </input>

      <input id="Input_classeIndicacao" label="Classe de Indicação (SBC/ACC/AHA)" camunda:inputVariable="classeIndicacao">
        <inputExpression id="InputExpression_classeIndicacao" typeRef="string">
          <text>classeIndicacao</text>
        </inputExpression>
        <inputValues id="InputValues_classeIndicacao">
          <text>"Classe I","Classe IIa","Classe IIb","Classe III"</text>
        </inputValues>
      </input>

      <input id="Input_feVE" label="Fração de Ejeção do VE (%)" camunda:inputVariable="feVE">
        <inputExpression id="InputExpression_feVE" typeRef="string">
          <text>feVE</text>
        </inputExpression>
        <inputValues id="InputValues_feVE">
          <text>"&lt;15%","15-30%","30-35%","35-50%","&gt;50%","NaoAvaliada","NaoAplica"</text>
        </inputValues>
      </input>

      <input id="Input_expectativaVidaSuperior1Ano" label="Expectativa de Vida >1 Ano" camunda:inputVariable="expectativaVidaSuperior1Ano">
        <inputExpression id="InputExpression_expectativaVidaSuperior1Ano" typeRef="boolean">
          <text>expectativaVidaSuperior1Ano</text>
        </inputExpression>
      </input>

      <!-- ========== OUTPUTS (3 - Padrão TIER-1) ========== -->

      <output id="Output_resultado" label="Resultado" name="resultado" typeRef="string">
        <outputValues id="OutputValues_resultado">
          <text>"Aprovado","Reprovado","Pendente"</text>
        </outputValues>
      </output>

      <output id="Output_observacao" label="Observação Clínica" name="observacao" typeRef="string" />

      <output id="Output_fundamentacao" label="Fundamentação Técnica" name="fundamentacao" typeRef="string" />
      <output id="Output_alertasDesperdicio" label="Alertas de Desperdício" name="alertasDesperdicio" typeRef="string">
        <outputValues id="OutputValues_alertasDesperdicio">
          <text>"NENHUM","DUP","FREQ","ESC","DOC","PROT","MULTI"</text>
        </outputValues>
      </output>

      <output id="Output_acaoRecomendada" label="Ação Recomendada" name="acaoRecomendada" typeRef="string">
        <outputValues id="OutputValues_acaoRecomendada">
          <text>"APROVAR","NEGAR","SOLICITAR_INFO","AGUARDAR_PRAZO","SUGERIR_ALTERNATIVA"</text>
        </outputValues>
      </output>


      <!-- ========== RULES ========== -->

      <!-- CONTRAINDICAÇÕES (Classe III) -->
      <rule id="Rule_Contraind_ClasseIII">
        <description>Contraindicação: Procedimento Classe III (não indicado)</description>
        <inputEntry id="InputEntry_Contraind_ClasseIII_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_3"><text>"Classe III"</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ClasseIII_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_observacao"><text>"Procedimento não indicado conforme classificação Classe III"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ClasseIII_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Classe III: Procedimento não indicado ou potencialmente prejudicial"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Contraind_ClasseIII_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Contraind_ClasseIII_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Contraind_ExpectativaVida">
        <description>Contraindicação: Expectativa de vida menor que 1 ano</description>
        <inputEntry id="InputEntry_Contraind_ExpVida_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Contraind_ExpVida_5"><text>false</text></inputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_observacao"><text>"Expectativa de vida insuficiente para benefício do procedimento"</text></outputEntry>
        <outputEntry id="OutputEntry_Contraind_ExpVida_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Procedimentos cardiovasculares requerem expectativa de vida compatível com benefício clínico"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Contraind_ExpectativaVida_alertasDesperdicio"><text>"PROT"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Contraind_ExpectativaVida_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- APROVAÇÕES Classe I (Indicação Forte) -->
      <rule id="Rule_Aprovado_ClasseI_FEVEBaixa">
        <description>Aprovado: Condição com Classe I e FEVE reduzida</description>
        <inputEntry id="InputEntry_Aprovado_CI_1"><text>"TSVPNRecorrente"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_4"><text>"&lt;15%","15-30%","30-35%"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_observacao"><text>"Indicação Classe I com FEVE reduzida - Procedimento essencial"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Classe I: Procedimento indicado, útil e efetivo (Nível de Evidência A)"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseI_FEVEBaixa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseI_FEVEBaixa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <rule id="Rule_Aprovado_ClasseI_Geral">
        <description>Aprovado: Indicação Classe I em condições apropriadas</description>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_3"><text>"Classe I"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CI_Geral_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_observacao"><text>"Indicação Classe I - Procedimento essencial e indicado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CI_Geral_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Classe I: Benefício >> Risco, procedimento deve ser realizado"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseI_Geral_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseI_Geral_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- APROVAÇÕES Classe IIa (Indicação Razoável) -->
      <rule id="Rule_Aprovado_ClasseIIa">
        <description>Aprovado: Indicação Classe IIa - Procedimento provavelmente útil</description>
        <inputEntry id="InputEntry_Aprovado_CIIa_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_3"><text>"Classe IIa"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIa_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_observacao"><text>"Indicação Classe IIa - Procedimento razoável e provavelmente útil"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIa_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Classe IIa: Benefício > Risco, procedimento é razoável"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseIIa_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseIIa_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- APROVAÇÕES Classe IIb (Indicação Possível) -->
      <rule id="Rule_Aprovado_ClasseIIb">
        <description>Aprovado: Indicação Classe IIb - Procedimento pode ser considerado</description>
        <inputEntry id="InputEntry_Aprovado_CIIb_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_2"><text>"Adequado"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_3"><text>"Classe IIb"</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Aprovado_CIIb_5"><text>true</text></inputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_resultado"><text>"Aprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_observacao"><text>"Indicação Classe IIb - Procedimento pode ser considerado"</text></outputEntry>
        <outputEntry id="OutputEntry_Aprovado_CIIb_fundamentacao"><text>"SBC/DECA TSV Ablação 2023, HRS/EHRA SVT Guidelines 2024 - Classe IIb: Benefício ≥ Risco, procedimento pode ser útil"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseIIb_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Aprovado_ClasseIIb_acaoRecomendada"><text>"APROVAR"</text></outputEntry>
      </rule>

      <!-- REPROVAÇÕES - Documentação Inadequada -->
      <rule id="Rule_Reprovado_HistoricoInsuficiente">
        <description>Reprovado: Histórico clínico insuficiente ou não documentado</description>
        <inputEntry id="InputEntry_Reprovado_Hist_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_2"><text>"Incompleto","NaoDocumentado"</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Reprovado_Hist_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_resultado"><text>"Reprovado"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_observacao"><text>"Documentação clínica insuficiente para justificar o procedimento"</text></outputEntry>
        <outputEntry id="OutputEntry_Reprovado_Hist_fundamentacao"><text>"ANS RN 465/2021: Necessária documentação clínica adequada para autorização de procedimentos"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Reprovado_HistoricoInsuficiente_alertasDesperdicio"><text>"DOC"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Reprovado_HistoricoInsuficiente_acaoRecomendada"><text>"NEGAR"</text></outputEntry>
      </rule>

      <!-- FALLBACK RULE -->
      <rule id="Rule_Fallback_30918081">
        <description>Regra padrão - Análise adicional necessária</description>
        <inputEntry id="InputEntry_Fallback_1"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_2"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_3"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_4"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_Fallback_5"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_Fallback_resultado"><text>"Pendente"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_observacao"><text>"Caso requer análise clínica adicional - critérios não totalmente atendidos"</text></outputEntry>
        <outputEntry id="OutputEntry_Fallback_fundamentacao"><text>"Avaliação individualizada necessária conforme complexidade clínica e diretrizes SBC/DECA"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Fallback_30918081_alertasDesperdicio"><text>"NENHUM"</text></outputEntry>
        <outputEntry id="OutputEntry_Rule_Fallback_30918081_acaoRecomendada"><text>"SOLICITAR_INFO"</text></outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>
